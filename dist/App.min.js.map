{
  "version": 3,
  "sources": ["../src/App.js"],
  "sourcesContent": ["// Function for reactive state management\nfunction onChange(target, callback, path = []) {\n  function createProxy(target, path) {\n    if (typeof target !== 'object' || target === null) {\n      return target;\n    }\n\n    return new Proxy(target, {\n      set(obj, property, value) {\n        const fullPath = [...path, property];\n        const oldValue = obj[property];\n        const result = Reflect.set(obj, property, createProxy(value, fullPath));\n\n        if (oldValue !== value) {\n          callback(fullPath, oldValue, value);\n        }\n\n        return result;\n      },\n      get(obj, property) {\n        const value = obj[property];\n        if (typeof value === 'object' && value !== null) {\n          return createProxy(value, [...path, property]);\n        }\n        return value;\n      }\n    });\n  }\n\n  return createProxy(target, path);\n}\n\n// Keep project and data in the global scope\nlet app = {\n  name: 'Polyrise',\n  summary: \"Free Mobile Website Builder!\",\n  description: \"Create awesome responsive websites. Easy and fast - No coding! Free for commercial use.\",\n  author: {\n    name: 'Michael Schwartz',\n    href: 'https://michaelsboost.com/',\n    src: 'imgs/author.jpg'\n  },\n  version: '1.0.1',\n  url: 'https://github.com/michaelsboost/Polyrise/',\n  license: 'https://github.com/michaelsboost/Polyrise/blob/gh-pages/LICENSE'\n}\nlet p = {\n  name: \"App name\",\n  version: \"0.0.1\",\n  title: \"An attractive title\",\n  description: \"The most attractive description ever!\",\n  author: \"Polyrise\",\n  url: \"https://michaelsboost.com/\",\n  meta: \"\",\n  libraries: [],\n  css: {\n    \"rootVariables\": {},\n    \"styles\": {},\n    \"animations\": {},\n    \"breakpoints\": {}\n  },\n  components: [],\n  html: [],\n  logo: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNTEyIgogICBoZWlnaHQ9IjUxMiIKICAgdmlld0JveD0iMCAwIDEzNS40NjY2NiAxMzUuNDY2NjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzEiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczEiIC8+PGcKICAgICBpZD0iZzI0Ij48cGF0aAogICAgICAgaWQ9InBhdGgyMiIKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiMxMzNhZDQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjk2LjE3NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJNIDkuNTgyODc3NSw2Ny43MzMzMzIgViAxMzUuMjAwNTMgTCAyNS4zODc1OTcsMTI2LjAzMTA3IFYgMTA2Ljk2MDQgNjcuNzMzMzMyIFogbSA4NS45Njg5MTE1LDAgLTU3Ljc2OTA4MywzMi4yOTcyNTggdiAxOC44MTA3MyBMIDEyNS44ODIyNCw2Ny43MzMzMzIgWiIgLz48cGF0aAogICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6IzA0YTJmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MTQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIgogICAgICAgaWQ9InBhdGgyMyIKICAgICAgIGQ9Im0gNDkuNTY4NTI3LDM1LjgxOTU1MyAtMTYuOTcwNDc4LDkuNzk3OTEgMCwtMTkuNTk1ODIgeiIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDIuMjE3MjY1MiwwLDAsMi4xNDcwMjkzLC0zNC40OTUyNjksLTkuMjYyMTYyKSIgLz48cGF0aAogICAgICAgaWQ9InBhdGgyNCIKICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiM4NjAwZWY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjk2LjE3NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiCiAgICAgICBkPSJNIDkuNTgyODc3NSwwLjI2NjEzMzYyIFYgNjcuNzMzMzMyIEggMjUuMzg3NTk3IFYgNDIuODU2ODE1IDI4LjMyNjk1MyBsIDcwLjMyNTkzOSwzOS4zMTU5NDYgLTAuMTYxNzQ3LDAuMDkwNDMgaCAzMC4zMzA0NTEgbCAwLjAwMiwtMC4wMDEgeiIgLz48L2c+PC9zdmc+Cg==\",\n  lang: \"en\",\n  dark: true,\n  previewDark: true,\n  pwa: false,\n  activePanel: 'layers'\n};\nlet d = {\n  shiftKey: null,\n  cmdKey: null,\n  iframeSize: null,\n  commandPalette: false,\n  selectedSize: 'none',\n  selectedLayerIds: [],\n  replaceCurrentSelection: null,\n  settings: null,\n  searchLibKey: null,\n  idMap: null,\n  clipboard: null,\n  history: [],\n  historyIndex: -1,\n  componentsVisible: true,\n  canvasCollapsed: null,\n  rootVarsCollapsed: null,\n  stylesCollapsed: null,\n  stylePropsCollapsed: null,\n  stylePseudosCollapsed: null,\n  pseudosSelectorIndex: 0,\n  breakpointKey: null,\n  pseudosSelector: null,\n  propsCollapsed: null,\n  stylesPropTarget: \"base\",\n  stylesTarget: null,\n  animationTarget: null,\n  animationKeyframe: null,\n  defaultValues: {\n    'opacity': '1',\n    'z-index': '1',\n    'line-height': 'normal',\n    'font-weight': '400',\n    'font-size': '16px',\n    'flex': '0 1 auto',\n    'grid-column': 'auto',\n    'grid-row': 'auto',\n    'font-stretch': 'normal',\n    'object-fit': 'contain',\n    'object-position': 'center',\n    'overflow': 'visible',\n    'visibility': 'visible',\n    'white-space': 'normal',\n    'text-transform': 'none',\n    'text-align': 'left',\n    'text-decoration': 'none',\n    'transform': 'none',\n    'transition': 'all 0.3s ease',\n    'animation': 'none',\n    'clip': 'auto',\n    'max-lines': 'none',\n    'default': '10px', // A generic default value for other cases\n  },\n  cssFixedValueProperties: {\n    \"position\": [\"static\", \"relative\", \"absolute\", \"fixed\", \"sticky\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"display\": [\"block\", \"inline\", \"inline-block\", \"flex\", \"grid\", \"inline-flex\", \"inline-grid\", \"none\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"overflow\": [\"visible\", \"hidden\", \"clip\", \"scroll\", \"auto\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"visibility\": [\"visible\", \"hidden\", \"collapse\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"float\": [\"left\", \"right\", \"none\", \"inline-start\", \"inline-end\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"clear\": [\"none\", \"left\", \"right\", \"both\", \"inline-start\", \"inline-end\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"white-space\": [\"normal\", \"nowrap\", \"pre\", \"pre-wrap\", \"pre-line\", \"break-spaces\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"flex-direction\": [\"row\", \"row-reverse\", \"column\", \"column-reverse\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"justify-content\": [\"flex-start\", \"flex-end\", \"center\", \"space-between\", \"space-around\", \"space-evenly\", \"start\", \"end\", \"left\", \"right\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"align-items\": [\"stretch\", \"flex-start\", \"flex-end\", \"center\", \"baseline\", \"first baseline\", \"last baseline\", \"start\", \"end\", \"self-start\", \"self-end\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"align-content\": [\"stretch\", \"flex-start\", \"flex-end\", \"center\", \"space-between\", \"space-around\", \"space-evenly\", \"start\", \"end\", \"baseline\", \"first baseline\", \"last baseline\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"flex-wrap\": [\"nowrap\", \"wrap\", \"wrap-reverse\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"background-attachment\": [\"scroll\", \"fixed\", \"local\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"background-clip\": [\"border-box\", \"padding-box\", \"content-box\", \"text\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"background-repeat\": [\"repeat\", \"repeat-x\", \"repeat-y\", \"no-repeat\", \"space\", \"round\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"background-size\": [\"auto\", \"cover\", \"contain\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"border-style\": [\"none\", \"hidden\", \"dotted\", \"dashed\", \"solid\", \"double\", \"groove\", \"ridge\", \"inset\", \"outset\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"border-width\": [\"thin\", \"medium\", \"thick\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"border-collapse\": [\"collapse\", \"separate\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"caption-side\": [\"top\", \"bottom\", \"block-start\", \"block-end\", \"inline-start\", \"inline-end\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"cursor\": [\"auto\", \"default\", \"none\", \"context-menu\", \"help\", \"pointer\", \"progress\", \"wait\", \"cell\", \"crosshair\", \"text\", \"vertical-text\", \"alias\", \"copy\", \"move\", \"no-drop\", \"not-allowed\", \"grab\", \"grabbing\", \"all-scroll\", \"col-resize\", \"row-resize\", \"n-resize\", \"e-resize\", \"s-resize\", \"w-resize\", \"ne-resize\", \"nw-resize\", \"se-resize\", \"sw-resize\", \"ew-resize\", \"ns-resize\", \"nesw-resize\", \"nwse-resize\", \"zoom-in\", \"zoom-out\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"direction\": [\"ltr\", \"rtl\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"empty-cells\": [\"show\", \"hide\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"list-style-type\": [\"disc\", \"circle\", \"square\", \"decimal\", \"decimal-leading-zero\", \"lower-roman\", \"upper-roman\", \"lower-greek\", \"lower-alpha\", \"lower-latin\", \"upper-alpha\", \"upper-latin\", \"armenian\", \"georgian\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"list-style-position\": [\"inside\", \"outside\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"table-layout\": [\"auto\", \"fixed\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-align\": [\"center\", \"end\", \"justify\", \"left\", \"right\", \"start\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-decoration-line\": [\"none\", \"underline\", \"overline\", \"line-through\", \"blink\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-decoration-style\": [\"solid\", \"double\", \"dotted\", \"dashed\", \"wavy\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-transform\": [\"none\", \"capitalize\", \"uppercase\", \"lowercase\", \"full-width\", \"full-size-kana\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"unicode-bidi\": [\"normal\", \"embed\", \"bidi-override\", \"isolate\", \"isolate-override\", \"plaintext\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"vertical-align\": [\"baseline\", \"sub\", \"super\", \"text-top\", \"text-bottom\", \"middle\", \"top\", \"bottom\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"word-break\": [\"normal\", \"break-all\", \"keep-all\", \"break-word\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"writing-mode\": [\"horizontal-tb\", \"vertical-rl\", \"vertical-lr\", \"sideways-rl\", \"sideways-lr\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"align-self\": [\"auto\", \"stretch\", \"flex-start\", \"flex-end\", \"center\", \"baseline\", \"first baseline\", \"last baseline\", \"start\", \"end\", \"self-start\", \"self-end\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"align-tracks\": [\"normal\", \"start\", \"center\", \"end\", \"stretch\", \"baseline\", \"first baseline\", \"last baseline\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"appearance\": [\"none\", \"auto\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"backface-visibility\": [\"visible\", \"hidden\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"box-sizing\": [\"content-box\", \"border-box\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"column-fill\": [\"auto\", \"balance\", \"balance-all\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"column-span\": [\"none\", \"all\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"flex-basis\": [\"auto\", \"fill\", \"max-content\", \"min-content\", \"fit-content\", \"content\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"flex-grow\": [\"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"flex-shrink\": [\"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"font-style\": [\"normal\", \"italic\", \"oblique\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"font-variant\": [\"normal\", \"small-caps\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"font-weight\": [\"normal\", \"bold\", \"bolder\", \"lighter\",\"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\", \"100\", \"200\", \"300\", \"400\", \"500\", \"600\", \"700\", \"800\", \"900\"],\n    \"hyphens\": [\"none\", \"manual\", \"auto\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"image-rendering\": [\"auto\", \"crisp-edges\", \"pixelated\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"isolation\": [\"auto\", \"isolate\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"line-break\": [\"auto\", \"loose\", \"normal\", \"strict\", \"anywhere\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"mask-type\": [\"luminance\", \"alpha\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"mix-blend-mode\": [\"normal\", \"multiply\", \"screen\", \"overlay\", \"darken\", \"lighten\", \"color-dodge\", \"color-burn\", \"hard-light\", \"soft-light\", \"difference\", \"exclusion\", \"hue\", \"saturation\", \"color\", \"luminosity\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"object-fit\": [\"fill\", \"contain\", \"cover\", \"none\", \"scale-down\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"overflow-anchor\": [\"auto\", \"none\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"overscroll-behavior\": [\"auto\", \"contain\", \"none\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"page-break-after\": [\"auto\", \"always\", \"avoid\", \"left\", \"right\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"page-break-before\": [\"auto\", \"always\", \"avoid\", \"left\", \"right\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"page-break-inside\": [\"auto\", \"avoid\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"pointer-events\": [\"auto\", \"none\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"resize\": [\"none\", \"both\", \"horizontal\", \"vertical\", \"block\", \"inline\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"scroll-behavior\": [\"auto\", \"smooth\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-orientation\": [\"mixed\", \"upright\", \"sideways\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"text-overflow\": [\"clip\", \"ellipsis\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"touch-action\": [\"auto\", \"none\", \"pan-x\", \"pan-left\", \"pan-right\", \"pan-y\", \"pan-up\", \"pan-down\", \"pinch-zoom\", \"manipulation\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"transform-style\": [\"flat\", \"preserve-3d\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"user-select\": [\"auto\", \"text\", \"none\", \"contain\", \"all\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"word-wrap\": [\"normal\", \"break-word\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"],\n    \"writing-mode\": [\"horizontal-tb\", \"vertical-rl\", \"vertical-lr\", \"sideways-rl\", \"sideways-lr\", \"inherit\", \"initial\", \"revert\", \"revert-layer\", \"unset\"]\n  },\n  cssRangedValueProperties: {\n    \"opacity\": { min: 0, max: 1, step: 0.01 },\n    \"z-index\": { min: -Infinity, max: Infinity, step: 1 },\n    \"line-height\": { min: 0, max: Infinity, step: 0.1 },\n    \"flex-grow\": { min: 0, max: Infinity, step: 0.1 },\n    \"flex-shrink\": { min: 0, max: Infinity, step: 0.1 },\n    \"order\": { min: -Infinity, max: Infinity, step: 1 },\n    \"columns\": { min: 1, max: Infinity, step: 1 },\n    \"column-count\": { min: 1, max: Infinity, step: 1 },\n    \"column-width\": { min: 0, max: Infinity, step: 1 },\n    \"font-size-adjust\": { min: 0, max: 1, step: 0.01 },\n    \"letter-spacing\": { min: -Infinity, max: Infinity, step: 0.1 },\n    \"word-spacing\": { min: -Infinity, max: Infinity, step: 0.1 },\n    \"aspect-ratio\": { min: 0, max: Infinity, step: 0.01 },\n    \"border-width\": { min: 0, max: Infinity, step: 1 },\n    \"margin\": { min: -Infinity, max: Infinity, step: 1 },\n    \"padding\": { min: 0, max: Infinity, step: 1 },\n    \"width\": { min: 0, max: Infinity, step: 1 },\n    \"height\": { min: 0, max: Infinity, step: 1 },\n    \"max-width\": { min: 0, max: Infinity, step: 1 },\n    \"max-height\": { min: 0, max: Infinity, step: 1 },\n    \"min-width\": { min: 0, max: Infinity, step: 1 },\n    \"min-height\": { min: 0, max: Infinity, step: 1 },\n    \"top\": { min: -Infinity, max: Infinity, step: 1 },\n    \"right\": { min: -Infinity, max: Infinity, step: 1 },\n    \"bottom\": { min: -Infinity, max: Infinity, step: 1 },\n    \"left\": { min: -Infinity, max: Infinity, step: 1 },\n    \"rotate\": { min: -360, max: 360, step: 1 },\n    \"scale\": { min: -Infinity, max: Infinity, step: 0.1 },\n    \"translate\": { min: -Infinity, max: Infinity, step: 1 },\n    \"perspective\": { min: 0, max: Infinity, step: 1 },\n    \"skew\": { min: -360, max: 360, step: 1 },\n    \"animation-duration\": { min: 0, max: Infinity, step: 0.1 },\n    \"animation-delay\": { min: 0, max: Infinity, step: 0.1 },\n    \"transition-duration\": { min: 0, max: Infinity, step: 0.1 },\n    \"transition-delay\": { min: 0, max: Infinity, step: 0.1 },\n    \"letter-spacing\": { min: -Infinity, max: Infinity, step: 0.1 },\n    \"text-indent\": { min: -Infinity, max: Infinity, step: 1 }\n  },\n  boxElements: [\n    'article',\n    'aside',\n    'div',\n    'figcaption',\n    'figure',\n    'footer',\n    'header',\n    'hgroup',\n    'label',\n    'li',\n    'main',\n    'nav',\n    'ol',\n    'picture',\n    'section',\n    'template',\n    'ul'\n  ],\n  textElements: [\n    'a',\n    'abbr',\n    'address',\n    'b',\n    'bdi',\n    'bdo',\n    'blockquote',\n    'button',\n    'cite',\n    'code',\n    'del',\n    'em',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'i',\n    'ins',\n    'kbd',\n    'label',\n    'legend',\n    'mark',\n    'output',\n    'p',\n    'samp',\n    'small',\n    'span',\n    'strike',\n    'strong',\n    'summary',\n    'sub',\n    'sup',\n    'time',\n    'u',\n    'var'\n  ],\n  breakElements: [\n    'br',\n    'hr',\n    'wbr'\n  ],\n  blocks: {\n    visible: true,\n    name: \"Elements\",\n    items: [\n      {\n        type: \"box\",\n        code: '<div></div>'\n      },\n      {\n        type: \"text\",\n        code: '<p>text</p>'\n      },\n      {\n        type: \"link\",\n        code: '<a href=\"https://michaelsboost.com/Polyrise\">Polyrise</a>'\n      },\n      {\n        type: \"button\",\n        code: '<button>text</button>'\n      },\n      {\n        type: \"list\",\n        code: '<ul><li>list item</li></ul>'\n      },\n      {\n        type: \"progress\",\n        code: '<progress value=\"25\" max=\"100\" />'\n      },\n      {\n        type: \"form\",\n        code: `<form>\n          <input\n            type=\"text\"\n            name=\"firstname\"\n            placeholder=\"First name\"\n            aria-label=\"First name\"\n            required\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email address\"\n            aria-label=\"Email address\"\n            autocomplete=\"email\"\n            required\n          />\n          <button type=\"submit\">Subscribe</button>\n          <fieldset>\n            <label for=\"terms\">\n              <input type=\"checkbox\" role=\"switch\" id=\"terms\" name=\"terms\" />\n              <span>I agree to the </span>\n              <a href=\"#\">Privacy Policy</a>\n            </label>\n          </fieldset>\n        </form>`\n      },\n      {\n        type: \"datalist\",\n        code: `<input list=\"eus29efzy\" type=\"search\" placeholder=\"Search...\" />\n        <datalist id=\"eus29efzy\">\n          <option value=\"Hello\"></option>\n          <option value=\"World\"></option>\n        </list>`\n      },\n      {\n        type: \"textarea\",\n        code: `<textarea placeholder=\"Text here\">Hello world</textarea>`\n      },\n      {\n        type: \"select\",\n        code: `<select>\n          <optgroup label=\"English\">\n            <option value=\"Hello\" selected>Hello</option>\n            <option value=\"World\">World</option>\n          </optgroup>\n          <optgroup label=\"Espa\u00F1ol\">\n            <option value=\"Hola\">Hola</option>\n            <option value=\"Mundo\">Mundo</option>\n          </optgroup>\n        </select>`\n      },\n      {\n        type: \"audio\",\n        code: `<figure>\n        <audio controls>\n          <source src=\"https://www.w3schools.com/html/horse.mp3\" type=\"audio/mpeg\">\n          Your browser does not support the audio element.\n        </audio>\n        <figcaption>\n          <span>Audio courtesy of </span>\n          <a href=\"https://www.w3schools.com/html/tryit.asp?filename=tryhtml5_audio_all\" target=\"_blank\">w3schools.com</a>\n        </figcaption>\n      </figure>`\n      },\n      {\n        type: \"video\",\n        code: `<figure>\n          <video controls>\n            <source src=\"https://www.w3schools.com/html/mov_bbb.mp4\" type=\"video/mp4\">\n            <source src=\"https://www.w3schools.com/html/mov_bbb.ogg\" type=\"video/ogg\">\n            Your browser does not support the video tag.\n          </video>\n          <figcaption>\n            <span>Video courtesy of </span>\n            <a href=\"https://www.bigbuckbunny.org/\" target=\"_blank\">Big Buck Bunny</a>\n            <span>.</span>\n          </figcaption>\n        </figure>`\n      },\n      {\n        type: \"YouTube Video\",\n        code: `<iframe width=\"576\" height=\"360\" src=\"https://www.youtube.com/embed/5rebMQj4Yiw\" title=\"Introducing my Character Party App\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" referrerpolicy=\"strict-origin-when-cross-origin\" allowfullscreen></iframe>`\n      },\n      {\n        type: \"image\",\n        code: `<figure>\n  <picture>\n    <!-- For high-resolution screens or larger viewports -->\n    <source media=\"(min-width: 800px)\" srcset=\"https://www.gstatic.com/webp/gallery/4.sm.webp\" type=\"image/webp\">\n    <!-- For medium-sized viewports -->\n    <source media=\"(min-width: 500px)\" srcset=\"https://www.gstatic.com/webp/gallery/4.sm.webp\" type=\"image/webp\">\n    <!-- Fallback for smaller viewports or if WebP is not supported -->\n    <img src=\"https://www.gstatic.com/webp/gallery/4.sm.jpg\" alt=\"${app.name}\">\n  </picture>\n  <figcaption>\n    <span>Image courtesy of </span>\n    <a href=\"https://developers.google.com/speed/webp/gallery\" target=\"_blank\">Google Developer's</a>\n    <span>.</span>\n  </figcaption>\n</figure>\n`\n      },\n      {\n        type: \"vector\",\n        code: `<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"isolation:isolate\" viewBox=\"0 0 1080 1080\" preserveAspectRatio=\"xMidYMin\">\n  <rect width=\"1080\" height=\"1080\" style=\"fill:rgb(248,255,247)\">\n  </rect>\n  <line x1=\"159.75\" y1=\"926\" x2=\"920.25\" y2=\"926\" stroke-width=\"18\" stroke=\"rgb(220,223,220)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n  </line>\n  <g>\n  <g>\n  <path d=\" M 544.801 430.75 Q 544.801 504.551 544.801 580.75 Q 544.801 656.948 544.801 743.75\" fill=\"none\" stroke-width=\"50\" stroke=\"rgb(253,222,189)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n  </path>\n  <g>\n  <path d=\" M 401.518 559.186 C 386.621 532.744 379.123 501.761 381.611 469.256 C 388.303 381.839 464.707 316.3 552.124 322.992 C 639.542 329.683 705.081 406.088 698.389 493.505 C 695.901 526.01 683.774 555.49 665.026 579.357 L 401.518 559.186 Z \" fill=\"rgb(255,146,108)\">\n  </path>\n  <path d=\" M 401.518 559.186 C 426.684 603.855 472.963 635.566 527.876 639.77 C 582.788 643.973 633.355 619.675 665.026 579.357 L 401.518 559.186 Z \" fill=\"rgb(0,72,99)\">\n  </path>\n</g>\n<g>\n<line x1=\"553.901\" y1=\"760.75\" x2=\"553.901\" y2=\"908.75\" stroke-width=\"38\" stroke=\"rgb(0,72,99)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n</line>\n<line x1=\"553.901\" y1=\"618.75\" x2=\"553.901\" y2=\"760.75\" stroke-width=\"38\" stroke=\"rgb(0,72,99)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n</line>\n</g>\n<g>\n<line x1=\"500\" y1=\"760.75\" x2=\"500\" y2=\"908.75\" stroke-width=\"38\" stroke=\"rgb(0,72,99)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n</line>\n<line x1=\"500\" y1=\"618.75\" x2=\"500\" y2=\"760.75\" stroke-width=\"38\" stroke=\"rgb(0,72,99)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n</line>\n</g>\n<path d=\" M 544.801 430.75 Q 544.801 504.551 544.801 580.75 Q 544.801 656.948 544.801 743.75\" fill=\"none\" stroke-width=\"50\" stroke=\"rgb(253,222,189)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"3\">\n</path>\n</g>\n<path d=\" M 496.638 228.982 C 499.271 194.588 529.332 168.802 563.726 171.435 C 598.12 174.068 623.906 204.129 621.273 238.523 C 618.64 272.917 588.579 298.703 554.185 296.07 C 519.791 293.438 494.005 263.376 496.638 228.982 Z \" fill=\"rgb(253,222,189)\">\n</path>\n</g>\n<g style=\"mix-blend-mode:soft-light;\">\n  <rect x=\"0\" y=\"0\" width=\"1080\" height=\"1080\" transform=\"matrix(1,0,0,1,0,0)\" fill=\"rgb(243,255,241)\">\n  </rect>\n</g>\n</svg>`\n      },\n      {\n        type: \"iframe\",\n        code: `<iframe src=\"https://michaelsboost.com/\">\n          Your browser does not support the iframe tag.\n        </iframe>`\n      },\n      {\n        type: \"dialog\",\n        code: `<dialog open>\n  <article>\n    <header>\n      <button aria-label=\"Close\" rel=\"prev\" onclick=\"this.closest('dialog').removeAttribute('open');\"></button>\n      <h3>Confirm your action!</h3>\n    </header>\n    <p>\n      Cras sit amet maximus risus. Pellentesque sodales odio sit amet augue finibus\n      pellentesque. Nullam finibus risus non semper euismod.\n    </p>\n    <footer>\n      <button role=\"button\" class=\"secondary\" onclick=\"this.closest('dialog').removeAttribute('open');\">\n        Cancel\n      </button>\n      <button autofocus onclick=\"this.closest('dialog').removeAttribute('open');\">\n        Confirm\n      </button>\n    </footer>\n  </article>\n</dialog>`\n      },\n      {\n        type: \"details\",\n        code: `<details>\n  <summary>Accordion</summary>\n  <p>\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque urna diam,\n    tincidunt nec porta sed, auctor id velit. Etiam venenatis nisl ut orci consequat, vitae\n    tempus quam commodo. Nulla non mauris ipsum. Aliquam eu posuere orci. Nulla convallis\n    lectus rutrum quam hendrerit, in facilisis elit sollicitudin. Mauris pulvinar pulvinar\n    mi, dictum tristique elit auctor quis. Maecenas ac ipsum ultrices, porta turpis sit\n    amet, congue turpis.\n  </p>\n</details>`\n      },\n      {\n        type: \"canvas\",\n        code: `<canvas>Your browser does not support the canvas element.</canvas>`\n      },\n      {\n        type: \"meter\",\n        code: '<meter value=\"0.6\">60%</meter>'\n      },\n      {\n        type: \"hr\",\n        code: '<hr/>'\n      }   \n    ]\n  }\n};\nconst icons = (function() {\n  const SidebarIconCSS = \"h-4 w-4\";\n  const navIconCSS = \"h-3 w-3\";\n  const modalIconCSS = \"h-4 w-4\";\n  const previewIconCSS = \"h-3\";\n\n  return {\n    logo: `<svg\n      class=\"${SidebarIconCSS}\" \n      width=\"512\"\n      height=\"512\"\n      viewBox=\"0 0 135.46666 135.46667\"\n      xml:space=\"preserve\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlns:svg=\"http://www.w3.org/2000/svg\"\n      fill=\"currentColor\">\n      <path\n        d=\"M 9.5828775,0.26613362 V 135.20053 L 25.387597,126.03107 V 28.326953 l 70.325939,39.315946 -57.93083,32.387691 v 18.81073 L 125.88224,67.733332 Z M 37.783223,46.606974 V 88.679857 L 75.411417,67.643416 Z\" />\n    </svg>`,\n    twitter: `<svg class=\"${SidebarIconCSS}\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n    <defs\n     id=\"defs2\"><clipPath\n       clipPathUnits=\"userSpaceOnUse\"\n       id=\"clipPath7\"><path\n         style=\"display:none;fill:#2a34ff;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1\"\n         d=\"M 2.7194315,3.6106111 H 8.5920036 L 21.280954,20.389389 h -5.727371 z\"\n         id=\"path7\" /><path\n         id=\"lpe_path-effect7\"\n         style=\"fill:#2a34ff;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1\"\n         class=\"powerclip\"\n         d=\"M -2.8448815,-3.9722732 H 26.113213 V 27.972273 H -2.8448815 Z M 2.7194315,3.6106111 15.553583,20.389389 h 5.727371 L 8.5920036,3.6106111 Z\" /></clipPath><clipPath\n       clipPathUnits=\"userSpaceOnUse\"\n       id=\"clipPath11\"><rect\n         style=\"fill:#ff2a2a;fill-opacity:1;stroke:none;stroke-width:1.5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1\"\n         id=\"rect11\"\n         width=\"21.586601\"\n         height=\"18.278778\"\n         x=\"1.2021173\"\n         y=\"2.8606112\" /></clipPath></defs><g\n     style=\"fill:none;stroke:currentColor;stroke-width:1.5\"\n     id=\"g2\"\n     transform=\"translate(-0.04613684)\"><g\n       id=\"g8\"\n       clip-path=\"url(#clipPath11)\"><path\n         d=\"M 2.7194315,3.6106111 H 8.5920036 L 21.280954,20.389389 h -5.727371 z\"\n         id=\"path2-8\" /><path\n         d=\"M 20.541589,1.5132639 19.650846,2.5619375 18.760104,3.6106111 17.869362,4.6592848 16.978619,5.7079584 16.087877,6.756632 15.197135,7.8053056 14.306392,8.8539793 13.41565,9.9026529 12.524908,10.951326 11.634165,12 10.743423,13.048674 9.852681,14.097347 8.961938,15.146021 8.071196,16.194695 7.1804539,17.243368 6.2897116,18.292042 5.3989693,19.340715 4.5082269,20.389389 3.6174846,21.438063 2.7267423,22.486736\"\n         id=\"path4\"\n         clip-path=\"url(#clipPath7)\" /></g></g>\n    </svg>`,\n    heart: `<svg class=\"w-3\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <path d=\"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z\" />\n    </svg>`,\n    plus: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 4.5v15m7.5-7.5h-15\" />\n    </svg>`,\n    layers: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3\" />\n    </svg>`,\n    swatch: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z\" />\n    </svg>`,\n    sun: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z\" />\n    </svg>`,\n    moon: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z\" />\n    </svg>`,\n    play: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\" />\n    </svg>`,\n    camera: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\" />\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\" />\n    </svg>`,\n    cog: `<svg class=\"${SidebarIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\" />\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n    </svg>`,\n    rotate: `<svg class=\"${previewIconCSS}\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <path d=\"M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z\" />\n    </svg>`,\n    times: `<svg class=\"${modalIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18 18 6M6 6l12 12\" />\n    </svg>`,\n    search: `<svg class=\"${modalIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z\" />\n    </svg>`,\n    file: `<svg class=\"h-3 -mt-1\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\">\n      <path d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z\" />\n    </svg>`,\n    import: `<svg class=\"h-3 -mt-1 transform origin-center scale-125\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <path d=\"M128 64c0-35.3 28.7-64 64-64H352V128c0 17.7 14.3 32 32 32H512V448c0 35.3-28.7 64-64 64H192c-35.3 0-64-28.7-64-64V336H302.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H128V64zm0 224v48H24c-13.3 0-24-10.7-24-24s10.7-24 24-24H128zM512 128H384V0L512 128z\" />\n    </svg>`,\n    upload: `<svg class=\"${modalIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5\" />\n    </svg>`,\n    download: `<svg class=\"h-3 -mt-1 transform origin-center scale-125\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <path d=\"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z\" />\n    </svg>`,\n    codepen: `<svg class=\"h-3 -mt-1 transform origin-center scale-125\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n      <path d=\"M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z\" />\n    </svg>`,\n    arrowDown: `<svg class=\"${navIconCSS}\" viewBox='0 0 576 512' style='color: unset;'>\n      <path \n        fill='currentColor' \n        d='M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z'/>\n    </svg>`,\n    eye: `<svg class=\"${navIconCSS}\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n      <path \n        fill=\"currentColor\" \n        d=\"M572.52,241.4c-1.5-1.8-38.5-46-93.94-90.67C417.8,111.16,358.8,85.33,288,85.33S158.2,111.16,97.42,150.72C41.98,195.4,4.98,239.6,3.48,241.4A32,32,0,0,0,0,256a32,32,0,0,0,3.48,14.6c1.5,1.8,38.5,46,93.94,90.67C158.2,400.84,217.2,426.67,288,426.67s129.8-25.83,190.58-65.4c55.44-44.67,92.44-88.87,93.94-90.67A32,32,0,0,0,576,256,32,32,0,0,0,572.52,241.4ZM288,384a128,128,0,1,1,128-128A128,128,0,0,1,288,384Zm0-192a64,64,0,1,0,64,64A64,64,0,0,0,288,192Z\"/>\n    </svg>`,\n    eyeSlash: `\n    <svg class=\"${navIconCSS}\" viewBox=\"0 0 640 512\" style=\"color: unset;\">\n      <path \n        fill=\"currentColor\" \n        d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z\"/>\n    </svg>`,\n    commandKey: `<svg class=\"${navIconCSS}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-0.7 -0.596 432.75714 370.21021\">\n  <path\n    fill=\"currentColor\"\n    stroke-width=\"1.82857\"\n    d=\"M 90.010716,-37.596 C 39.849447,-37.596 -0.7,2.9560437 -0.7,52.854 c 0,50.16127 40.812759,90.97356 90.710716,90.57858 h 42.392864 v 70.83214 H 90.010716 C 39.849447,214.26472 -0.7,254.68463 -0.7,304.58258 c 0,50.29293 40.549447,90.57857 90.710716,90.57857 49.897964,0 90.450004,-40.28564 90.450004,-90.57857 v -42.26429 h 70.56786 v 42.26429 c 0,50.29293 40.41681,90.57857 90.44642,90.57857 50.16127,0 90.58215,-40.28564 90.58215,-90.57857 0,-49.89795 -40.42088,-90.31786 -90.58215,-90.31786 H 299.08215 V 143.43258 H 341.475 c 50.16127,0 90.58215,-40.41731 90.58215,-90.57858 0,-49.8979563 -40.42088,-90.45 -90.58215,-90.45 -50.02961,0 -90.70974,40.5520437 -90.44642,90.45 V 95.511146 H 180.46072 V 52.854 c 0,-49.8979563 -40.55204,-90.45 -90.450004,-90.45 z m 0.13214,48.053572 c 23.303254,0 42.260724,18.961043 42.260724,42.264285 V 95.378996 H 90.142856 c -23.69819,0 -42.657141,-18.95892 -42.657141,-42.657139 0,-23.303242 18.958951,-42.264285 42.657141,-42.264285 z m 251.203574,0 c 23.69822,0 42.65715,18.961043 42.65715,42.264285 0,23.698219 -18.95893,42.657139 -42.65715,42.657139 H 299.08215 V 52.721857 c 0,-23.303242 18.96105,-42.264285 42.26428,-42.264285 z M 180.46072,143.56472 h 70.7 v 70.7 h -70.7 z M 90.142856,262.31829 h 42.260724 v 42.26429 c 0,23.6982 -18.95747,42.65714 -42.260724,42.65714 -23.69819,0 -42.657141,-18.95894 -42.657141,-42.65714 0,-23.30325 18.958951,-42.26429 42.657141,-42.26429 z m 208.939294,0 h 42.26428 c 23.69822,0 42.65715,18.96104 42.65715,42.26429 0,23.6982 -18.95893,42.65714 -42.65715,42.65714 -23.30323,0 -42.26428,-18.95894 -42.26428,-42.65714 z\" />\n</svg>`,\n    plusFill: `<svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n      <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n    </svg>`,\n    shift: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"up-long\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M318 177.5c3.8-8.8 2-19-4.6-26l-136-144C172.9 2.7 166.6 0 160 0s-12.9 2.7-17.4 7.5l-136 144c-6.6 7-8.4 17.2-4.6 26S14.4 192 24 192h88l0 288c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32l0-288h88c9.6 0 18.2-5.7 22-14.5z\"></path></svg>`,\n    move: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrows-up-down-left-right\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4V224H109.3l9.4-9.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4H224V402.7l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4V288H402.7l-9.4 9.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l9.4 9.4H288V109.3l9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64z\"></path></svg>`,\n    undo: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrow-rotate-left\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z\"></path></svg>`,\n    redo: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrow-rotate-right\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z\"></path></svg>`,\n    trash: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"trash\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\"></path></svg>`,\n    clone: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"clone\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z\"></path></svg>`,\n    cut: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"scissors\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM160 112c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM112 448c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z\"></path></svg>`,\n    copy: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"copy\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z\"></path></svg>`,\n    group: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"hand-pointer\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M128 40c0-22.1 17.9-40 40-40s40 17.9 40 40V188.2c8.5-7.6 19.7-12.2 32-12.2c25.3 0 46 19.5 47.9 44.3c8.5-7.7 19.8-12.3 32.1-12.3c25.3 0 46 19.5 47.9 44.3c8.5-7.7 19.8-12.3 32.1-12.3c26.5 0 48 21.5 48 48v32 64c0 70.7-57.3 128-128 128l-16 0H240l-.1 0h-5.2c-5 0-9.9-.3-14.7-1c-55.3-5.6-106.2-34-140-79L8 336c-13.3-17.7-9.7-42.7 8-56s42.7-9.7 56 8l56 74.7V40zM240 304c0-8.8-7.2-16-16-16s-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304zm48-16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304c0-8.8-7.2-16-16-16zm80 16c0-8.8-7.2-16-16-16s-16 7.2-16 16v96c0 8.8 7.2 16 16 16s16-7.2 16-16V304z\"></path></svg>`,\n    paste: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"paste\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm256 88v96h96l-96-96z\"></path></svg>`,\n    bold: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"bold\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M0 64C0 46.3 14.3 32 32 32H80 96 224c70.7 0 128 57.3 128 128c0 31.3-11.3 60.1-30 82.3c37.1 22.4 62 63.1 62 109.7c0 70.7-57.3 128-128 128H96 80 32c-17.7 0-32-14.3-32-32s14.3-32 32-32H48V256 96H32C14.3 96 0 81.7 0 64zM224 224c35.3 0 64-28.7 64-64s-28.7-64-64-64H112V224H224zM112 288V416H256c35.3 0 64-28.7 64-64s-28.7-64-64-64H224 112z\"></path></svg>`,\n    italic: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"italic\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M128 64c0-17.7 14.3-32 32-32H352c17.7 0 32 14.3 32 32s-14.3 32-32 32H293.3L160 416h64c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H90.7L224 96H160c-17.7 0-32-14.3-32-32z\"></path></svg>`,\n    underline: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"underline\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M16 64c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H128V224c0 53 43 96 96 96s96-43 96-96V96H304c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H384V224c0 88.4-71.6 160-160 160s-160-71.6-160-160V96H48C30.3 96 16 81.7 16 64zM0 448c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32z\"></path></svg>`,\n    strike: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"strikethrough\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M161.3 144c3.2-17.2 14-30.1 33.7-38.6c21.1-9 51.8-12.3 88.6-6.5c11.9 1.9 48.8 9.1 60.1 12c17.1 4.5 34.6-5.6 39.2-22.7s-5.6-34.6-22.7-39.2c-14.3-3.8-53.6-11.4-66.6-13.4c-44.7-7-88.3-4.2-123.7 10.9c-36.5 15.6-64.4 44.8-71.8 87.3c-.1 .6-.2 1.1-.2 1.7c-2.8 23.9 .5 45.6 10.1 64.6c4.5 9 10.2 16.9 16.7 23.9H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H270.1c-.1 0-.3-.1-.4-.1l-1.1-.3c-36-10.8-65.2-19.6-85.2-33.1c-9.3-6.3-15-12.6-18.2-19.1c-3.1-6.1-5.2-14.6-3.8-27.4zM348.9 337.2c2.7 6.5 4.4 15.8 1.9 30.1c-3 17.6-13.8 30.8-33.9 39.4c-21.1 9-51.7 12.3-88.5 6.5c-18-2.9-49.1-13.5-74.4-22.1c-5.6-1.9-11-3.7-15.9-5.4c-16.8-5.6-34.9 3.5-40.5 20.3s3.5 34.9 20.3 40.5c3.6 1.2 7.9 2.7 12.7 4.3l0 0 0 0c24.9 8.5 63.6 21.7 87.6 25.6l0 0 .2 0c44.7 7 88.3 4.2 123.7-10.9c36.5-15.6 64.4-44.8 71.8-87.3c3.6-21 2.7-40.4-3.1-58.1H335.1c7 5.6 11.4 11.2 13.9 17.2z\"></path></svg>`,\n    subscript: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"subscript\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32H47.3l89.6 128L47.3 384H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H64c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H304.7L215.1 256l89.6-128H320c17.7 0 32-14.3 32-32s-14.3-32-32-32H288c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64H32zM480 320c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 361.5 404.3 368 416 368v80c-17.7 0-32 14.3-32 32s14.3 32 32 32h32 32c17.7 0 32-14.3 32-32s-14.3-32-32-32V320z\"></path></svg>`,\n    superscript: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"superscript\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M480 32c0-11.1-5.7-21.4-15.2-27.2s-21.2-6.4-31.1-1.4l-32 16c-15.8 7.9-22.2 27.1-14.3 42.9C393 73.5 404.3 80 416 80v80c-17.7 0-32 14.3-32 32s14.3 32 32 32h32 32c17.7 0 32-14.3 32-32s-14.3-32-32-32V32zM32 64C14.3 64 0 78.3 0 96s14.3 32 32 32H47.3l89.6 128L47.3 384H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H64c10.4 0 20.2-5.1 26.2-13.6L176 311.8l85.8 122.6c6 8.6 15.8 13.6 26.2 13.6h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H304.7L215.1 256l89.6-128H320c17.7 0 32-14.3 32-32s-14.3-32-32-32H288c-10.4 0-20.2 5.1-26.2 13.6L176 200.2 90.2 77.6C84.2 69.1 74.4 64 64 64H32z\"></path></svg>`,\n    heading: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"heading\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M0 64C0 46.3 14.3 32 32 32H80h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H112V208H336V96H320c-17.7 0-32-14.3-32-32s14.3-32 32-32h48 48c17.7 0 32 14.3 32 32s-14.3 32-32 32H400V240 416h16c17.7 0 32 14.3 32 32s-14.3 32-32 32H368 320c-17.7 0-32-14.3-32-32s14.3-32 32-32h16V272H112V416h16c17.7 0 32 14.3 32 32s-14.3 32-32 32H80 32c-17.7 0-32-14.3-32-32s14.3-32 32-32H48V240 96H32C14.3 96 0 81.7 0 64z\"></path></svg>`,\n    paragraph: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"paragraph\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M192 32h64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H384l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352H288V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H192c-88.4 0-160-71.6-160-160s71.6-160 160-160z\"></path></svg>`,\n    quote: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"quote-left\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z\"></path></svg>`,\n    link: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"link\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\"></path></svg>`,\n    listBullet: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"list-ul\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z\"></path></svg>`,\n    listNumbers: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"list-ol\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M24 56c0-13.3 10.7-24 24-24H80c13.3 0 24 10.7 24 24V176h16c13.3 0 24 10.7 24 24s-10.7 24-24 24H40c-13.3 0-24-10.7-24-24s10.7-24 24-24H56V80H48C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432H120c13.3 0 24 10.7 24 24s-10.7 24-24 24H32c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"></path></svg>`,\n    icons: `<svg class=\"${navIconCSS}\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"icons\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\" data-fa-i2svg=\"\"><path fill=\"currentColor\" d=\"M532.3 7.3C539.7 13.3 544 22.4 544 32V176c0 26.5-28.7 48-64 48s-64-21.5-64-48s28.7-48 64-48V71L384 90.2V208c0 26.5-28.7 48-64 48s-64-21.5-64-48s28.7-48 64-48V64c0-15.3 10.8-28.4 25.7-31.4l160-32c9.4-1.9 19.1 .6 26.6 6.6zM106.7 304l11.8-17.8c5.9-8.9 15.9-14.2 26.6-14.2h61.7c10.7 0 20.7 5.3 26.6 14.2L245.3 304H272c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H80c-26.5 0-48-21.5-48-48V352c0-26.5 21.5-48 48-48h26.7zM224 408c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM510.7 278.3L472.3 368H528c6.7 0 12.6 4.1 15 10.4s.6 13.3-4.4 17.7l-128 112c-5.6 4.9-13.9 5.3-19.9 .9s-8.2-12.4-5.3-19.2L423.7 400H368c-6.7 0-12.6-4.1-15-10.4s-.6-13.3 4.4-17.7l128-112c5.6-4.9 13.9-5.3 19.9-.9s8.2 12.4 5.3 19.2zm-339-59.2c-6.5 6.5-17 6.5-23 0L51.9 119.2c-28-29-26.5-76.9 5-103.9c27-23.5 68.4-19 93.4 6.5l10 10.5 9.5-10.5c25-25.5 65.9-30 93.9-6.5c31 27 32.5 74.9 4.5 103.9l-96.4 99.9z\"></path></svg>`\n  };\n})();\n\n// Reactive objects\nconst project = onChange(p, (property, oldValue, newValue) => {\n  if (oldValue !== newValue) {\n    localStorage.setItem('Polyrise', JSON.stringify(project));\n    App.render('#app');\n    let string = property.toString();\n    if (string === 'activePanel') getIFrameClientSize();\n    if (!App.initialRender) {\n      // diff nodes\n      const diff = ['lang', 'libraries', 'html', 'styles', 'title', 'description', 'author', 'url', 'meta', 'previewDark'];\n      if (diff.includes(string)) renderPreview();\n\n      if (string === \"dark\") {\n        App.render('#app');\n        document.documentElement.setAttribute('data-theme', project.dark ? 'dark' : 'light');\n        document.querySelector('meta[name=apple-mobile-web-app-status-bar-style]').setAttribute('content', project.dark ? 'black-translucent' : 'default');\n        document.querySelector('meta[name=theme-color]').setAttribute('content', project.dark ? '#13171f' : '#ffffff');\n        document.querySelector('meta[name=msapplication-navbutton-color]').setAttribute('content', project.dark ? '#13171f' : '#ffffff');\n      }\n    }\n  }\n});\nconst data = onChange(d, (property, oldValue, newValue) => {\n  // Only render if the actual value has changed\n  if (oldValue !== newValue) {\n    const string = property.toString();\n    if (string === \"stylesTarget\") {\n      if (data.stylesTarget && data.shiftKey && data.cmdKey) {\n        clearAllSelections();\n        App.render('#app');\n        collectSelectedIDs(project.html);\n      }\n    } else {\n      App.render('#app');\n    }\n  }\n});\nwindow.project = project;\nwindow.data = data;\n\n// Components\nfunction LeftMenubar() {\n  const buttonSize = \"w-full\";\n\n  return `<ul class=\"p-0 m-0\">\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"toggle menu\"\n      name=\"toggle menu\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent\"\n      style=\"color: unset;\"\n      onclick=\"data.menuDialog = true\"\n    >\n      ${icons.logo}\n    </button>\n  </li>\n  <li class=\"list-none m-0\">\n    <a\n      aria-label=\"developer's twitter page\"\n      name=\"developer's twitter page\"\n      class=\"${buttonSize} text-sm border-0 px-4 py-3 rounded-md bg-transparent\"\n      style=\"color: unset;\"\n      role=\"button\"\n      href=\"https://twitter.com/michaelsboost\"\n    >\n      ${icons.twitter}\n    </a>\n  </li>\n  <li class=\"list-none m-0\">\n    <a\n      href=\"https://michaelsboost.com/donate/\"\n      aria-label=\"Donation helps developer maintence\"\n      target=\"_blank\"\n      role=\"button\"\n      class=\"${buttonSize} text-sm border-0 px-4 py-3 rounded-md bg-transparent text-red-400\"\n    >\n      ${icons.heart}\n    </a>\n  </li>\n  <li class=\"list-none m-0\">\n    <button \n      aria-label=\"add blocks\" \n      name=\"add blocks\" \n      class=\"w-11 text-sm border-0 px-0 py-3 mb-2\"\n      onclick=\"project.activePanel = project.activePanel === 'blocks' ? null : 'blocks'\"\n    >\n      ${icons.plus}\n    </button>\n  </li>\n</ul>\n<ul class=\"p-0 m-0\">\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"toggle layers\"\n      name=\"toggle layers\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent ${project.activePanel === 'layers' ? 'text-blue-500' : ''}\"\n      onclick=\"project.activePanel = project.activePanel === 'layers' ? null : 'layers'\"\n    >\n      ${icons.layers}\n    </button>\n  </li>\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"toggle inspector\"\n      name=\"toggle inspector\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent ${project.activePanel === 'inspector' ? 'text-blue-500' : ''} lg:hidden\"\n      onclick=\"project.activePanel = project.activePanel === 'inspector' ? null : 'inspector'\"\n    >\n      ${icons.swatch}\n    </button>\n  </li>\n</ul>\n<ul class=\"p-0 m-0\">\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"toggle theme\"\n      name=\"toggle theme\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent\"\n      style=\"color: unset;\"\n      onclick=\"project.previewDark = !project.previewDark;\"\n    >\n      ${project.previewDark ? icons.sun : icons.moon}\n    </button>\n  </li>\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"render preview\"\n      name=\"render preview\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent\"\n      style=\"color: unset;\"\n      onclick=\"renderPreview(true)\"\n    >\n      ${icons.play}\n    </button>\n  </li>\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"full page screenshot\"\n      name=\"full page screenshot\"\n      class=\"${buttonSize} text-sm border-0 px-0 py-3 rounded-md bg-transparent\"\n      style=\"color: unset;\"\n      onclick=\"screenshot()\"\n    >\n      ${icons.camera}\n    </button>\n  </li>\n  <li class=\"list-none m-0\">\n    <button\n      aria-label=\"settings button\"\n      name=\"settings\"\n      class=\"${buttonSize} text-sm border-0 px-4 py-3 rounded-md bg-transparent -mt-1\"\n      style=\"color: unset;\"\n      onclick=\"data.settings = !data.settings;\"\n    >\n      ${icons.cog}\n    </button>\n  </li>\n</ul>`;\n}\nfunction Menu() {\n  let menuDialog = `<ul class=\"py-4 px-0\">\n              <li class=\"list-none\">\n                <div class=\"items-center text-center\">\n                  <div>\n                    <a \n                      aria-label=\"project homepage\"\n                      name=\"project homepage\"\n                      target=\"_blank\" \n                      href=\"${app.url}\">\n                      <img \n                        alt=\"logo\"\n                        class=\"my-4 w-24 m-auto\"\n                        src=\"imgs/logo.svg\"\n                        loading=\"lazy\" />\n                    </a>\n                    <div class=\"text-2xl\">\n                      About ${app.name}\n                    </div>\n                    <div class=\"my-2 text-xs\">\n                      Version ${app.version}\n                    </div>\n                    <a \n                      target=\"_blank\" \n                      class=\"text-sm underline mb-2 text-blue-500\" \n                      href=\"${app.license}\">\n                        Open Source License\n                    </a>\n                  </div>\n                </div>\n              </li>\n              <li class=\"p-0 list-none\">\n                <hr />\n              </li>\n              <li class=\"p-0 list-none -mt-2\">\n                <button \n                  class=\"w-full flex gap-2 text-sm capitalize border-0 p-2 rounded-md bg-transparent\" \n                  style=\"color: unset;\" \n                  onclick=\"newProject();\">\n                  <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\" />\n                  </svg>\n                  <span>new project</span>\n                </button>\n              </li>\n              <li class=\"p-0 list-none\">\n                <button \n                  class=\"w-full flex gap-2 text-sm capitalize border-0 p-2 rounded-md bg-transparent\" \n                  style=\"color: unset;\" \n                  onclick=\"data.menuDialog = null; importProject()\">\n                  <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\" />\n                  </svg>\n                  <span>import project</span>\n                </button>\n              </li>\n              <li class=\"p-0 list-none\">\n                <button \n                  class=\"w-full flex gap-2 text-sm capitalize border-0 p-2 rounded-md bg-transparent\" \n                  style=\"color: unset;\" \n                  onclick=\"data.menuDialog = null; downloadJSON()\">\n                  <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15M9 12l3 3m0 0 3-3m-3 3V2.25\" />\n                  </svg>\n                  <span>download json</span>\n                </button>\n              </li>\n              <li class=\"p-0 list-none\">\n                <button \n                  class=\"w-full flex gap-2 text-sm capitalize border-0 p-2 rounded-md bg-transparent\" \n                  style=\"color: unset;\" \n                  onclick=\"data.menuDialog = null; downloadProject()\">\n                  <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\" />\n                  </svg>\n                  <span>download zip</span>\n                </button>\n              </li>\n              <li class=\"p-0 list-none\">\n                <button \n                  class=\"w-full flex gap-2 text-sm capitalize border-0 p-2 rounded-md bg-transparent\" \n                  style=\"color: unset;\" \n                  onclick=\"data.menuDialog = null; share()\">\n                  <svg class=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z\" />\n                  </svg>\n                  <span>share to codepen</span>\n                </button>\n              </li>\n            </ul>`;\n  menuDialog = `<dialog ${data.menuDialog ? 'open' : ''}>\n        <article class=\"rounded-md\">\n          <header class=\"flex justify-between items-center\">\n            <h1 class=\"text-lg font-thin m-0 capitalize\">\n              file menu\n            </h1>\n            <button \n              class=\"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border-0\" \n              style=\"color: unset;\" \n              aria-label=\"Close\"\n              onclick=\"data.menuDialog = null\">\n              ${icons.times}\n            </button>\n          </header>\n          <main class=\"font-thin\">\n            ${menuDialog}\n          </main>\n          <footer>\n            <button \n              class=\"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border ${project.dark ? 'border-gray-600' : 'border-gray-200'}\" \n              style=\"color: unset;\" \n              aria-label=\"Close\" \n              onclick=\"data.menuDialog = null\">\n              close\n            </button>\n          </footer>\n        </article>\n      </dialog>`;\n    return menuDialog;\n}\nfunction Settings() {\n  let settingsHTML = `<ul class=\"px-0\">\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        <input \n          id=\"pjqgd1wka\"\n          type=\"file\" \n          name=\"project logo\" \n          class=\"hidden\"\n          onchange=\"handleLogoChange(event)\"\n        />\n        <label \n          for=\"pjqgd1wka\"\n          class=\"mb-2 flex justify-between items-center cursor-pointer\">\n          <span>Project logo:</span>\n\n          <img \n            id=\"projectLogo\"\n            class=\"w-8\"\n            alt=\"Project Logo\"\n            src=\"${project.logo}\"\n            loading=\"lazy\">\n        </label>\n      </div>\n    </li>\n    <li class=\"list-none\">\n      <nav class=\"flex justify-between mt-5 items-center\">\n        <label \n          for=\"o14tigo4m\"\n          class=\"mb-2 flex justify-between items-center cursor-pointer\">\n          <span>Dark:</span>\n        </label>\n\n        <input \n          id=\"o14tigo4m\"\n          class=\"m-0\"\n          type=\"checkbox\" \n          role=\"switch\"\n          name=\"toggle css reset\"\n          onchange=\"project.dark = this.checked;\"\n          ${project.dark ? 'checked=\"true\"' : ''}\n        />\n      </nav>\n    </li>\n    <li class=\"list-none\">\n      <nav class=\"flex justify-between mt-5 items-center\">\n        <label \n          for=\"osbpm2k0q\"\n          class=\"mb-2 flex justify-between items-center cursor-pointer\">\n          <span>PWA:</span>\n        </label>\n\n        <input \n          id=\"osbpm2k0q\"\n          class=\"m-0\"\n          type=\"checkbox\" \n          role=\"switch\"\n          name=\"export project as a pwa\"\n          onchange=\"project.pwa = this.checked\"\n          ${project.pwa ? 'checked=\"true\"' : ''}\n        />\n      </nav>\n    </li>\n    <li class=\"list-none\">\n      <button\n        aria-label=\"empty history\"\n        name=\"empty history\"\n        class=\"capitalize py-2 w-full items-center rounded-md\"\n        onclick=\"\n          data.history = [];\n          data.historyIndex = -1;\n          this.closest('dialog[open]').querySelector('header button').onclick();\n        \">\n        <span class=\"text-[.75rem]\">\n          empty history\n        </span>\n      </button>\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <nav class=\"flex justifu-between -mt-3 items-center\">\n        <label \n          for=\"wl7i1adq7\"\n          class=\"m-0 flex justify-between items-center cursor-pointer\">\n          <span>Libraries:</span>\n        </label>\n\n        <button\n          aria-label=\"search libraries\"\n          name=\"search libraries\"\n          class=\"bg-transparent border-0 focus-within:shadow-none\"\n          style=\"color: unset;\"\n          onclick=\"librariesDialog();\">\n          ${icons.search}\n        </button>\n      </nav>\n\n      <div id=\"librariesBox\">\n        ${project.libraries.map((library, index) => `\n        <nav class=\"flex justify-between py-2\" data-index=\"${index}\">\n          <input \n            type=\"text\" \n            placeholder=\"https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js\" \n            data=\"library\" \n            class=\"w-full pl-3 pr-0 rounded-md rounded-r-none focus:shadow-none\"\n            style=\"margin-bottom: 0;\"\n            value=\"${library}\" \n            oninput=\"project.libraries[${index}] = this.value; renderPreview(true);\" />\n          <button \n            aria-label=\"delete library\"\n            name=\"delete library\"\n            class=\"px-3 py-[15px] h-full border-0 rounded-md rounded-l-none\"\n            onclick=\"project.libraries.splice(${index}, 1); renderPreview(true);\">\n            ${icons.trash}\n          </button>\n        </nav>\n      `).join('')}\n      </div>\n      <button \n        aria-label=\"add another library or framework\" \n        name=\"add another library or framework\" \n        onclick=\"project.libraries.push('')\" \n        class=\"capitalize py-2 w-full items-center rounded-md\">\n        <span class=\"text-[.75rem]\">\n          Add another\n        </span>\n      </button>\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project name:\n      </div>\n      <input \n        type=\"text\" \n        name=\"project name\"\n        placeholder=\"Project name\" \n        class=\"p-2 rounded-md w-full\" \n        value=\"${project.name}\"\n        oninput=\"project.name = this.value;\"\n      />\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project version:\n      </div>\n      <section class=\"flex justify-between gap-4\">\n        <input \n          type=\"number\" \n          min=\"0\"\n          step=\"1\"\n          name=\"project-major-version\"\n          placeholder=\"Major\"\n          class=\"p-2 rounded-md w-full\" \n          value=\"${project.version.split('.')[0]}\"\n          oninput=\"updateVersionPart('major', this.value);\"\n        />\n        <input \n          type=\"number\" \n          min=\"0\"\n          step=\"1\"\n          name=\"project-minor-version\"\n          placeholder=\"Minor\" \n          class=\"p-2 rounded-md w-full\" \n          value=\"${project.version.split('.')[1]}\"\n          oninput=\"updateVersionPart('minor', this.value);\"\n        />\n        <input \n          type=\"number\" \n          min=\"0\"\n          step=\"1\"\n          name=\"project-patch-version\"\n          placeholder=\"Patch\" \n          class=\"p-2 rounded-md w-full\" \n          value=\"${project.version.split('.')[2]}\"\n          oninput=\"updateVersionPart('patch', this.value);\"\n        />\n      </section>\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project title:\n      </div>\n      <input \n        type=\"text\" \n        name=\"project title\"\n        placeholder=\"Project title\"\n        class=\"p-2 rounded-md w-full\" \n        value=\"${project.title}\"\n        oninput=\"project.title = this.value;\"\n      />\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project description:\n      </div>\n      <textarea \n        name=\"project description\"\n        placeholder=\"Project description\" \n        class=\"p-2 rounded-md w-full resize-vertical h-56\"\n        oninput=\"project.description = this.value;\"\n      >${project.description}</textarea>\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project author:\n      </div>\n      <input \n        type=\"text\" \n        name=\"project author\"\n        placeholder=\"Project author\" \n        class=\"p-2 rounded-md w-full\" \n        value=\"${project.author}\"\n        oninput=\"project.author = this.value;\"\n      />\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"mb-2\">\n        Project url:\n      </div>\n      <input \n        type=\"text\" \n        name=\"project url\"\n        placeholder=\"Project url\" \n        class=\"p-2 rounded-md w-full\" \n        value=\"${project.url}\"\n        oninput=\"project.url = this.value;\"\n      />\n    </li>\n    <li class=\"p-0 list-none\">\n      <hr />\n    </li>\n    <li class=\"list-none\">\n      <div class=\"my-2\">\n        HTML before closing head tag:\n      </div>\n      <textarea \n        placeholder=\"HTML before closing </head> tag\" \n        class=\"p-2 rounded-md w-full resize-vertical h-56\"\n        oninput=\"project.meta = this.value;\"\n      >${project.meta}</textarea>\n    </li>\n  </ul>`;\n  settingsHTML = `<dialog ${data.settings ? 'open' : ''}>\n    <article class=\"rounded-md\">\n      <header class=\"flex justify-between items-center\">\n        <h1 class=\"text-lg font-thin m-0 capitalize\">\n          settings\n        </h1>\n        <button \n          class=\"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border-0\" \n          style=\"color: unset;\" \n          aria-label=\"Close\"\n          onclick=\"data.settings = null\">\n          ${icons.times}\n        </button>\n      </header>\n      <main class=\"font-thin\">\n        ${settingsHTML}\n      </main>\n      <footer>\n        <button \n          class=\"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border ${project.dark ? 'border-gray-600' : 'border-gray-200'}\" \n          style=\"color: unset;\" \n          aria-label=\"Close\" \n          onclick=\"data.settings = null\">\n          close\n        </button>\n      </footer>\n    </article>\n  </dialog>`;\n  return settingsHTML;\n}\nfunction librariesDialog() {\n  let libraries = `<div class=\"p-4\">\n          <input \n            id=\"searchInput\" \n            type=\"search\" \n            placeholder=\"Search for resources (JQuery, Bootstrap, Foundation...)\" \n            class=\"w-full p-3 rounded-full bg-[#1c212c]\" \n            oninput=\"this.value ? data.searchLibKey = this.value : data.searchLibKey = null; data.searchLibKey ? fetchSuggestions(data.searchLibKey) : ''\" />\n            \n          <div id=\"pruz9lb2p\" class=\"relative px-4 capitalize h-auto max-h-64 overflow-auto\"></div>\n        </div>`;\n\n  Modal.render({\n    title: \"Search for resources (JQuery, Bootstrap, Foundation...)\",\n    content: libraries,\n    onLoad() {\n      document.getElementById('searchInput').focus();\n    }\n  });\n}\nfunction attributesModal() {\n  const globalAttributes = [\n    \"accesskey\", \"autocapitalize\", \"autofocus\", \"class\", \"contenteditable\", \n    \"dir\", \"exportparts\", \"hidden\", \"id\", \"inert\", \"inputmode\", \"is\", \n    \"itemid\", \"itemprop\", \"itemref\", \"itemscope\", \"itemtype\", \"lang\", \n    \"nonce\", \"part\", \"popover\", \"role\", \"slot\", \"spellcheck\", \"tabindex\", \n    \"translate\"\n  ];\n  const eventAttributes = [\n    \"onabort\", \"onautocomplete\", \"onautocompleteerror\", \"onblur\", \"oncancel\", \n    \"oncanplay\", \"oncanplaythrough\", \"onchange\", \"onclick\", \"onclose\", \n    \"oncontextmenu\", \"oncuechange\", \"ondblclick\", \"ondrag\", \"ondragend\", \n    \"ondragenter\", \"ondragleave\", \"ondragover\", \"ondragstart\", \"ondrop\", \n    \"ondurationchange\", \"onemptied\", \"onended\", \"onerror\", \"onfocus\", \n    \"oninput\", \"oninvalid\", \"onkeydown\", \"onkeypress\", \"onkeyup\", \"onload\", \n    \"onloadeddata\", \"onloadedmetadata\", \"onloadstart\", \"onmousedown\", \n    \"onmouseenter\", \"onmouseleave\", \"onmousemove\", \"onmouseout\", \n    \"onmouseover\", \"onmouseup\", \"onmousewheel\", \"onpause\", \"onplay\", \n    \"onplaying\", \"onprogress\", \"onratechange\", \"onreset\", \"onresize\", \n    \"onscroll\", \"onseeked\", \"onseeking\", \"onselect\", \"onshow\", \"onsort\", \n    \"onstalled\", \"onsubmit\", \"onsuspend\", \"ontimeupdate\", \"ontoggle\", \n    \"onvolumechange\", \"onwaiting\"\n  ];\n\n  // Initialize `common` first\n  const commonEventGroup = [\n    \"onclick\", \"ondblclick\", \"onmousedown\", \"onmouseup\", \"onmouseover\", \"onmouseout\", \"onmouseenter\", \"onmouseleave\", \"oncontextmenu\"\n  ];\n  const dragDropEventGroup = [\n    \"ondragstart\", \"ondragend\", \"ondrop\", \"ondragenter\", \"ondragleave\",\n    \"ondragover\", ...commonEventGroup\n  ];\n\n  const eventGroups = {\n    common: commonEventGroup,\n    formControls: [\n      \"onchange\", \"oninput\", \"onfocus\", \"onblur\"\n    ],\n    buttonControls: [\n      \"onchange\", \"oninput\", \"onfocus\", \"onblur\", ...commonEventGroup\n    ],\n    dragDrop: [\n      ...dragDropEventGroup\n    ],\n    detailControls: [\n      \"ontoggle\"\n    ],\n    dialogControls: [\n      \"onclose\", \"oncancel\", ...dragDropEventGroup\n    ],\n    media: [\n      \"onabort\", \"oncanplay\", \"oncanplaythrough\", \"ondurationchange\", \"onemptied\",\n      \"onended\", \"onerror\", \"onloadeddata\", \"onloadedmetadata\", \"onloadstart\",\n      \"onpause\", \"onplay\", \"onplaying\", \"onprogress\", \"onratechange\", \"onseeked\",\n      \"onseeking\", \"onstalled\", \"onsuspend\", \"ontimeupdate\", \"onvolumechange\",\n      \"onwaiting\"\n    ],\n    body: [\n      \"onafterprint\", \"onbeforeprint\", \"onbeforeunload\", \"onhashchange\",\n      \"onlanguagechange\", \"onmessage\", \"onmessageerror\", \"onoffline\", \"ononline\",\n      \"onpopstate\", \"onrejectionhandled\", \"onstorage\", \"onunhandledrejection\",\n      \"onunload\"\n    ],\n    loadError: [\n      \"onload\", \"onerror\"\n    ]\n  };\n\n  const tagEventGroups = [\n    { tags: ['form', 'input', 'select', 'textarea'], events: ['formControls'] },\n    { tags: ['canvas', 'map', 'meter', 'svg', 'path', 'rect', 'circle', 'ellipse', 'line', 'polyline', 'polygon', 'text', 'use', 'symbol', 'linearGradient', 'radialGradient', 'stop', 'clipPath', 'mask', 'filter', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence'], events: ['common'] },\n    { tags: ['a', 'button'], events: ['buttonControls'] },\n    { tags: ['details'], events: ['detailControls'] },\n    { tags: ['dialog'], events: ['dialogControls'] },\n    { tags: ['audio', 'video'], events: ['media'] },\n    { tags: ['html'], events: ['common', 'body'] },\n    { tags: ['script', 'img'], events: ['loadError'] },\n    { tags: ['div', 'section', 'article', 'aside', 'header', 'footer', 'nav', 'main', 'figure', 'figcaption'], events: ['dragDrop'] },\n    { tags: ['table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td', 'col', 'colgroup', 'caption'], events: ['common'] },\n    { tags: ['fieldset', 'label', 'legend'], events: ['common'] },\n    { tags: ['iframe', 'embed', 'object', 'param'], events: ['common'] },\n    { tags: ['output', 'del', 'ins', 'marquee', 'meter', 'time', 'data'], events: ['common'] }\n  ];\n\n  function combineEventGroups(groups) {\n    return Array.from(new Set(groups.flatMap(group => eventGroups[group])));\n  }\n\n  function generateEventMappings() {\n    const elementEventMappings = {};\n\n    tagEventGroups.forEach(group => {\n      const combinedEvents = combineEventGroups(group.events);\n      group.tags.forEach(tag => {\n        elementEventMappings[tag] = combinedEvents;\n      });\n    });\n\n    return elementEventMappings;\n  }\n\n  const elementEventMappings = generateEventMappings();\n  \n  const specificAttributes = {\n    input: [\"accept\", \"alt\", \"autocomplete\", \"checked\", \"dirname\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"height\", \"list\", \"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"name\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"size\", \"src\", \"step\", \"type\", \"value\", \"width\"],\n    select: [\"autofocus\", \"disabled\", \"form\", \"multiple\", \"name\", \"required\", \"size\"],\n    option: [\"disabled\", \"label\", \"selected\", \"value\"],\n    optgroup: [\"disabled\", \"label\"],\n    textarea: [\"autocapitalize\", \"autocomplete\", \"cols\", \"dirname\", \"disabled\", \"form\", \"maxlength\", \"minlength\", \"name\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"wrap\"],\n    img: [\"alt\", \"crossorigin\", \"decoding\", \"height\", \"importance\", \"intrinsicsize\", \"ismap\", \"loading\", \"referrerpolicy\", \"sizes\", \"src\", \"srcset\", \"usemap\", \"width\"],\n    a: [\"download\", \"href\", \"hreflang\", \"ping\", \"referrerpolicy\", \"rel\", \"target\", \"type\"],\n    button: [\"autofocus\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"name\", \"type\", \"value\"],\n    fieldset: [\"disabled\", \"form\", \"name\"],\n    label: [\"for\"],\n    iframe: [\"allow\", \"allowfullscreen\", \"allowpaymentrequest\", \"height\", \"loading\", \"name\", \"referrerpolicy\", \"sandbox\", \"src\", \"srcdoc\", \"width\"],\n    audio: [\"autoplay\", \"controls\", \"crossorigin\", \"loop\", \"muted\", \"preload\", \"src\"],\n    video: [\"autoplay\", \"controls\", \"crossorigin\", \"height\", \"loop\", \"muted\", \"playsinline\", \"poster\", \"preload\", \"src\", \"width\"],\n    source: [\"media\", \"sizes\", \"src\", \"srcset\", \"type\"],\n    track: [\"default\", \"kind\", \"label\", \"src\", \"srclang\"],\n    form: [\"accept-charset\", \"action\", \"autocomplete\", \"enctype\", \"method\", \"name\", \"novalidate\", \"target\"],\n    meta: [\"charset\", \"content\", \"http-equiv\", \"name\"],\n    link: [\"as\", \"crossorigin\", \"href\", \"hreflang\", \"media\", \"referrerpolicy\", \"rel\", \"sizes\", \"type\"],\n    script: [\"async\", \"crossorigin\", \"defer\", \"integrity\", \"nomodule\", \"referrerpolicy\", \"src\", \"type\"],\n    style: [\"media\", \"scoped\", \"type\"],\n    ol: [\"reversed\", \"start\", \"type\"],\n    li: [\"value\"],\n    table: [\"border\"],\n    th: [\"colspan\", \"headers\", \"rowspan\", \"scope\"],\n    tr: [\"align\", \"bgcolor\", \"valign\"],\n    td: [\"abbr\", \"align\", \"axis\", \"bgcolor\", \"colspan\", \"headers\", \"height\", \"rowspan\", \"scope\", \"valign\", \"width\"],\n    progress: [\"max\", \"value\"],\n    meter: [\"high\", \"low\", \"max\", \"min\", \"optimum\", \"value\"],\n    object: [\"data\", \"form\", \"height\", \"name\", \"type\", \"usemap\", \"width\"],\n    embed: [\"height\", \"src\", \"type\", \"width\"],\n    param: [\"name\", \"value\"],\n    area: [\"alt\", \"coords\", \"download\", \"href\", \"hreflang\", \"ping\", \"referrerpolicy\", \"rel\", \"shape\", \"target\"],\n    col: [\"span\", \"width\"],\n    colgroup: [\"span\"],\n    map: [\"name\"],\n    track: [\"default\", \"kind\", \"label\", \"src\", \"srclang\"],\n    canvas: [\"height\", \"width\"],\n    data: [\"value\"],\n    time: [\"datetime\"],\n    output: [\"for\", \"form\", \"name\"],\n    del: [\"cite\", \"datetime\"],\n    ins: [\"cite\", \"datetime\"],\n    details: [\"open\"],\n    dialog: [\"open\"],\n    marquee: [\"behavior\", \"bgcolor\", \"direction\", \"height\", \"hspace\", \"loop\", \"scrollamount\", \"scrolldelay\", \"truespeed\", \"vspace\", \"width\"],\n    meter: [\"high\", \"low\", \"max\", \"min\", \"optimum\", \"value\"],\n\n    svg: [\"width\", \"height\", \"viewBox\", \"preserveAspectRatio\", \"xmlns\"],\n    path: [\"d\", \"pathLength\"],\n    rect: [\"x\", \"y\", \"width\", \"height\", \"rx\", \"ry\"],\n    circle: [\"cx\", \"cy\", \"r\"],\n    ellipse: [\"cx\", \"cy\", \"rx\", \"ry\"],\n    line: [\"x1\", \"y1\", \"x2\", \"y2\"],\n    polyline: [\"points\"],\n    polygon: [\"points\"],\n    text: [\"x\", \"y\", \"dx\", \"dy\", \"rotate\", \"textLength\", \"lengthAdjust\"],\n    use: [\"href\", \"x\", \"y\", \"width\", \"height\"],\n    symbol: [\"viewBox\", \"preserveAspectRatio\"],\n    linearGradient: [\"x1\", \"y1\", \"x2\", \"y2\", \"gradientUnits\", \"gradientTransform\", \"spreadMethod\"],\n    radialGradient: [\"cx\", \"cy\", \"r\", \"fx\", \"fy\", \"fr\", \"gradientUnits\", \"gradientTransform\", \"spreadMethod\"],\n    stop: [\"offset\", \"stop-color\", \"stop-opacity\"],\n    clipPath: [\"clipPathUnits\"],\n    mask: [\"maskUnits\", \"maskContentUnits\", \"x\", \"y\", \"width\", \"height\"],\n    filter: [\"x\", \"y\", \"width\", \"height\", \"filterUnits\", \"primitiveUnits\"],\n    feBlend: [\"in\", \"in2\", \"mode\"],\n    feColorMatrix: [\"in\", \"type\", \"values\"],\n    feComponentTransfer: [\"in\"],\n    feComposite: [\"in\", \"in2\", \"operator\", \"k1\", \"k2\", \"k3\", \"k4\"],\n    feConvolveMatrix: [\"in\", \"order\", \"kernelMatrix\", \"divisor\", \"bias\", \"targetX\", \"targetY\", \"edgeMode\", \"preserveAlpha\"],\n    feDiffuseLighting: [\"in\", \"surfaceScale\", \"diffuseConstant\", \"kernelUnitLength\"],\n    feDisplacementMap: [\"in\", \"in2\", \"scale\", \"xChannelSelector\", \"yChannelSelector\"],\n    feDistantLight: [\"azimuth\", \"elevation\"],\n    feFlood: [\"flood-color\", \"flood-opacity\"],\n    feFuncA: [\"type\", \"tableValues\", \"slope\", \"intercept\", \"amplitude\", \"exponent\", \"offset\"],\n    feFuncB: [\"type\", \"tableValues\", \"slope\", \"intercept\", \"amplitude\", \"exponent\", \"offset\"],\n    feFuncG: [\"type\", \"tableValues\", \"slope\", \"intercept\", \"amplitude\", \"exponent\", \"offset\"],\n    feFuncR: [\"type\", \"tableValues\", \"slope\", \"intercept\", \"amplitude\", \"exponent\", \"offset\"],\n    feGaussianBlur: [\"in\", \"stdDeviation\", \"edgeMode\"],\n    feImage: [\"href\", \"preserveAspectRatio\", \"x\", \"y\", \"width\", \"height\", \"result\"],\n    feMergeNode: [\"in\"], // Used within feMerge, no additional attributes\n    feMorphology: [\"in\", \"operator\", \"radius\"],\n    feOffset: [\"in\", \"dx\", \"dy\"],\n    fePointLight: [\"x\", \"y\", \"z\"],\n    feSpecularLighting: [\"in\", \"surfaceScale\", \"specularConstant\", \"specularExponent\", \"kernelUnitLength\"],\n    feSpotLight: [\"x\", \"y\", \"z\", \"pointsAtX\", \"pointsAtY\", \"pointsAtZ\", \"specularExponent\", \"limitingConeAngle\"],\n    feTile: [\"in\"],\n    feTurbulence: [\"baseFrequency\", \"numOctaves\", \"seed\", \"stitchTiles\", \"type\"],\n  };\n\n  // Helper to find common tags\n  function areCommonLayerTags(layers) {\n    if (layers.length === 0) return [];\n  \n    // Extract the tag from each layer\n    const firstTag = layers[0].tag;\n    const allSame = layers.every(layer => layer.tag === firstTag);\n  \n    // If all tags are the same, return the full layers array; otherwise, return an empty array\n    return allSame ? true : false;\n  }\n  \n  // Retrieve and aggregate attributes for selected layers\n  const selectedLayers = data.selectedLayerIds.map(id => findLayerById(id, project.html).layer).filter(layer => layer);\n  const detectCommonLayerTags = areCommonLayerTags(selectedLayers);\n\n  function renderAttributeButtons(attributes) {\n    return attributes\n      .filter(attr => !data.searchTerm || attr.includes(data.searchTerm))\n      .map(attr => `\n        <button \n          class=\"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border \n          ${project.dark ? 'border-gray-600' : 'border-gray-300'}\"\n          style=\"color: unset;\"\n          onclick=\"\n            const textfield = document.getElementById('hyfb8mxg0');\n            const val = textfield.value.trim();\n\n            if (!val) {\n              textfield.value = '${attr}';\n              return;\n            }\n            textfield.value += ',${attr}';\n          \">\n          ${attr}\n        </button>`\n      ).join('');\n  };\n\n  let attributesModal = \"\";\n  data.selectedLayerIds.forEach(id => {\n    const { layer } = findLayerById(id, project.html);\n\n    let specificAttributesForTag = specificAttributes[layer.tag] ? specificAttributes[layer.tag] : null;\n    // if (data.selectedLayerIds.length > 0) specificAttributesForTag = [];\n\n    let attrBtns = null;\n    if (data.boxElements.includes(layer.tag) || data.textElements.includes(layer.tag)) {\n      const detectTag = ['a', 'button', 'form', 'input', 'select', 'textarea'];\n      if ((detectTag.includes(layer.tag))) {\n        attrBtns = renderAttributeButtons(elementEventMappings[layer.tag]);\n      } else {\n        attrBtns = renderAttributeButtons(elementEventMappings['div']);\n      }\n    } else if (data.breakElements.includes(layer.tag)) {\n      attrBtns = null\n    } else {\n      attrBtns = renderAttributeButtons(elementEventMappings[layer.tag] || eventAttributes);\n    }\n\n    attributesModal = `\n      <div class=\"flex flex-col gap-4\">\n        ${specificAttributesForTag && detectCommonLayerTags ? `\n          <details \n            class=\"flex items-center mt-4 mb-0\" \n            ${data.specificAttributesForTag ? 'open' : ''}\n            ontoggle=\"\n            const detailsElement = this;\n            data.specificAttributesForTag = detailsElement.hasAttribute('open');\n          \">\n            <summary>\n              Specific Attributes for &lt;${layer.tag}&gt;\n            </summary>\n            <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n              ${renderAttributeButtons(specificAttributesForTag)}\n            </code>\n          </details>\n\n        <hr/>` : ''}\n\n        <details \n          class=\"flex items-center ${specificAttributesForTag && detectCommonLayerTags ? '' : 'mt-4'} mb-0\" \n          ${data.globalAttributesCollapsed ? 'open' : ''}\n          ontoggle=\"\n          const detailsElement = this;\n          data.globalAttributesCollapsed = detailsElement.hasAttribute('open');\n        \">\n          <summary>\n            Global Attributes\n          </summary>\n          <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n            ${renderAttributeButtons(globalAttributes)}\n          </code>\n        </details>\n\n        <hr/>\n\n        <details \n          class=\"flex items-center mb-0\" \n          ${data.eventAttributesCollapsed ? 'open' : ''}\n          ontoggle=\"\n          const detailsElement = this;\n          data.eventAttributesCollapsed = detailsElement.hasAttribute('open');\n        \">\n          <summary>\n            Event Attributes for &lt;${layer.tag}&gt;\n          </summary>\n          <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n            ${attrBtns}\n          </code>\n        </details>\n\n        <hr/>\n\n        <input \n          id=\"hyfb8mxg0\"\n          type=\"text\" \n          placeholder=\"Enter custom attribute...\" \n          class=\"rounded-full border p-2 flex-grow\"\n          style=\"margin: 0;\"\n          onkeydown=\"\n            if (event.key === 'Enter' && this.value.trim()) {\n              addAttribute(this.value);\n              document.querySelector('dialog[open]').querySelector('header > button').onclick();\n            }\n          \"\n        />\n      </div>`;\n  });\n\n  Modal.render({\n    title: \"Add An Attribute\",\n    content: attributesModal,\n    onLoad() {\n      document.getElementById('hyfb8mxg0').focus();\n    },\n    onClose() {\n      \n    },\n    onConfirm() {\n      addAttribute(document.getElementById('hyfb8mxg0').value.trim());\n    }\n  });\n}\n// Helper function to add an attribute to the element\nfunction addAttribute(attr) {\n  if (!attr) return;\n  // Split the attributess into individual attributes\n  const attrs = attr.toLowerCase().split(',').map(q => q.trim().toLowerCase());\n\n  data.selectedLayerIds.forEach(id => {\n    const { layer } = findLayerById(id, project.html);\n    if (layer) {\n      // Initialize layer.props if it's undefined\n      if (!layer.props) layer.props = {};\n\n      // Iterate over each attribute and add it if it doesn't exist\n      saveState();\n      attrs.forEach(attribute => {\n        const [key, value] = attribute.split('=').map(s => s.trim());\n\n        if (!(key in layer.props)) {\n          layer.props[key] = value !== undefined ? value : \"\";\n        } else if (value !== undefined) {\n          // If the attribute already exists, update its value\n          layer.props[key] = value;\n        }\n      });\n      saveState();\n    }\n  });\n  document.querySelector('dialog[open]').querySelector('header > button').onclick();\n}\nfunction LayerTree() {\n  // Function to render each layer recursively\n  function renderLayer(layer) {\n    const { id, name, children, state } = layer;\n    const hasChildren = children && children.length > 0;\n    const isVisible = state.visible;\n    if (data.shiftKey && data.cmdKey && layer.style === data.stylesTarget) {\n      layer.state.selected = true;\n    }\n\n      // HTML structure for each layer\n      const listItem = `\n      <li class=\"list-none select-none\">\n        <code class=\"p-0 flex justify-between whitespace-nowrap min-w-min ${state.selected ? 'bg-[#0172ad] text-white' : ''}\" data-layer=\"${id}\">\n          <span>\n            <button \n              aria-label=\"toggle layer children\"\n              name=\"toggle layer children\"\n              class=\"bg-transparent ${hasChildren ? '' : 'hidden'} border-0 p-2 text-xs transform transition-transform\" style=\"color: unset; transform: ${state.collapsed ? 'rotate(-90deg)' : 'rotate(0deg)'};\"\n              onclick=\"toggleCollapse('${id}')\">\n              ${hasChildren ? icons.arrowDown : ''}\n            </button>\n            <button \n              aria-label=\"toggle layer visibility\"\n              name=\"toggle layer visibility\"\n              class=\"bg-transparent border-0 p-2 text-xs\" style=\"color: unset;\"\n              onclick=\"toggleVisible('${id}')\">\n              ${isVisible ? icons.eye : icons.eyeSlash}\n            </button>\n          </span>\n          <button \n            aria-label=\"toggle selected layer\"\n            name=\"toggle selected layer\"\n            class=\"bg-transparent border-0 p-2 text-xs w-full text-right capitalize\" \n            style=\"color: unset;\"\n            onclick=\"selectedBlock('${id}')\"\n          >\n            ${name}\n          </button>\n        </code>\n        ${hasChildren ? `<ul class=\"mt-1 mb-1 -ml-4 ${state.collapsed ? 'hidden' : ''}\">` + children.map(child => renderLayer(child)).join('') + '</ul>' : ''}\n      </li>\n    `;\n\n    return listItem;\n  }\n\n  return project.html.map(layer => renderLayer(layer)).join('');\n}\nfunction Inspector() {\n  if (data.editorNavState) return;\n\n  // Helper to find common layer tags & attributes\n  function findCommonLayerTags(layers) {\n    if (layers.length === 0) return [];\n    const firstTag = layers[0].tag;\n    return layers.every(layer => layer.tag === firstTag) ? layers : [];\n  }\n  function findCommonAttributes(layers) {\n    if (layers.length === 0) return {};\n    const attributeCounts = {};\n\n    layers.forEach(layer => {\n      Object.keys(layer.props || {}).forEach(prop => {\n        attributeCounts[prop] = (attributeCounts[prop] || 0) + 1;\n      });\n    });\n\n    return Object.fromEntries(\n      Object.entries(attributeCounts)\n        .filter(([key, count]) => count === layers.length)\n        .map(([key]) => [key, layers[0].props[key]])\n    );\n  }\n\n  // Constants and helper functions\n  let buttonItemClass = 'bg-transparent border-0 text-[.6rem] p-0 m-0 h-full capitalize text-left';\n  const buttonAddItemClass = 'bg-transparent border-0 p-0 text-right';\n  const RenameOrDeleteButtonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full capitalize text-center p-2 border';\n  const selectClass = 'm-0 w-auto rounded-md capitalize text-[.6rem]';\n  const selectStyle = 'padding: .5rem; background-image: none;';\n  const inputClass = 'w-auto rounded-md normal-case text-[.6rem]';\n  const inputStyle = 'height: auto; margin: 0; padding: .4rem;';\n  const textareaClass = 'w-auto rounded-md normal-case text-[.6rem] resize-vertical';\n  const textareaStyle = 'height: 5rem; margin: 0; padding: .4rem;';\n  const mediaClass = 'cursor-pointer w-full my-2';\n\n  const languages = {\n    'en': 'English',       // English\n    'es': 'Espa\u00F1ol',       // Spanish\n    'zh': '\u4E2D\u6587',          // Chinese\n    'hi': '\u0939\u093F\u0928\u094D\u0926\u0940',        // Hindi\n    'ar': '\u0627\u0644\u0639\u0631\u0628\u064A\u0629',       // Arabic\n    'fr': 'Fran\u00E7ais',      // French\n    'ru': '\u0420\u0443\u0441\u0441\u043A\u0438\u0439',       // Russian\n    'pt': 'Portugu\u00EAs',     // Portuguese\n    'de': 'Deutsch',       // German\n    'ja': '\u65E5\u672C\u8A9E',        // Japanese\n    'ko': '\uD55C\uAD6D\uC5B4',        // Korean\n    'it': 'Italiano',      // Italian\n    'tr': 'T\u00FCrk\u00E7e',        // Turkish\n    'vi': 'Ti\u1EBFng Vi\u1EC7t',    // Vietnamese\n    'pl': 'Polski'         // Polish\n  };\n  const sizeOptions = {\n    Phones: {\n      '320x480': 'iPhone 3GS',\n      '375x667': 'iPhone 6/7/8',\n      '414x736': 'iPhone 6/7/8 Plus',\n      '375x812': 'iPhone X/XS/11 Pro',\n      '414x896': 'iPhone XR/XS Max/11/11 Pro Max',\n      '360x640': 'Samsung Galaxy S5',\n      '360x740': 'Samsung Galaxy S8+',\n      '1440x3200': 'Samsung Galaxy S21 Ultra',\n      '1080x2340': 'Google Pixel 5',\n      '1080x2400': 'OnePlus 8 Pro',\n      '1440x3200': 'Xiaomi Mi 11 Ultra',\n      '1644x3840': 'Sony Xperia 1 III'\n    },\n    Tablets: {\n      '2048x2732': 'iPad Pro 12.9\" (3rd/4th Gen)',\n      '2388x1668': 'iPad Pro 11\" (1st/2nd/3rd Gen)',\n      '2736x1824': 'Microsoft Surface Pro 7',\n      '2800x1752': 'Samsung Galaxy Tab S7+',\n      '2560x1600': 'Huawei MatePad Pro',\n      '2000x1200': 'Lenovo Tab P11 Pro',\n      '1920x1200': 'Amazon Fire HD 10',\n      '1536x2048': 'iPad Air (3rd Gen)',\n      '1620x2160': 'iPad Air (4th Gen)',\n      '1620x2160': 'iPad 10.2\" (8th Gen)',\n      '1668x2224': 'iPad Pro 11\" (2021)'\n    },\n    Desktops: {\n      '3840x2160': '4K UHD (3840x2160)',\n      '2560x1440': 'WQHD (2560x1440)',\n      '1920x1080': 'Full HD (1920x1080)',\n      '1366x768': 'Laptop (1366x768)',\n      '3440x1440': 'UltraWide QHD (3440x1440)',\n      '5120x2880': '5K Retina (5120x2880)',\n      '1280x800': 'MacBook (1280x800)',\n      '2560x1600': 'MacBook Pro (2560x1600)',\n      '2880x1800': 'MacBook Pro Retina (2880x1800)'\n    }\n  };\n  const booleanAttributes = [\n    \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"defer\", \"disabled\", \n    \"formnovalidate\", \"hidden\", \"loop\", \"multiple\", \"muted\", \"novalidate\", \"open\", \n    \"contenteditable\", \"readonly\", \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\"\n  ];\n  const inputTypes = [\n    \"button\", \"checkbox\", \"color\", \"date\", \"datetime-local\", \"email\", \"file\", \"hidden\",\n    \"image\", \"month\", \"number\", \"password\", \"radio\", \"range\", \"reset\", \"search\", \"submit\",\n    \"tel\", \"text\", \"time\", \"url\", \"week\"\n  ];\n  const numberAttributes = [\"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"range\", \"size\", \"step\"];\n  const stringAttributes = [\"accept\", \"acceptCharset\", \"accesskey\", \"action\", \"align\", \"alt\", \"autocomplete\", \"form\", \"list\", \"pattern\", \"placeholder\", \"src\", \"tabindex\", \"title\", \"type\", \"usemap\", \"value\"];\n  const selectedLayers = data.selectedLayerIds.map(id => findLayerById(id, project.html).layer).filter(layer => layer);\n  const commonLayerTag = findCommonLayerTags(selectedLayers);\n  const commonAttributes = findCommonAttributes(selectedLayers);\n  const cssFixedValueProperties = data.cssFixedValueProperties;\n  const cssRangedValueProperties = data.cssRangedValueProperties;\n  const boxElements = data.boxElements;\n  const textElements = data.textElements;\n  const breakElements = data.breakElements;\n\n  // Simplify rendering functions\n  function renderBooleanAttribute(name, value) {\n    return `\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${name}')\">${name}</button>\n      <button class=\"${buttonItemClass} p-1 text-right\" style=\"color: unset;\" onclick=\"removeProp('${name}')\">${value ? 'Yes' : 'No'}</button>\n    `;\n  }\n  function renderInput(name, type, value, min, max, step) {\n    return `\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${name}')\">${name}</button>\n      <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"${type}\" value=\"${value}\" ${min ? `min=\"${min}\"` : ''} ${max ? `max=\"${max}\"` : ''} ${step ? `step=\"${step}\"` : ''} oninput=\"updateElement('props', '${name}', this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>\n    `;\n  }\n  function renderTextarea(name, value) {\n    return `\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${name}')\">${name}</button>\n      <textarea class=\"${textareaClass}\" style=\"${textareaStyle}\" oninput=\"updateElement('props', '${name}', this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>${value}</textarea>\n    `;\n  }\n  \n  // Functions to generate HTML sections\n  const generatePreviewSize = () => `\n    <div class=\"grid grid-cols-1 gap-1 items-center pt-2 capitalize\">\n      <label for=\"selectedSize\" aria-label=\"resize canvas\" class=\"m-auto\">\n        <select id=\"selectedSize\" onchange=\"resizeCanvas(this.value)\" class=\"${selectClass}\" style=\"padding: .5rem; background-image: none;\">\n          <option value=\"none\" ${data.selectedSize === \"none\" ? 'selected' : ''}>Select Size</option>\n          ${Object.keys(sizeOptions).map(group => `\n            <optgroup label=\"${group}\">\n              ${Object.keys(sizeOptions[group]).map(option => `\n                <option value=\"${option}\" ${data.selectedSize === option ? 'selected' : ''}>${sizeOptions[group][option]}</option>\n              `).join('')}\n            </optgroup>\n          `).join('')}\n        </select>\n      </label>\n      <button \n        aria-label=\"rotate canvas\"\n        name=\"rotate canvas\" \n        class=\"bg-transparent border-0 p-0 text-center w-full mr-1 ${data.selectedSize === 'none' ? 'hidden' : ''}\"\n        style=\"color: unset;\"\n        onclick=\"rotateCanvas()\">\n        ${icons.rotate}\n      </button>\n    </div>\n\n    <div class=\"grid grid-cols-2 gap-1 items-center pt-2 capitalize\">\n      <span class=\"text-[.6rem] h-full capitalize\">language</span>\n      <select onchange=\"project.lang = this.value;\" class=\"${selectClass}\" style=\"padding: .5rem; background-image: none;\">\n        ${Object.keys(languages).map(lang => `\n          <option value=\"${lang}\">${languages[lang]}</option>\n        `).join('')}\n      </select>\n    </div>\n  `;\n\n  const generateRootVariablesSection = () => `\n    <div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.rootVarsCollapsed = !data.rootVarsCollapsed\">\n          root css variables\n        </button>\n        <button \n          class=\"${buttonAddItemClass}\" \n          style=\"color: unset;\" \n          onclick=\"\n            const id = generateId();\n            project.css.rootVariables[id] = '';\n          \">\n          <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n            <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n          </svg>\n        </button>\n      </div>\n      <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.rootVarsCollapsed ? 'hidden' : ''}\">\n        <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n          ${Object.keys(project.css.rootVariables).map(key => `\n            <button \n              class=\"${buttonItemClass.split('capitalize').join('')}\" \n              style=\"color: unset;\" \n              onclick=\"renameRootVariable('${key}')\">\n              ${key}\n            </button>\n            <input \n              class=\"${inputClass}\" \n              style=\"height: auto; margin: 0; padding: .4rem;\" \n              type=\"text\" \n              value=\"${project.css.rootVariables[key]}\" \n              oninput=\"\n                project.css.rootVariables['${key}'] = this.value;\n                renderPreview();\n              \" \n              onfocus=\"saveState()\" onblur=\"saveState()\"\n            />\n          `).join('')}\n        </div>\n      </div>\n    </div>\n  `;\n\n  const generateStylesSection = () => {\n    if (!commonLayerTag) data.stylesTarget = null;\n    let targets = null;\n    let styles = '';\n    let activeStyle = null;\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        if (!data.stylesTarget) {\n          data.stylesTarget = layer.style;\n        }\n      });\n    }\n    \n    let obj = null;\n    if (data.breakpointKey) {\n      obj = project.css.breakpoints[`${data.breakpointKey}px`];\n    } else {\n      obj = project.css.styles;\n    }\n\n    // Render targets within style\n    let dropdown = `<select \n      class=\"${selectClass}\" \n      style=\"${selectStyle}\"\n      onchange=\"\n        data.stylesPropTarget = this.value;\n        App.render('#app');\n      \"\n    >\n      <option value=\"base\" ${data.stylesPropTarget === 'base' ? 'selected' : ''}>base</option>\n      <option value=\"pseudos\" ${data.stylesPropTarget === 'pseudos' ? 'selected' : ''}>pseudos</option>\n    </select>`;\n\n    let buttonClass = '';\n    Object.keys(obj).forEach(key => {\n      if (data.stylesTarget && data.stylesTarget === key) {\n        buttonClass = buttonItemClass.split('bg-transparent border-0').join('');\n        activeStyle = key;\n      } else {\n        buttonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full capitalize text-left';\n        activeStyle = null;\n      }\n\n      styles += `<button \n        aria-label=\"set style target to ${key}\"\n        name=\"set style target to ${key}\"\n        class=\"${buttonClass.split('capitalize').join('')} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\" ${activeStyle ? '' : 'style=\"color: unset;\"'}\n        onclick=\"\n          data.stylesTarget = this.textContent.toString();\n          if (!data.cmdKey || !data.shiftKey) {\n            clearAllSelections();\n          }\n          data.stylesTarget = this.textContent.toString();\n        \">${key}</button>`;\n    });\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n    <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.stylesCollapsed = !data.stylesCollapsed;\">\n        styles\n      </button>\n      <button \n        class=\"${buttonAddItemClass}\" \n        style=\"color: unset;\"\n        onclick=\"addStyle();\">\n        <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n          <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n        </svg>\n      </button>\n    </div>\n    <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.stylesCollapsed ? 'hidden' : ''}\">\n      ${data.stylesTarget ? `<div class=\"grid grid-cols-1 gap-1 items-center py-2\">\n        ${dropdown}\n      </div>` : ''}\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${styles}\n      </div>\n      ${data.stylesTarget ? `<div class=\"grid grid-cols-2 gap-1 items-center pb-2 capitalize\">\n        <button \n          aria-label=\"rename the ${data.stylesTarget} style\"\n          name=\"rename the ${data.stylesTarget} style\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-green-600 border-green-800\" : \"text-green-700 border-green-400\"}\"\n          onclick=\"renameStyleTarget('${data.stylesTarget}');\">\n          rename\n        </button>\n        <button \n          aria-label=\"delete the ${data.stylesTarget} style\"\n          name=\"delete the ${data.stylesTarget} style\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-red-600 border-red-800\" : \"text-red-600 border-red-400\"}\"\n          onclick=\"deleteStyleTarget('${data.stylesTarget}');\">\n          delete\n        </button>\n      </div>` : ''}\n      ${data.stylesTarget ? `<div class=\"grid grid-cols-1 gap-1 items-center capitalize\">\n        <button \n          aria-label=\"de-select the ${data.stylesTarget} style\"\n          name=\"de-select the ${data.stylesTarget} style\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\"\n          style=\"color: unset;\"\n          onclick=\"\n            data.stylesTarget = null;\n            data.breakpointKey = null;\n            clearAllSelections();\n          \">\n          de-select\n        </button>\n      </div>` : ''}\n    </div>\n  </div>`;\n  };\n\n  const processStyles = (stylesObject, selectorPrefix, key, detect = null) => {\n    let styles = '';\n\n    Object.keys(stylesObject).forEach(prop => {\n      let value = stylesObject[prop];\n      let selector = `${selectorPrefix}['${prop}']`;\n\n      // Check if the property has fixed values\n      const predefinedValues = cssFixedValueProperties[prop];\n      if (predefinedValues) {\n        let options = predefinedValues.map(val => \n          `<option value=\"${val}\" ${val === value ? 'selected' : ''}>${val}</option>`\n        ).join('');\n\n        styles += `\n          <button \n            class=\"${buttonItemClass}\" \n            style=\"color: unset;\" \n            onclick=\"\n              styleModal('${key}', '${prop}', '${value}'${detect ? `, '${detect}'` : ''});\n          \">\n            ${prop}\n          </button>\n          <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"${selector} = this.value; renderPreview(); saveState();\">\n            ${options}\n          </select>`;\n      } else if (cssRangedValueProperties[prop]) {\n        const { min, max, step } = cssRangedValueProperties[prop];\n        const valueParts = value.split(' ');\n        const units = valueParts.map(part => part.match(/[a-zA-Z%]+/) || '');\n\n        styles += `\n          <button \n            class=\"${buttonItemClass}\" \n            style=\"color: unset;\" \n            onclick=\"\n              styleModal('${key}', '${prop}', '${value}'${detect ? `, '${detect}'` : ''});\n          \">\n            ${prop}\n          </button>\n          <div class=\"grid grid-cols-2 gap-1 items-center capitalize\">`;\n\n        valueParts.forEach((part, index) => {\n          const numericValue = parseFloat(part);\n          const selectElement = `<select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"\n              const valueParts = ${selectorPrefix}['${prop}'].split(' ');\n              valueParts[${index}] = '${numericValue}' + this.value;\n              ${selector} = valueParts.join(' ');\n              renderPreview();\n              saveState();\n            \">${['px', '%', 'rem', 'em', 'vh', 'vw'].map(unit => \n              `<option value=\"${unit}\" ${unit === units[index] ? 'selected' : ''}>${unit}</option>`\n            ).join('')}</select>`;\n\n          const rangeElement = `<input class=\"${inputClass}\" style=\"${inputStyle}\" \n              type=\"range\" min=\"${min}\" max=\"${max}\" step=\"${step}\" value=\"${numericValue}\"\n              oninput=\"const valueParts = ${selectorPrefix}['${prop}'].split(' ');\n              valueParts[${index}] = this.value + '${units[index]}';\n              ${selector} = valueParts.join(' ');\n              renderPreview();\"\n              onfocus=\"saveState();\" onblur=\"saveState();\">`;\n\n          styles += `\n            <input class=\"${inputClass}\" style=\"${inputStyle}\" \n              type=\"number\" min=\"${min}\" max=\"${max}\" step=\"${step}\" value=\"${numericValue}\"\n              oninput=\"const valueParts = ${selectorPrefix}['${prop}'].split(' ');\n              valueParts[${index}] = this.value + '${units[index]}';\n              ${selector} = valueParts.join(' ');\n              renderPreview();\"\n              onfocus=\"saveState();\" onblur=\"saveState();\">\n            ${prop === 'opacity' || prop === 'z-index' ? rangeElement : selectElement}`;\n        });\n\n        styles += `</div>`;\n      } else {\n        styles += `\n          <button \n            class=\"${buttonItemClass}\" \n            style=\"color: unset;\" \n            onclick=\"\n              styleModal('${key}', '${prop}', '${value}'${detect ? `, '${detect}'` : ''});\n          \">\n            ${prop}\n          </button>\n          <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"text\" value=\"${value}\" \n            oninput=\"${selector} = this.value; renderPreview(); saveState();\">`;\n      }\n    });\n\n    return styles;\n  };\n\n  const generateBreakpointsSection = () => {\n    if (!commonLayerTag) data.stylesTarget = null;\n    let styles = '';\n    let activeStyle = null;\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        if (!data.stylesTarget) {\n          data.stylesTarget = layer.style;\n        }\n      });\n    }\n\n    let buttonClass = '';\n    if (data.stylesTarget && project.css.breakpoints) {\n      Object.keys(project.css.breakpoints).forEach(key => {\n        if (data.breakpointKey === key.split('px').join('')) {\n          buttonClass = buttonItemClass.split('bg-transparent border-0').join('');\n          activeStyle = key;\n        } else {\n          buttonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full capitalize text-center';\n          activeStyle = null;\n        }\n        styles += `<button \n          aria-label=\"target breakpoint styles for ${key}\"\n          name=\"target breakpoint styles for ${key}\"\n          class=\"${buttonClass.split('text-left').join('text-center')} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\" ${activeStyle ? '' : 'style=\"color: unset;\"'}\n          onclick=\"\n            data.breakpointKey = this.textContent;\n          \">${key.split('px').join('')}</button>`;\n      });\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n    <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.breakpointsCollapsed = !data.breakpointsCollapsed;\">\n        breakpoints\n      </button>\n      <button \n        class=\"${buttonAddItemClass}\" \n        style=\"color: unset;\"\n        onclick=\"addBreakpoint();\">\n        <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n          <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n        </svg>\n      </button>\n    </div>\n    <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.breakpointsCollapsed ? 'hidden' : ''}\">\n      ${data.stylesTarget && project.css.breakpoints ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${styles}\n      </div>` : ''}\n      ${data.breakpointKey && data.stylesTarget && project.css.breakpoints ? `<div class=\"grid grid-cols-2 gap-1 items-center pb-2 capitalize\">\n        <button \n          aria-label=\"rename breakpoint styles for ${data.breakpointKey}px\"\n          name=\"rename breakpoint styles for ${data.breakpointKey}px\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-green-600 border-green-800\" : \"text-green-700 border-green-400\"}\"\n          onclick=\"renameBreakpointKey('${data.breakpointKey}px');\">\n          rename\n        </button>\n        <button \n          aria-label=\"delete breakpoint styles for ${data.breakpointKey}px\"\n          name=\"delete breakpoint styles for ${data.breakpointKey}px\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-red-600 border-red-800\" : \"text-red-600 border-red-400\"}\"\n          onclick=\"deleteBreakpointKey('${data.breakpointKey}px');\">\n          delete\n        </button>\n      </div>` : ''}\n      ${data.breakpointKey && data.stylesTarget && project.css.breakpoints ? `<div class=\"grid grid-cols-1 gap-1 items-center capitalize\">\n        <button \n          aria-label=\"de-select the ${data.stylesTarget} style\"\n          name=\"de-select the ${data.stylesTarget} style\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\"\n          style=\"color: unset;\"\n          onclick=\"data.breakpointKey = null;\">\n          de-select\n        </button>\n      </div>` : ''}\n    </div>\n  </div>`;\n  };\n\n  const generateBreakpointStylesSection = () => {\n    if (!data.breakpointKey) return;\n    let styles = '';\n    let styleKey = null;\n\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        styleKey = layer.style;\n      });\n    }\n\n    let obj = project.css.breakpoints[`${data.breakpointKey}px`];\n\n    const detectStylesPropTarget = ['base', 'pseudos'];\n    if (detectStylesPropTarget.includes(data.stylesPropTarget)) {\n      Object.keys(obj).forEach(key => {\n        if (styleKey === key || data.stylesTarget == key) {\n          if (data.stylesPropTarget === 'pseudos') {\n            const index = data.pseudosSelectorIndex;\n            if (data.pseudosSelector) {\n              if (obj[key].pseudos[index].styles) {\n                styles += processStyles(obj[key].pseudos[index].styles, `project.css.breakpoints['${data.breakpointKey}px']['${key}'].pseudos['${index}'].styles`, key, 'breakpoints');\n              }\n            }\n          } else {\n            if (obj[key][data.stylesPropTarget]) {\n              styles += processStyles(obj[key][data.stylesPropTarget], `project.css.breakpoints['${data.breakpointKey}px']['${key}']['${data.stylesPropTarget}']`, key, 'breakpoints');\n            }\n          }\n        }\n      });\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.breakpointStylePropsCollapsed = !data.breakpointStylePropsCollapsed;\">\n          breakpoint styles\n        </button>\n        <button class=\"${buttonAddItemClass}\" style=\"color: unset;\" onclick=\"addStylePropModal('${styleKey}', project.css.breakpoints['${data.breakpointKey}px'][data.stylesTarget][data.stylesPropTarget]);\">\n          <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n            <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n          </svg>\n        </button>\n      </div>\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize ${data.breakpointStylePropsCollapsed ? 'hidden' : ''}\">\n        ${styles}\n      </div>\n    </div>`;\n  };\n\n  const generatePseudosSection = () => {\n    if (!commonLayerTag) data.stylesTarget = null;\n    let styles = '';\n    let selector = '';\n    let activeStyle = null;\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        if (!data.stylesTarget) {\n          data.stylesTarget = layer.style;\n        }\n      });\n    }\n\n    // Target specific pseudo style\n    if (data.stylesTarget && data.stylesPropTarget === \"pseudos\") {\n      if (project.css.styles[data.stylesTarget].pseudos) {\n        Object.keys(project.css.styles[data.stylesTarget].pseudos).forEach(index => {\n          selector = project.css.styles[data.stylesTarget].pseudos[index].selector;\n          if (data.pseudosSelector === selector) {\n            buttonClass = buttonItemClass.split('bg-transparent border-0').join('');\n            activeStyle = true;\n            data.pseudosSelectorIndex = index;\n          } else {\n            buttonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full text-left';\n            activeStyle = null;\n          }\n          styles += `<button \n            class=\"${buttonClass.split('capitalize').join('')} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\" ${activeStyle ? '' : 'style=\"color: unset;\"'}\n            onclick=\"data.pseudosSelector = this.textContent;\">${selector}</button>`;\n        });\n      }\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n    <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.stylePseudosCollapsed = !data.stylePseudosCollapsed;\">\n        pseudos\n      </button>\n      <button class=\"${buttonAddItemClass}\" style=\"color: unset;\" onclick=\"addPseudo('${data.stylesTarget}')\">\n        <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n          <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n        </svg>\n      </button>\n    </div>\n    <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.stylePseudosCollapsed ? 'hidden' : ''}\">\n      ${data.stylesTarget ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${styles}\n      </div>` : ''}\n      ${data.pseudosSelector && data.stylesTarget ? `\n        <div class=\"grid grid-cols-2 gap-1 items-center pb-2 capitalize\">\n          <button \n            aria-label=\"Rename pseudo for ${data.breakpointKey}px\"\n            name=\"rename pseudo for ${data.breakpointKey}px\"\n            class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-green-600 border-green-800\" : \"text-green-700 border-green-400\"}\"\n            onclick=\"renamePseudo('${data.pseudosSelector}');\">\n            Rename\n          </button>\n          <button \n            aria-label=\"Delete pseudo for ${data.breakpointKey}px\"\n            name=\"delete pseudo for ${data.breakpointKey}px\"\n            class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-red-600 border-red-800\" : \"text-red-600 border-red-400\"}\"\n            onclick=\"deletePseudo();\">\n            Delete\n          </button>\n        </div>\n      ` : ''}\n      ${data.pseudosSelector && data.stylesTarget ? `\n        <div class=\"grid grid-cols-1 gap-1 items-center capitalize\">\n          <button \n            aria-label=\"De-select the ${data.stylesTarget} style\"\n            name=\"de-select the ${data.stylesTarget} style\"\n            class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\"\n            style=\"color: unset;\"\n            onclick=\"data.pseudosSelector = null;\">\n            De-select\n          </button>\n        </div>\n      ` : ''}\n    </div>\n  </div>`;\n  };\n\n  const generateAnimationsSection = () => {\n    if (!commonLayerTag) data.stylesTarget = null;\n    let styles = '';\n    let activeStyle = null;\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        if (!data.stylesTarget) {\n          data.stylesTarget = layer.style;\n        }\n      });\n    }\n\n    if (data.stylesTarget && project.css.animations) {\n      Object.keys(project.css.animations).forEach(key => {\n        if (data.animationTarget === key) {\n          buttonClass = buttonItemClass.split('bg-transparent border-0').join('');\n          buttonClass = buttonClass.split('capitalize').join('normal-case');\n          activeStyle = key;\n        } else {\n          buttonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full normal-case text-center';\n          activeStyle = null;\n        }\n        styles += `<button \n          aria-label=\"target animation styles for ${key}\"\n          name=\"target animation styles for ${key}\"\n          class=\"${buttonClass.split('text-left').join('text-center')} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\" ${activeStyle ? '' : 'style=\"color: unset;\"'}\n          onclick=\"\n            data.animationTarget = this.textContent;\n          \">${key}</button>`;\n      });\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n    <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.animationsCollapsed = !data.animationsCollapsed;\">\n        animations\n      </button>\n      <button \n        class=\"${buttonAddItemClass}\" \n        style=\"color: unset;\"\n        onclick=\"addAnimation();\">\n        <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n          <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n        </svg>\n      </button>\n    </div>\n    <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.animationsCollapsed ? 'hidden' : ''}\">\n      ${data.stylesTarget && project.css.animations ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${styles}\n      </div>` : ''}\n      ${data.animationTarget && project.css.animations ? `<div class=\"grid grid-cols-2 gap-1 items-center pb-2 capitalize\">\n        <button \n          aria-label=\"rename animation for ${data.animationTarget}\"\n          name=\"rename animation for ${data.animationTarget}\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-green-600 border-green-800\" : \"text-green-700 border-green-400\"}\"\n          onclick=\"renameAnimation('${data.animationTarget}');\">\n          rename\n        </button>\n        <button \n          aria-label=\"delete animation for ${data.animationTarget}\"\n          name=\"delete animation for ${data.animationTarget}\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-red-600 border-red-800\" : \"text-red-600 border-red-400\"}\"\n          onclick=\"deleteAnimation('${data.animationTarget}');\">\n          delete\n        </button>\n      </div>` : ''}\n      ${data.animationTarget && project.css.animations ? `<div class=\"grid grid-cols-1 gap-1 items-center capitalize\">\n        <button \n          aria-label=\"de-select the ${data.animationTarget} animation\"\n          name=\"de-select the ${data.animationTarget} animation\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\"\n          style=\"color: unset;\"\n          onclick=\"data.animationTarget = null;\">\n          de-select\n        </button>\n      </div>` : ''}\n    </div>\n  </div>`;\n  };\n\n  const generateAnimationPropertySection = () => {\n    if (!commonLayerTag) data.stylesTarget = null;\n    let content = '';\n    let keyframes = '';\n    let activeStyle = null;\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        if (!data.stylesTarget) {\n          data.stylesTarget = layer.style;\n        }\n      });\n    }\n\n    // Generate keyframes buttons\n    if (data.animationTarget && project.css.animations && project.css.animations[data.animationTarget].keyframes) {\n      Object.keys(project.css.animations[data.animationTarget].keyframes).forEach(key => {\n        let buttonClass = '';\n        if (data.animationKeyframe === key) {\n          buttonClass = buttonItemClass.split('bg-transparent border-0').join('');\n          isActive = true;\n        } else {\n          buttonClass = 'bg-transparent text-[.6rem] p-0 m-0 h-full capitalize text-center';\n          isActive = null;\n        }\n        \n        keyframes += `<button \n          aria-label=\"target keyframe styles for ${key}\"\n          name=\"target keyframe styles for ${key}\"\n          class=\"${buttonClass.split('text-left').join('text-center')} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\" ${isActive ? '' : 'style=\"color: unset;\"'}\n          onclick=\"\n            data.animationKeyframe = null;\n            data.animationKeyframe = '${key}';\n          \">${key}</button>`;\n      });\n    }\n\n    // Generate the styles for the active keyframe\n    if (data.animationKeyframe && data.animationTarget && project.css.animations && project.css.animations[data.animationTarget].keyframes) {\n      const activeKeyframe = project.css.animations[data.animationTarget].keyframes[data.animationKeyframe];\n      content += processStyles(activeKeyframe, `project.css.animations['${data.animationTarget}'].keyframes['${data.animationKeyframe}']`, data.animationKeyframe, 'animations');\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n    <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n      <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.animationsCollapsed = !data.animationsCollapsed;\">\n        animation keyframes\n      </button>\n      <button \n        class=\"${buttonAddItemClass}\" \n        style=\"color: unset;\"\n        onclick=\"addKeyFrame();\">\n        <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n          <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n        </svg>\n      </button>\n    </div>\n    <div class=\"grid grid-cols-1 gap-1 items-center py-2 capitalize ${data.animationsCollapsed ? 'hidden' : ''}\">\n      ${data.animationTarget && project.css.animations ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${keyframes}\n      </div>` : ''}\n      ${data.animationKeyframe && project.css.animations && project.css.animations[data.animationTarget].keyframes ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        ${content}\n      </div>` : ''}\n      ${data.animationKeyframe && project.css.animations && project.css.animations[data.animationTarget].keyframes ? `<div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        <button \n          aria-label=\"rename the \"${data.animationKeyframe}\" keyframe\"\n          name=\"rename the \"${data.animationKeyframe}\" keyframe\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-green-600 border-green-800\" : \"text-green-700 border-green-400\"}\"\n          onclick=\"renameKeyFrame('${data.animationKeyframe}');\">\n          rename\n        </button>\n        <button \n          aria-label=\"delete the \"${data.animationKeyframe}\" keyframe\"\n          name=\"delete the \"${data.animationKeyframe}\" keyframe\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"text-red-600 border-red-800\" : \"text-red-600 border-red-400\"}\"\n          onclick=\"deleteKeyFrame('${data.animationKeyframe}');\">\n          delete\n        </button>\n        <button \n          aria-label=\"add to the \"${data.animationKeyframe}\" keyframe\"\n          name=\"add to the \"${data.animationKeyframe}\" keyframe\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-blue-500\" : \"border-blue-400\"}\"\n          style=\"color: unset;\"\n          onclick=\"addStylePropModal('${data.animationTarget}', project.css.animations[data.animationTarget].keyframes[data.animationKeyframe]);\">\n          ${icons.plus}\n        </button>\n        <button \n          aria-label=\"de-select the \"${data.animationKeyframe}\" keyframe\"\n          name=\"de-select the \"${data.animationKeyframe}\" keyframe\"\n          class=\"${RenameOrDeleteButtonClass} p-2 border ${project.dark ? \"border-gray-700\" : \"border-gray-300\"}\"\n          style=\"color: unset;\"\n          onclick=\"data.animationKeyframe = null;\">\n          de-select\n        </button>\n      </div>` : ''}\n    </div>\n  </div>`;\n  };\n\n  const generateStylePropertiesSection = () => {\n    let styles = '';\n    let styleKey = null;\n\n    if (commonLayerTag) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        const layer = commonLayerTag[layerKey];\n        styleKey = layer.style;\n      });\n    }\n\n    let obj = project.css.styles;\n    const detectStylesPropTarget = ['base', 'pseudos'];\n    if (detectStylesPropTarget.includes(data.stylesPropTarget)) {\n      Object.keys(obj).forEach(key => {\n        if (styleKey === key || data.stylesTarget == key) {\n          if (data.stylesPropTarget === 'pseudos') {\n            const index = data.pseudosSelectorIndex;\n            if (data.pseudosSelector) {\n              if (obj[key].pseudos[index].styles) {\n                styles += processStyles(obj[key].pseudos[index].styles, `project.css.styles['${key}'].pseudos['${index}'].styles`, key);\n              }\n            }\n          } else {\n            if (obj[key][data.stylesPropTarget]) {\n              styles += processStyles(obj[key][data.stylesPropTarget], `project.css.styles['${key}']['${data.stylesPropTarget}']`, key);\n            }\n          }\n        }\n      });\n    }\n\n    let stylesObj = 'project.css.styles[data.stylesTarget][data.stylesPropTarget]';\n    if (data.stylesPropTarget === \"pseudos\") {\n      stylesObj = 'project.css.styles[data.stylesTarget][data.stylesPropTarget][data.pseudosSelectorIndex].styles';\n    }\n\n    return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n        <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.stylePropsCollapsed = !data.stylePropsCollapsed;\">\n          style properties\n        </button>\n        <button \n          class=\"${buttonAddItemClass}\" \n          style=\"color: unset;\" \n          onclick=\"addStylePropModal('${styleKey}', ${stylesObj});\">\n          <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n            <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n          </svg>\n        </button>\n      </div>\n      <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize ${data.stylePropsCollapsed ? 'hidden' : ''}\">\n        ${styles}\n      </div>\n    </div>`;\n  };\n\n  const generateAttributesSection = () => {\n    if (selectedLayers.length === 0) return '';\n    \n    // Display common attributes\n    let attributes = \"\",\n        attributeTag = \"\",\n        svgImage = \"\";\n    if (commonLayerTag || selectedLayers.length === 1) {\n      Object.keys(commonLayerTag).forEach(layerKey => {\n        attributeTag = \"\";\n        const layer = commonLayerTag[layerKey];\n        const tag = layer.tag;\n        \n        // block name\n        attributeTag += `\n          <span class=\"${buttonItemClass}\">Block Name</span>\n          <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"text\" value=\"${layer.name}\" oninput=\"updateElement('name', null, this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>\n        `;\n        \n        // style reference\n        attributeTag += `\n          <span class=\"${buttonItemClass}\">Style Ref</span>\n          <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"text\" value=\"${layer.style ? layer.style : ''}\" onfocus=\"saveState()\" onblur=\"updateElement('style', null, this.value); saveState();\"/>\n        `;\n  \n        // Determine block type and render the appropriate options\n        let options = \"\";\n        if (boxElements.includes(tag)) {\n          options = boxElements.map(element => \n            `<option value=\"${element}\" ${element === tag ? 'selected' : ''}>${element}</option>`\n          ).join('');\n        } else if (textElements.includes(tag)) {\n          options = textElements.map(element => \n            `<option value=\"${element}\" ${element === tag ? 'selected' : ''}>${element}</option>`\n          ).join('');\n        }  else if (breakElements.includes(tag)) {\n          options = breakElements.map(element => \n            `<option value=\"${element}\" ${element === tag ? 'selected' : ''}>${element}</option>`\n          ).join('');\n        } else {\n          options = `<option value=\"${tag}\" selected=\"true\">${tag}</option>`;\n        }\n  \n        if (options) {\n          attributeTag += `\n            <span class=\"${buttonItemClass}\">tag</span>\n            <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"saveState(); updateElement('tag', null, this.value); saveState();\">\n              ${options}\n            </select>`;\n        }\n      \n        if (tag === \"svg\" && selectedLayers.length === 1) {\n          const elm = document.createElement(\"template\");\n          elm.innerHTML = json2html(layer);\n          const element = elm.content.firstElementChild;\n    \n          if (element) {\n            if (element.hasAttribute(\"style\")) element.removeAttribute('style');\n            element.removeAttribute(\"width\");\n            element.removeAttribute(\"height\");\n            element.setAttribute(\"class\", mediaClass);\n            element.setAttribute(\"onclick\", `updateSvgMedia('${layer.id}', 'svg')`);\n    \n            svgImage += `\n              <button class=\"${buttonItemClass}\" style=\"color: unset;\">svg</button>\n              <div class=\"grid grid-cols-1 place-items-center\">\n                ${element.outerHTML}\n              </div>\n            `;\n          }\n    \n          elm.remove();\n        }\n      });\n    }\n  \n    if (Object.keys(commonAttributes).length > 0 || selectedLayers.length === 1) {\n      svgImage ? attributes = svgImage + \"\" : attributes = \"\";\n      const layer = selectedLayers[0];\n      const tag = layer.tag;\n\n      if (tag === \"audio\") {\n        attributes += `\n          <span class=\"${buttonItemClass.split('cursor-pointer').join('cursor-default')}\" style=\"color: unset;\">Replace Audio</span>\n          <div class=\"grid grid-cols-1\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" preserveAspectRatio=\"xMidYMin\" class=\"cursor-pointer w-full my-2 rounded-md\" onclick=\"updateAudioMedia('${layer.id}', 'audio')\">\n              <rect width=\"256\" height=\"256\" fill=\"rgb(248,255,247)\"/>\n              <g transform=\"translate(128, 128) scale(0.5) translate(-128, -128)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#13171f\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5\"/>\n                </svg>\n              </g>\n            </svg>\n          </div>\n        `;\n      }\n  \n      if (layer.props) {\n        // Generate the attributes section dynamically based on layer\n        Object.keys(commonAttributes).forEach(propKey => {\n          let name = propKey;\n          const value = commonAttributes[propKey];\n  \n          textAreaAttributes = [\"on\", '@', \"x-\", \":\"];\n          const lowerPropKey = propKey.toLowerCase();\n  \n          // Handle different types of attributes\n          if (booleanAttributes.includes(name)) {\n            attributes += renderBooleanAttribute(propKey, commonAttributes[propKey]);\n          } else if (lowerPropKey === \"style\" || lowerPropKey === \"class\") {\n            attributes += renderTextarea(propKey, commonAttributes[propKey]);\n          } else if (textAreaAttributes.some(attr => lowerPropKey.startsWith(attr))) {\n            attributes += renderTextarea(propKey, commonAttributes[propKey]);\n          } else if (tag === \"input\") {\n            if (name === \"required\") {\n              attributes += renderBooleanAttribute(propKey, commonAttributes[propKey]);\n            }\n            \n            let nodeType = \"text\";\n            for (let numAttr of numberAttributes) {\n              if (name === numAttr) {\n                nodeType = \"number\";\n              }\n            }\n            for (let string of stringAttributes) {\n              if (name === string) {\n                nodeType = \"text\";\n              }\n            }\n            if (name === \"value\") {\n              for (let inputType of inputTypes) {\n                if (layer.props.type) {\n                  if (layer.props.type === inputType) {\n                    nodeType = layer.props.type.toLowerCase();\n                  }\n                  if (layer.props.type === \"range\") {\n                    nodeType = \"number\";\n                  }\n                }\n              }\n            }\n            if (name === \"type\") {\n              let options = '';\n              for (let string of inputTypes) {\n                options += `<option class=\"${inputClass}\" value=\"${string}\" ${(value === string ? \"selected\" : \"\")}>${string}</option>`;\n              }\n  \n              attributes += `\n                <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${propKey}')\">${propKey}</button>\n                <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"updateElement('props', '${propKey}', this.value); saveState();\">\n                  ${options}\n                </select>\n              `;\n            } else {\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            }\n          } else if (tag === \"button\") {\n            if (name === \"type\") {\n              attributes += `\n                <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${propKey}')\">${propKey}</button>\n                <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"updateElement('props', '${propKey}', this.value); saveState();\">\n                  <option class=\"${inputClass}\" value=\"submit\" ${value === name ? 'selected' : ''}>submit</option>\n                  <option class=\"${inputClass}\" value=\"reset\" ${value === name ? 'selected' : ''}>reset</option>\n                  <option class=\"${inputClass}\" value=\"button\" ${value === name ? 'selected' : ''}>button</option>\n                </select>\n              `;\n            } else if (name === \"role\") {\n              attributes += renderBooleanAttribute(propKey, commonAttributes[propKey]);\n            } else {\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            }\n          } else if (tag === \"a\") {\n            if (name === \"target\") {\n              attributes += `\n                <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${propKey}')\">${propKey}</button>\n                <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"updateElement('props', '${propKey}', this.value); saveState();\">\n                  <option class=\"${inputClass}\" value=\"_blank\" ${value === name ? 'selected' : ''}>_blank</option>\n                  <option class=\"${inputClass}\" value=\"_self\" ${value === name ? 'selected' : ''}>_self</option>\n                  <option class=\"${inputClass}\" value=\"_parent\" ${value === name ? 'selected' : ''}>_parent</option>\n                  <option class=\"${inputClass}\" value=\"_top\" ${value === name ? 'selected' : ''}>_top</option>\n                </select>\n              `;\n            } else {\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            }\n          } else if (tag === \"img\") {\n            let numTypes = [\"width\", \"height\"];\n            if (numTypes.includes(name)) {\n              let type = \"text\";\n              for (let numType of numTypes) {\n                if (name === numType) {\n                  type = \"number\";\n                }\n              }\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            } else if (name === \"src\") {\n              attributes += `\n                <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${propKey}')\">${propKey}</button>\n                <div class=\"grid grid-cols-1\">\n                  <img class=\"${mediaClass}\" src=\"${value}\" onclick=\"updateImageMedia('${layer.id}', 'img')\">\n                  <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"text\" value=\"${value}\" oninput=\"updateElement('props', '${propKey}', this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>\n                </div>\n              `;\n            } else {\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            }\n          } else if (tag === \"svg\") {\n            let numTypes = [\"stroke-width\"];\n            let type = \"text\";\n            for (let numType of numTypes) {\n              if (name === numType) {\n                type = \"number\";\n              }\n            }\n            attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n          } else if (tag === \"form\") {\n            if (name === \"method\") {\n              attributes += `\n                <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"removeProp('${propKey}')\">${propKey}</button>\n                <select class=\"${selectClass}\" style=\"${selectStyle}\" onchange=\"updateElement('props', '${propKey}', this.value); saveState();\">\n                  <option class=\"${inputClass}\" value=\"GET\" ${value === name ? 'selected' : ''}>GET</option>\n                  <option class=\"${inputClass}\" value=\"POST\" ${value === name ? 'selected' : ''}>POST</option>\n                  <option class=\"${inputClass}\" value=\"PUT\" ${value === name ? 'selected' : ''}>PUT</option>\n                  <option class=\"${inputClass}\" value=\"DELETE\" ${value === name ? 'selected' : ''}>DELETE</option>\n                </select>\n              `;\n            } else {\n              attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n            }\n          } else {\n            attributes += renderInput(propKey, 'text', commonAttributes[propKey]);\n          }\n        });\n      }\n  \n      if (\"text\" in layer || layer.text) {\n        if (tag === \"textarea\" || tag === \"style\" || tag === \"script\") {\n          attributes += `\n            <span class=\"${buttonItemClass}\">text</span>\n            <textarea class=\"${textareaClass}\" style=\"${textareaStyle}\" oninput=\"updateElement('text', null, this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>${layer.text}</textarea>\n          `;\n        } else {\n          // attributes += `\n          //   <span class=\"${buttonItemClass}\">text</span>\n          //   <input class=\"${inputClass}\" style=\"${inputStyle}\" type=\"text\" value=\"${layer.text}\" oninput=\"updateElement('text', null, this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>\n          // `;\n          attributes += `\n            <span class=\"${buttonItemClass}\">text</span>\n            <textarea class=\"${textareaClass}\" style=\"${textareaStyle}\" oninput=\"updateElement('text', null, this.value)\" onfocus=\"saveState()\" onblur=\"saveState()\"/>${layer.text}</textarea>\n          `;\n        }\n      }\n    }\n  \n    if (selectedLayers.length > 0) {\n      return `<div class=\"border-0 border-b border-solid pb-2 mb-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n        <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize\">\n          <button class=\"${buttonItemClass}\" style=\"color: unset;\" onclick=\"data.propsCollapsed = !data.propsCollapsed;\">\n            attributes\n          </button>\n          <button class=\"${buttonAddItemClass}\" style=\"color: unset;\" onclick=\"attributesModal();\">\n            <svg class=\"w-3\" viewBox=\"0 0 576 512\" style=\"color: unset;\">\n              <path fill=\"currentColor\" d=\"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z\"></path>\n            </svg>\n          </button>\n        </div>\n        <div class=\"grid grid-cols-2 gap-1 items-center py-2 capitalize ${data.propsCollapsed ? 'hidden' : ''}\">\n          ${attributeTag + attributes}\n        </div>\n      </div>`;\n    }\n  }\n\n  // Combine all sections\n  const inspectorHtml = `\n    <div>\n      ${generatePreviewSize()}\n      ${generateRootVariablesSection()}\n      ${generateStylesSection()}\n      ${data.stylesTarget ? generateBreakpointsSection() : ''}\n      ${data.breakpointKey ? generateBreakpointStylesSection() : ''}\n      ${data.stylesTarget && data.stylesPropTarget === \"pseudos\" ? generatePseudosSection() : ''}\n      ${data.stylesTarget ? generateAnimationsSection() : ''}\n      ${data.animationTarget ? generateAnimationPropertySection() : ''}\n      ${data.stylesTarget ? generateStylePropertiesSection() : ''}\n      ${generateAttributesSection()}\n    </div>\n  `;\n\n  return inspectorHtml;\n}\n\nfunction editorNav() {\n  const buttonClass = \"border-0 bg-transparent py-1\";\n\n  return `<button \n      aria-label=\"delete layer\"\n      name=\"delete layer\" \n      class=\"${buttonClass}\"\n      style=\"color: unset;\"\n      onclick=\"deleteLayers()\"\n    >\n      ${icons.trash}\n    </button>\n    <button \n      aria-label=\"clone layer\"\n      name=\"clone layer\" \n      class=\"${buttonClass}\"\n      style=\"color: unset;\"\n      onclick=\"cloneLayers()\"\n    >\n      ${icons.clone}\n    </button>\n    <button \n      aria-label=\"cut layer\"\n      name=\"cut layer\" \n      class=\"${buttonClass}\"\n      style=\"color: unset;\"\n      onclick=\"cutLayers()\"\n    >\n      ${icons.cut}\n    </button>\n    <button \n      aria-label=\"copy layer\"\n      name=\"copy layer\" \n      class=\"${buttonClass}\"\n      style=\"color: unset;\"\n      onclick=\"copyLayers()\"\n    >\n      ${icons.copy}\n    </button>\n    <button \n      aria-label=\"paste layer\"\n      name=\"paste layer\" \n      class=\"${buttonClass}\"\n      style=\"color: unset;\"\n      onclick=\"pasteLayers()\"\n    >\n      ${icons.paste}\n    </button>`;\n}\nconst Modal = {\n  render({\n    large,\n    title = \"Are you sure you want to proceed?\",\n    content,\n    CloseLabel,\n    ConfirmLabel,\n    onLoad,\n    onClose,\n    onConfirm\n  }) {\n    // if (!options) return false;\n    const hClass = \"text-lg font-thin m-0\";\n    const buttonClass = \"text-xs w-auto px-3 py-2 m-0 capitalize rounded-md\";\n    const svgClass = \"w-3\";\n    const times = `<svg class=\"${svgClass}\" viewBox=\"0 0 384 512\">\n        <path \n          fill=\"currentColor\" \n          d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"/>\n      </svg>`;\n\n    const html = `<article class=\"${large ? 'flex flex-col h-3/4' : ''} rounded-md\">\n      <header class=\"${large ? 'flex-none' : ''} flex justify-between items-center\">\n        <h1 class=\"${hClass}\">${title}</h1>\n        <button class=\"${buttonClass} bg-transparent border-0\" style=\"color: unset;\" aria-label=\"Close\">\n          ${times}\n        </button>\n      </header>\n      <main class=\"font-thin ${large ? 'flex-grow' : ''}\">\n        ${content ? content : ''}\n      </main>\n      <footer ${large ? 'class=\"flex-none\"' : ''}>\n        <button class=\"${buttonClass} bg-transparent border ${project.dark ? 'border-gray-600' : 'border-gray-200'}\" style=\"color: unset;\" aria-label=\"Close\" onclick=\"this.closest('dialog').remove()\">${CloseLabel ? CloseLabel : 'close'}</button>\n        ${onConfirm ? `<button class=\"${buttonClass}\" aria-label=\"Confirm\">${ConfirmLabel ? ConfirmLabel : 'confirm'}</button>` : ''}\n      </footer>\n    </article>`;\n\n    const modal = document.createElement('dialog');\n    modal.open = true;\n    modal.innerHTML = html;\n\n    document.body.appendChild(modal);\n    if (onLoad && typeof onLoad === 'function') {\n      onLoad();\n    }\n\n    const timesBtn = modal.querySelector('header button');\n    const closeBtn = modal.querySelector('footer button:first-child');\n    const confirmBtn = modal.querySelector('footer button:last-child');\n\n    // Confirm handler function\n    timesBtn.onclick = function() {\n      if (onClose && typeof onClose === 'function') {\n        onClose();\n      }\n      document.body.removeChild(modal);\n    }\n    closeBtn.onclick = function() {\n      if (onClose && typeof onClose === 'function') {\n        onClose();\n      }\n      document.body.removeChild(modal);\n    }\n    confirmBtn.onclick = function() {\n      if (onConfirm && typeof onConfirm === 'function') {\n        onConfirm();\n      }\n      document.body.removeChild(modal);\n    }\n  }\n}\nfunction Blocks() {\n  const btnClass = `bg-transparent p-4 text-xs cursor-pointer capitalize`;\n\n  let blockItem = '', componentItem = '';\n\n  data.blocks.items.forEach((block, index) => {\n    blockItem += `\n      <button \n        class=\"${btnClass} border border-solid text-center rounded-md ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\"\n        style=\"color: unset;\"\n        onclick=\"addBlock(data.blocks.items[${index}].code)\"\n      >\n        ${block.type}\n      </button>`;\n  });\n\n  project.components.forEach((component, index) => {\n    componentItem += `\n      <div class=\"flex justify-between w-full h-full border border-solid rounded-md ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n        <button \n          class=\"bg-transparent border-0 text-xs capitalize m-0 py-0 px-2\"\n          style=\"color: unset;\"\n          onclick=\"addBlock(project.components[${index}].code)\"\n        >\n          ${component.name}\n        </button>\n\n        <button \n          class=\"bg-transparent border-0 text-xs capitalize m-0 py-0 px-2\"\n          style=\"color: unset;\"\n          onclick=\"deleteComponent('${index}')\"\n        >\n          ${icons.trash}\n        </button>\n      </div>`;\n  });\n\n  let html = `<article class=\"select-none font-thin\">\n        <section class=\"p-0 m-0\">\n          <details class=\"flex items-center mb-0\" ${data.blocks.visible ? 'open' : ''} ontoggle=\"\n            const detailsElement = this;\n            data.blocks.visible = detailsElement.hasAttribute('open');\n          \">\n          <summary>\n            ${data.blocks.name}\n          </summary>\n          <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n            ${blockItem}\n\n            <button \n              class=\"${btnClass} ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\"\n              style=\"color: unset;\"\n              onclick=\"customCode()\"\n            >\n              Custom\n            </button>\n          </code>\n        </details>\n      </section>\n    </article>\n    \n    <article class=\"select-none font-thin\">\n        <section class=\"p-0 m-0\">\n          <details class=\"flex items-center mb-0\" ${data.componentsVisible ? 'open' : ''} ontoggle=\"\n            const detailsElement = this;\n            data.blocks.visible = detailsElement.hasAttribute('open');\n          \">\n          <summary>\n            Components\n          </summary>\n          <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n            ${componentItem}\n\n            <button \n              class=\"${btnClass} ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\"\n              style=\"color: unset;\"\n              onclick=\"addComponent()\"\n            >\n              ${icons.plus}\n            </button>\n          </code>\n        </details>\n      </section>\n    </article>`;\n  \n  return html;\n}\nconst App = {\n  initialRender: true,\n  render(container) {\n    const buttonClass = \"border-0 bg-transparent py-1\";\n    // Calculate zoom transform based on viewport size and iframe size\n    const size = data.selectedSize;\n    let viewportWidth, viewportHeight;\n    const previewElm = document.getElementById('previewElm');\n    if (document.getElementById('previewElm')) {\n      viewportWidth = previewElm.clientWidth;\n      viewportHeight = previewElm.clientHeight;\n    }\n    let [width, height] = size.split('x').map(Number);\n  \n    const html = `\n      <div>\n        <div class=\"absolute inset-y-0 left-0 flex flex-col text-center justify-between px-2 py-4 overflow-auto\">\n          ${LeftMenubar()}\n        </div>\n        \n        <!-- flexbox for panels and preview -->\n        <div class=\"flex flex-col flex-col-reverse md:flex-row absolute inset-y-0 right-0 left-16 bottom-0 overflow-hidden\">\n          <div class=\"flex-[2] md:flex-[1] relative w-full md:w-96 h-full text-sm overflow-auto ${project.activePanel ? `border-0 border-l border-solid ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}` : 'hidden'}\">\n            <div class=\"absolute inset-0 flex flex-col ${project.activePanel === 'layers' ? '' : 'hidden'}\">\n              <ul class=\"flex-grow p-2 m-0 overflow-auto\">\n                ${LayerTree()}\n              </ul>\n              <div class=\"flex-none border-0 border-y md:border-b-0 border-solid ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n                <div class=\"flex justify-between\">\n                  <div class=\"flex justify-between\">\n                    <button\n                      aria-label=\"undo\"\n                      name=\"undo\"\n                      class=\"${buttonClass} md:hidden\"\n                      style=\"color: unset;\"\n                      onclick=\"undo()\"\n                      ${data.historyIndex > 0 ? '' : 'disabled=\"true\"'}>\n                      ${icons.undo}\n                    </button>\n                    <button\n                      aria-label=\"toggle ctrl key\"\n                      name=\"toggle ctrl key\"\n                      class=\"${buttonClass} ${data.cmdKey ? 'text-blue-500' : ''}\" \n                      style=\"${data.cmdKey ? '' : 'color: unset;'}\"\n                      onclick=\"data.cmdKey = !data.cmdKey;\">\n                      <span class=\"text-[.75rem]\">ctrl</span>\n                    </button>\n                    <button\n                      aria-label=\"toggle shift key\"\n                      name=\"toggle shift key\"\n                      class=\"${buttonClass} ${data.shiftKey ? 'text-blue-500' : ''}\"\n                      style=\"${data.shiftKey ? '' : 'color: unset;'}\"\n                      onclick=\"data.shiftKey = !data.shiftKey;\">\n                      ${icons.shift}\n                    </button>\n                  </div>\n                  <div class=\"md:hidden flex justify-between whitespace-nowrap overflow-auto ${data.selectedLayerIds.length === 0 ? 'hidden' : ''}\">\n                    ${editorNav()}\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <button \n                      aria-label=\"open command palette\"\n                      name=\"open command palette\"\n                      class=\"${buttonClass} ${data.cmdKey ? 'text-blue-500' : ''}\" \n                      style=\"${data.cmdKey ? '' : 'color: unset;'}\"\n                      onclick=\"commandPalette();\">\n                      ${icons.commandKey}\n                    </button>\n                    <button\n                      aria-label=\"redo\"\n                      name=\"redo\"\n                      class=\"${buttonClass} md:hidden\"\n                      style=\"color: unset;\"\n                      onclick=\"redo()\"\n                      ${data.historyIndex < data.history.length - 1 ? '' : 'disabled=\"true\"'}>\n                      ${icons.redo}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"absolute inset-0 px-2 py-4 overflow-auto capitalize ${project.activePanel === 'blocks' ? '' : 'hidden'}\">\n              ${Blocks()}\n            </div>\n            <div class=\"absolute inset-0 flex flex-col ${project.activePanel === 'inspector' ? '' : 'hidden'}\">\n              <ul class=\"flex-grow p-2 m-0 overflow-auto\">\n                ${Inspector()}\n              </ul>\n              <div class=\"flex-none border-0 border-y md:border-b-0 border-solid ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n                <div class=\"flex justify-between\">\n                  <div>\n                    <button\n                      aria-label=\"undo\"\n                      name=\"undo\"\n                      class=\"${buttonClass} md:hidden\"\n                      style=\"color: unset;\"\n                      onclick=\"undo()\"\n                      ${data.historyIndex > 0 ? '' : 'disabled=\"true\"'}>\n                      ${icons.undo}\n                    </button>\n                  </div>\n                  <div>\n                    <button\n                      aria-label=\"toggle ctrl key\"\n                      name=\"toggle ctrl key\"\n                      class=\"${buttonClass} ${data.cmdKey ? 'text-blue-500' : ''}\" \n                      style=\"${data.cmdKey ? '' : 'color: unset;'}\"\n                      onclick=\"data.cmdKey = !data.cmdKey;\">\n                      <span class=\"text-[.75rem]\">ctrl</span>\n                    </button>\n                    <button\n                      aria-label=\"toggle shift key\"\n                      name=\"toggle shift key\"\n                      class=\"${buttonClass} ${data.shiftKey ? 'text-blue-500' : ''}\"\n                      style=\"${data.shiftKey ? '' : 'color: unset;'}\"\n                      onclick=\"data.shiftKey = !data.shiftKey;\">\n                      ${icons.shift}\n                    </button>\n                    <button\n                      aria-label=\"redo\"\n                      name=\"redo\"\n                      class=\"${buttonClass} md:hidden\"\n                      style=\"color: unset;\"\n                      onclick=\"redo()\"\n                      ${data.historyIndex < data.history.length - 1 ? '' : 'disabled=\"true\"'}>\n                      ${icons.redo}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"flex-[2] w-full overflow-hidden flex\">\n            <div class=\"relative w-full h-full border-0 border-x border-solid overflow-auto p-4 ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n              <div class=\"absolute inset-0 flex flex-col\">\n                <div class=\"flex-grow overflow-hidden h-full\">\n                  <div id=\"previewElm\" class=\"relative grid grid-cols-1 align-center items-center w-full h-full\">\n                    <iframe\n                      id=\"iframe\"\n                      title=\"${project.title}\"\n                      class=\"bg-white ${data.selectedSize !== 'none' ? `border border-solid ${project.dark ? \"border-gray-800\" : \"border-gray-200\"} shadow-2xl shadow-blue-500` : ''}\"\n                      style=\"${data.selectedSize === 'none' ? 'width: 100%; height: 100%' : `\n      width: ${width}px;\n      height: ${height}px;\n      transform: scale(${Math.min(viewportWidth / width, viewportHeight / height)});\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-top: -${height / 2}px;\n      margin-left: -${width / 2}px;`}\"\n                      allow=\"accelerometer *; bluetooth *; camera *; encrypted-media *; display-capture *; geolocation *; gyroscope *; microphone *; midi *; clipboard-read *; clipboard-write *; serial *; xr-spatial-tracking *\"\n                      allowfullscreen=\"true\"\n                      allowpaymentrequest=\"true\"\n                      allowtransparency=\"true\"\n                      sandbox=\"allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups-to-escape-sandbox allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation\"\n                      loading=\"lazy\"\n                    ></iframe>\n\n                    <span \n                      id=\"iframeClientSize\" \n                      class=\"hidden opacity-0 transition-opacity duration-300 absolute top-0 right-0 ${project.dark ? 'bg-gray-800' : 'bg-gray-200'} p-1 text-xs\">\n                        ${data.iframeSize}\n                    </span>\n                  </div>\n                </div>\n                <div class=\"hidden md:block flex-none border-0 border-y md:border-b-0 border-solid ${project.dark ? \"border-gray-800\" : \"border-gray-200\"}\">\n                  <div class=\"flex justify-between\">\n                    <div>\n                      <button\n                        aria-label=\"undo\"\n                        name=\"undo\"\n                        class=\"${buttonClass}\"\n                        style=\"color: unset;\"\n                        onclick=\"undo()\"\n                        ${data.historyIndex > 0 ? '' : 'disabled=\"true\"'}>\n                        ${icons.undo}\n                      </button>\n                    </div>\n                    \n                    <div class=\"flex justify-between whitespace-nowrap overflow-auto ${data.selectedLayerIds.length === 0 ? 'hidden' : ''}\">\n                      ${editorNav()}\n                    </div>\n\n                    <button\n                      aria-label=\"redo\"\n                      name=\"redo\"\n                      class=\"${buttonClass}\"\n                      style=\"color: unset;\"\n                      onclick=\"redo()\"\n                      ${data.historyIndex < data.history.length - 1 ? '' : 'disabled=\"true\"'}>\n                      ${icons.redo}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div\n            class=\"flex-[1] hidden ${project.activePanel === 'layers' ? 'lg:block' : ''} w-full md:w-96 h-full p-2 text-sm overflow-auto\">\n            <div class=\"h-full\">\n              ${Inspector()}\n            </div>\n          </div>\n        </div>\n\n        ${Menu()}\n        ${Settings()}\n      </div>`;\n    \n    const element = document.querySelector(container);\n    if (!element) return;\n\n    // Create a new temporary element to compare\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    if (doc.body.innerHTML.trim() === html.trim()) return;\n    if (App.initialRender) {\n      element.innerHTML = html;\n      renderPreview(true);\n      App.initialRender = false;\n      return false;\n    }\n\n    // Compare and update only the changed parts\n    const currentDoc = element.firstElementChild;\n    const newDoc = doc.body.firstElementChild;\n    diffNodes(currentDoc, newDoc);\n  }\n}\nwindow.App = App;\nfunction emptyStorage() {\n  // Clear local storage\n  localStorage.removeItem('Polyrise');\n\n  // Clear session storage specific to Polyrise (if you use a specific key)\n  sessionStorage.removeItem('Polyrise');\n\n  // Clear cookies specific to Polyrise\n  document.cookie.split(\";\").forEach(function(c) {\n    if (c.trim().startsWith('Polyrise')) {\n      document.cookie = c.trim().split(\"=\")[0] + \n                        '=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/';\n    }\n  });\n\n  // Clear service worker caches specific to Polyrise\n  if ('caches' in window) {\n    caches.keys().then(function(names) {\n      names.forEach(function(name) {\n        if (name === 'Polyrise-cache') {\n          caches.delete(name);\n        }\n      });\n    });\n  }\n\n  // Unregister service workers specific to Polyrise\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.getRegistrations().then(function(registrations) {\n      registrations.forEach(function(registration) {\n        if (registration.scope.includes('Polyrise')) {\n          registration.unregister();\n        }\n      });\n    });\n  }\n\n  location.reload();\n}\nfunction updateVersionPart(part, value) {\n  const versionParts = project.version.split('.');\n  if (part === 'major') {\n    versionParts[0] = value;\n  } else if (part === 'minor') {\n    versionParts[1] = value;\n  } else if (part === 'patch') {\n    versionParts[2] = value;\n  }\n  project.version = versionParts.join('.');\n}\nfunction commandPalette() {\n  let buttonClass = `text-xs w-auto px-3 py-2 m-0 capitalize rounded-md bg-transparent border ${project.dark ? 'border-gray-600' : 'border-gray-400'}`;\n  let commands = {\n    \"fold all\": \"f\",\n    \"unfold all\": \"u\",\n    \"hide all\": \"h\",\n    \"show all\": \"s\",\n    \"empty children\": \"e\",\n    \"clear all selections\": \"\"\n  };\n\n  // Generate buttons HTML from the commands object\n  let buttonsHtml = Object.keys(commands).map(command => {\n    return `<button \n  class=\"${buttonClass}\"\n  style=\"color: unset;\"\n  onclick=\"\n    const emuqfdoxq = document.getElementById('emuqfdoxq').checked;\n    executeQuery('${commands[command]}', emuqfdoxq);\n    document.querySelector('dialog[open]').querySelector('header > button').onclick();\n  \"\n>\n  ${command}\n</button>`;\n  }).join(''); // Join the array into a single string\n\n  const guide = `<div class=\"font-thin text-xs\">\n  - <strong class=\"text-sm\">Enter a Query</strong>: <br/>\n    Input a query in the format <code>t=tagname</code>, <code>t=.classname</code>, <code>t=[attribute=value]</code>, or <code>t=[id]</code>. You can also use pseudo-classes with the <code>t=</code> prefix like <code>t=.classname:first-child</code>.<br/><br/>\n\n  - <strong class=\"text-sm\">Multiple Queries</strong>: <br/>\n    Separate multiple queries with a comma (e.g., <code>t=li, t=.name</code>).<br/><br/>\n\n  - <strong class=\"text-sm\">Pseudo-Classes</strong>: <br/>\n    You can use pseudo-classes to refine your selection. Supported pseudo-classes include:<br/>\n    <ul class=\"mt-4\">\n      <li><code>:first-child</code> - Selects the first child element.</li>\n      <li><code>:last-child</code> - Selects the last child element.</li>\n      <li><code>:nth-child(n)</code> - Selects the nth child element.</li>\n      <li><code>:nth-last-child(n)</code> - Selects the nth last child element.</li>\n      <li><code>:only-child</code> - Selects elements that are the only child.</li>\n      <li><code>:empty</code> - Selects elements without children.</li>\n      <li><code>:first-of-type</code> - Selects the first element of its type.</li>\n      <li><code>:last-of-type</code> - Selects the last element of its type.</li>\n      <li><code>:nth-of-type(n)</code> - Selects the nth element of its type.</li>\n      <li><code>:nth-last-of-type(n)</code> - Selects the nth last element of its type.</li>\n      <li><code>:only-of-type</code> - Selects elements of its type that are the only one.</li>\n    </ul><br/>\n\n  - <strong class=\"text-sm\">Targeting Selections</strong>: <br/>\n    Use the <code>t=</code> prefix to specify the type of selection:<br/>\n    <ul class=\"mt-4\">\n      <li><code>t=tagname</code> - Targets elements with the specified tag.</li>\n      <li><code>t=.classname</code> - Targets elements with the specified class.</li>\n      <li><code>t=[attribute]</code> - Targets elements with the specified attribute (without defining its value).</li>\n      <li><code>t=[attribute=value]</code> - Targets elements with the specified attribute and value.</li>\n      <li><code>t=.classname:pseudo-class</code> - Targets elements with the specified class and pseudo-class.</li>\n    </ul><br/>\n\n  - <strong class=\"text-sm\">Operation Prefixes</strong>: <br/>\n    Use the following prefixes to perform operations on the targeted elements:<br/>\n    <ul class=\"mt-4\">\n      <li><code>r=</code> - Remove targeted elements. For example, <code>r=tagname</code> will remove all elements matching the specified tag.</li>\n      <li><code>e=</code> - Empty all children from the targeted elements. For example, <code>e=.name</code> will empty the children of all elements with the class <code>name</code>.</li>\n      <li><code>c=</code> - Apply operations to the children of the targeted elements. For example, <code>c=tagname</code> will select the children of currently selected elements that match the specified tag.</li>\n      <li><code>mv=</code> - Move targeted elements. For example, <code>mv=tagname</code> will cut the currently selected elements and paste them as elements matching the specified tag.</li>\n      <li><code>rs=</code> - Remove styles from the project as well as targeted elements. For example, <code>rs=styleName</code> will clear the specified style from all elements that currently have it applied.</li>\n    </ul><br/>\n\n  - <strong class=\"text-sm\">Special Commands</strong>: <br/>\n    Use special commands to quickly fold, unfold, hide, show all layers, or empty all children from selections. The supported commands are:<br/>\n    <ul class=\"mt-4\">\n      <li><code>f</code> - Collapse all layers.</li>\n      <li><code>u</code> - Uncollapse all layers.</li>\n      <li><code>h</code> - Hide all layers.</li>\n      <li><code>s</code> - Show all layers.</li>\n      <li><code>e</code> - Empty all children from selections.</li>\n    </ul>\n    If no query is provided and you click \"Confirm\", all current selections will be cleared automatically. (You can also do this using the shortcut <code>Shift+Ctrl+A</code> on Windows or <code>Shift+Cmd+A</code> on Mac)<br/><br/>\n\n  - <strong class=\"text-sm\">Replace Current Selection</strong>: <br/>\n    Toggle the switch to decide whether to replace the current selection or add to it.<br/>\n    You can also hold the <code>Ctrl</code> key on Windows (<code>Cmd</code> key on Mac) to do this as well to target replacing current selection.<br/><br/>\n\n  - <strong class=\"text-sm\">Execute</strong>: <br/>\n    Press Enter to run the command or query.<br/><br/>\n\n  - <strong class=\"text-sm\">Close</strong>: <br/>\n    The palette will close automatically after executing a command.<br/>\n    You can also open it using the shortcut <code>Ctrl+Shift+P</code> on Windows or <code>Cmd+Shift+P</code> on Mac.<br/>\n    You can also use the <code>Esc</code> key to close every opened dialog.\n</div>`;\n\n  // Check if data.commandPalette is true\n  if (!data.commandPalette) {\n    data.commandPalette = true;\n\n    // Modal rendering code\n    Modal.render({\n      title: \"Command Palette...\",\n      content: `\n        <div class=\"p-4 grid grid-cols-1 gap-4\">\n          <input\n            id=\"olphbh94a\"\n            type=\"text\"\n            placeholder=\"Enter a query (e.g., tag=li:first-child, class=name)...\"\n            class=\"rounded-full border p-2 flex-grow\"\n            style=\"margin: 0;\"\n            onkeydown=\"\n              if (event.key === 'Enter') {\n                executeQuery(this.value.trim(), data.replaceCurrentSelection);\n                document.querySelector('dialog[open]').querySelector('header > button').onclick();\n              }\n            \"\n          />\n          <div class=\"flex items-center\">\n            <input \n              type=\"checkbox\" \n              role=\"switch\" \n              id=\"emuqfdoxq\" \n              class=\"mr-2\" \n              ${data.replaceCurrentSelection ? 'checked' : ''} \n              onchange=\"data.replaceCurrentSelection = !data.replaceCurrentSelection;\"\n            />\n            <label for=\"emuqfdoxq\" class=\"select-none\">Replace current selection</label>\n          </div>\n          <hr/>\n          <details class=\"flex items-center mb-0\" ${data.commandsOpen ? 'open' : ''} ontoggle=\"\n            const detailsElement = this;\n            data.commandsOpen = detailsElement.hasAttribute('open');\n          \">\n          <summary>\n            Commands\n          </summary>\n          <code class=\"grid grid-cols-2 gap-2 mb-0 bg-transparent\">\n            ${buttonsHtml}\n          </code>\n        </details>\n        <hr/>\n        <details class=\"mb-0\" ${data.commandPaletteGuide ? 'open' : ''} ontoggle=\"\n            const detailsElement = this;\n            data.commandPaletteGuide = detailsElement.hasAttribute('open');\n          \">\n          <summary>\n            How to use the Command Palette:\n          </summary>\n          ${guide}\n        </details>\n      </div>`,\n      onLoad() {\n        document.getElementById('olphbh94a').focus();\n      },\n      onClose() {\n        data.commandPalette = null;\n      },\n      onConfirm() {\n        const query = document.getElementById('olphbh94a').value.trim();\n        executeQuery(query, data.replaceCurrentSelection);\n        data.commandPalette = null;\n      }\n    });\n  }\n}\n\n// Inspector functions\nfunction renameRootVariable(id) {\n  let modalContent = `<div class=\"p-4 text-center grid grid-cols-1 gap-4\">\n    <input id=\"m7t85jokv\" type=\"text\" placeholder=\"-- added automatically\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n      <button \n        class=\"w-full border-red-400 text-red-400 rounded-md py-2 mt-4 bg-transparent font-thin\" \n        onclick=\"\n          saveState();\n          delete project.css.rootVariables['${id}']; \n          localStorage.setItem('Polyrise', JSON.stringify(project));\n          saveState();\n          App.render('#app');\n          renderPreview();\n          document.querySelector('dialog[open]').querySelector('header > button:last-child').onclick();\n        \">\n          Delete Variable\n        </button>\n  </div>`;\n\n  Modal.render({\n    title: `Are you sure you want to rename the \"${id.substring(2)}\" root variable?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('m7t85jokv').focus();\n    },\n    onConfirm() {\n      let value = document.getElementById('m7t85jokv').value;\n      if (value) {\n        let val = \"--\" + value;\n        if (project.css.rootVariables[val]) {\n          Modal.render({\n            title: `Unable to rename variable!`,\n            content: \"Variable name already exists!\"\n          });\n        } else {\n          saveState();\n\n          // Clone the style object\n          project.css.rootVariables[val] = JSON.parse(JSON.stringify(project.css.rootVariables[`${id}`]));\n  \n          // Now delete the old style object\n          delete project.css.rootVariables[`${id}`];\n          localStorage.setItem('Polyrise', JSON.stringify(project));\n\n          saveState();\n          App.render(\"#app\");\n          renderPreview();\n        }\n      } else {\n        Modal.render({\n          title: `Unable to rename variable`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction addStyle() {\n  let modalContent = `\n    <input \n      id=\"vvrh9nxwk\" \n      type=\"text\" \n      value=\".${generateId()}\"\n      placeholder=\"Style name/target...\"\n      onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  `;\n  \n  // Render the modal\n  Modal.render({\n    title: `Add A Style`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('vvrh9nxwk').focus();\n      document.getElementById('vvrh9nxwk').select();\n    },\n    onConfirm() {\n      const value = document.getElementById('vvrh9nxwk').value;\n      if (value) {\n        let obj = project.css.styles;\n        if (data.breakpointKey && data.stylesTarget) {\n          obj = project.css.breakpoints[`${data.breakpointKey}px`];\n        }\n\n        if (obj[`${value}`]) {\n          Modal.render({\n            title: `Unable to add style!`,\n            content: \"Style already exists!\"\n          });\n        } else {\n          obj[value] = {\n            \"base\": {},\n            \"pseudos\": []\n          };\n        }\n      } else {\n        Modal.render({\n          title: `Unable to add style`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction addStylePropModal(id, obj) {\n  // Define default values for each property type\n  const defaultValues = data.defaultValues;\n\n  // Sort and categorize properties\n  const rootVariables = Object.keys(project.css.rootVariables).sort();\n  const fixedValueProperties = Object.keys(data.cssFixedValueProperties).sort();\n  const rangedValueProperties = Object.keys(data.cssRangedValueProperties).sort();\n\n  // Generate options grouped by category\n  const rootVariableOptions = rootVariables.map(prop => `\n    <option value=\"${prop}\">${prop}</option>\n  `).join('');\n\n  const fixedValuePropertyOptions = fixedValueProperties.map(prop => `\n    <option value=\"${prop}\">${prop}</option>\n  `).join('');\n\n  const rangedValuePropertyOptions = rangedValueProperties.map(prop => `\n    <option value=\"${prop}\">${prop}</option>\n  `).join('');\n\n  const modalContent = `\n    <div class=\"p-4\">\n      <label class=\"block mb-2\">Select Property Type:</label>\n      <select id=\"property-type\" class=\"w-full rounded-md capitalize text-[.6rem]\">\n        <option value=\"\">-- Select a property --</option>\n        <optgroup label=\"Root Variables\">\n          ${rootVariableOptions}\n        </optgroup>\n        <optgroup label=\"Fixed Value Properties\">\n          ${fixedValuePropertyOptions}\n        </optgroup>\n        <optgroup label=\"Ranged Value Properties\">\n          ${rangedValuePropertyOptions}\n        </optgroup>\n      </select>\n      <div id=\"property-details-section\" class=\"mt-4\">\n        <div id=\"unit-section\" style=\"display: none;\">\n          <label class=\"block mb-2 mt-4\">Select Unit:</label>\n          <select id=\"property-unit\" class=\"w-full rounded-md capitalize text-[.6rem]\">\n            <!-- Options will be dynamically updated -->\n          </select>\n        </div>\n      </div>\n      <input id=\"ool1zyibs\" type=\"text\" placeholder=\"Type css property here...\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \"/>\n    </div>`;\n\n  Modal.render({\n    title: `Add New Style to \"${id}\"`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('ool1zyibs').focus();\n      const propertyTypeSelect = document.getElementById('property-type');\n      const unitSelect = document.getElementById('property-unit');\n      const unitSection = document.getElementById('unit-section');\n\n      function updatePropertyDetails(selectedType) {\n        unitSelect.innerHTML = '';\n\n        if (data.cssRangedValueProperties[selectedType]) {\n          unitSection.style.display = noUnitProperties.includes(selectedType) ? 'none' : 'block';\n\n          if (selectedType.startsWith('animation')) {\n            unitOptions.animation.forEach(unit => {\n              unitSelect.innerHTML += `<option value=\"${unit}\">${unit}</option>`;\n            });\n          } else if (transformUnits.includes(selectedType)) {\n            unitOptions.transform.forEach(unit => {\n              unitSelect.innerHTML += `<option value=\"${unit}\">${unit}</option>`;\n            });\n          } else {\n            unitOptions.default.forEach(unit => {\n              unitSelect.innerHTML += `<option value=\"${unit}\">${unit}</option>`;\n            });\n          }\n        } else if (data.cssFixedValueProperties[selectedType]) {\n          unitSection.style.display = 'none';\n        } else {\n          unitSection.style.display = 'none';\n        }\n      }\n\n      propertyTypeSelect.onchange = function() {\n        const selectedType = this.value;\n        updatePropertyDetails(selectedType);\n        document.getElementById('ool1zyibs').value = selectedType;\n      };\n    },\n    onConfirm() {\n      const propertyTypeInput = document.getElementById('ool1zyibs').value;\n      const unit = document.getElementById('property-unit') ? document.getElementById('property-unit').value : '';\n      const defaultValue = defaultValues[propertyTypeInput] || defaultValues['default'];\n      const finalValue = unit ? `${defaultValue}${unit}` : defaultValue;\n      const noUnit = ['opacity', 'z-index'];\n\n      if (propertyTypeInput) {\n        const properties = propertyTypeInput.split(',').map(prop => prop.trim());\n\n        properties.forEach(propertyType => {\n          const defaultValue = defaultValues[propertyType] || defaultValues['default'];\n          const finalValue = unit ? `${defaultValue}${unit}` : defaultValue;\n\n          if (noUnit.includes(propertyType)) {\n            obj[propertyType] = \"1\";\n          } else {\n            obj[propertyType] = finalValue;\n          }\n        });\n\n        App.render(\"#app\");\n        renderPreview();\n        saveState();\n      } else {\n        Modal.render({\n          title: \"Unable to add property!\",\n          content: \"Please select a property type.\"\n        });\n      }\n    }\n  });\n}\nfunction renameStyleTarget(target) {\n  let modalContent = `<div class=\"p-4 text-center\">\n    <input id=\"lnjvy3iz2\" type=\"text\" placeholder=\"Style name/target...\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  </div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to rename the \"${target}\" style?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('lnjvy3iz2').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('lnjvy3iz2').value;\n      if (value) {\n        if (project.css.styles[value]) {\n          Modal.render({\n            title: `Unable to add style!`,\n            content: \"Style already exists!\"\n          });\n        } else if (project.css.styles[`${target}`]) {\n          // Remove the storage of the styles target before changing\n          data.stylesTarget = null;\n\n          // Clone the style object\n          project.css.styles[value] = JSON.parse(JSON.stringify(project.css.styles[target]));\n  \n          // Now delete the old style object\n          delete project.css.styles[target];\n\n          // Target the new style\n          data.stylesTarget = value;\n\n          saveState();\n\n          // re-render the ui\n          App.render('#app');\n          renderPreview();\n        }\n      } else {\n        Modal.render({\n          title: `Unable to rename style`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deleteStyleTarget(target) {\n  let modalContent = `<div class=\"p-4 text-center\">You will still be able to undo.</div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to delete the \"${target}\" style?`,\n    content: modalContent,\n    onConfirm() {\n      if (data.stylesTarget) {\n        clearStyles(project.html, data.stylesTarget);\n        delete project.css.styles[data.stylesTarget];\n        data.stylesTarget = null;\n        saveState();\n      }\n    }\n  });\n}\nfunction addBreakpoint() {\n  let modalContent = `\n    <select \n      id=\"j6xqh4air\" \n      onchange=\"document.getElementById('vvrh9nxwk').value = this.value;\"\n    >\n      <option value=\"\">none</option>\n      <option value=\"640\">sm (640px)</option>\n      <option value=\"768\">md (768px)</option>\n      <option value=\"1024\">lg (1024px)</option>\n      <option value=\"1280\">xl (1280px)</option>\n      <option value=\"1536\">2xl (1536px)</option>\n    </select>\n    <input \n      id=\"vvrh9nxwk\" \n      type=\"number\" \n      placeholder=\"Breakpoint size here\"\n      onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('header > button:last-child').onclick();\n        }\n      \">\n  `;\n  \n  // Render the modal\n  Modal.render({\n    title: `Add A Breakpoint`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('vvrh9nxwk').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('vvrh9nxwk').value;\n      if (value) {\n        if (project.css.breakpoints[`${value}px`]) {\n          Modal.render({\n            title: `Unable to add breakpoint!`,\n            content: \"Breakpoint already exists!\"\n          });\n        } else {\n          project.css.breakpoints[`${value}px`] = {};\n          project.css.breakpoints[`${value}px`][`${data.stylesTarget}`] = {\n            \"base\": {},\n            \"pseudos\": []\n          };\n        }\n      } else {\n        Modal.render({\n          title: `Unable to add breakpoint`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction renameBreakpointKey(size) {\n  let modalContent = `<div class=\"p-4 text-center\">\n    <input id=\"mow5ep6l7\" type=\"number\" placeholder=\"Style name/target...\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  </div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to rename the \"${size}\" style?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('mow5ep6l7').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('mow5ep6l7').value;\n      if (value) {\n        if (project.css.breakpoints[`${value}px`]) {\n          Modal.render({\n            title: `Unable to rename breakpoint key!`,\n            content: \"Key already exists!\"\n          });\n        } else {\n          // Remove the storage of the styles target before changing\n          data.breakpointKey = null;\n\n          // Clone the style object\n          project.css.breakpoints[`${value}px`] = JSON.parse(JSON.stringify(project.css.breakpoints[size]));\n  \n          // Now delete the old style object\n          delete project.css.breakpoints[size];\n        }\n      } else {\n        Modal.render({\n          title: `Unable to rename breakpoint key`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deleteBreakpointKey(size) {\n  let modalContent = `<div class=\"p-4 text-center\">You will still be able to undo.</div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to delete the \"${size}\" style?`,\n    content: modalContent,\n    onConfirm() {\n      if (project.css.breakpoints[size]) {\n        data.breakpointKey = null;\n        delete project.css.breakpoints[size];\n        saveState();\n      }\n    }\n  });\n}\nfunction addAnimation() {\n  let modalContent = `\n    <input \n      id=\"vvrh9nxwk\" \n      type=\"text\" \n      placeholder=\"Animation name here....\"\n      onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  `;\n  \n  // Render the modal\n  Modal.render({\n    title: `Add An Animation`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('vvrh9nxwk').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('vvrh9nxwk').value;\n      if (value) {\n        if (project.css.animations[`${value}`]) {\n          Modal.render({\n            title: `Unable to add animation!`,\n            content: \"Animation already exists!\"\n          });\n        } else {\n          project.css.animations[value] = {\n            \"keyframes\": {}\n          };\n          project.css.animations[value].keyframes = {\n            \"0%\": {},\n            \"100%\": {}\n          };\n        }\n      } else {\n        Modal.render({\n          title: `Unable to add animation`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction renameAnimation(name) {\n  let modalContent = `<div class=\"p-4 text-center\">\n    <input id=\"mow5ep6l7\" type=\"text\" placeholder=\"Animation name here...\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  </div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to rename the \"${name}\" animation?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('mow5ep6l7').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('mow5ep6l7').value;\n      if (value) {\n        if (project.css.animations[value]) {\n          Modal.render({\n            title: `Unable to rename animation!`,\n            content: \"Animation name already exists!\"\n          });\n        } else {\n          // Remove the storage of the styles target before changing\n          data.animationTarget = null;\n\n          // Clone the style object\n          project.css.animations[value] = JSON.parse(JSON.stringify(project.css.animations[name]));\n  \n          // Now delete the old style object\n          delete project.css.animations[name];\n\n          // Make the new name the target\n          data.animationTarget = value;\n        }\n      } else {\n        Modal.render({\n          title: `Unable to rename animation`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deleteAnimation(name) {\n  let modalContent = `<div class=\"p-4 text-center\">You will still be able to undo.</div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to delete the \"${name}\" animation?`,\n    content: modalContent,\n    onConfirm() {\n      if (data.animationKeyframe) data.animationKeyframe = null;\n      // Remove the storage of the styles target before changing\n      data.animationTarget = null;\n      data.animationTarget = null;\n      delete project.css.animations[name];\n      App.render(\"#app\");\n    }\n  });\n}\nfunction addKeyFrame() {\n  if (!data.animationTarget) return;\n  let modalContent = `\n    <input \n      id=\"vvrh9nxwk\" \n      type=\"text\" \n      placeholder=\"From, To, 0%, 50%, 100%, etc:\"\n      onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  `;\n  \n  // Render the modal\n  Modal.render({\n    title: `Add An Animation`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('vvrh9nxwk').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('vvrh9nxwk').value;\n      if (value) {\n        if (project.css.animations[data.animationTarget].keyframes[`${value}`]) {\n          Modal.render({\n            title: `Unable to add keyframe!`,\n            content: \"Keyframe already exists!\"\n          });\n        } else {\n          project.css.animations[data.animationTarget].keyframes[`${value}`] = {};\n          saveState();\n        }\n      } else {\n        Modal.render({\n          title: `Unable to add keyframe`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction renameKeyFrame(name) {\n  let modalContent = `<div class=\"p-4 text-center\">\n    <input id=\"mow5ep6l7\" type=\"text\" placeholder=\"From, To, 0%, 50%, 100%, etc:\" onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  </div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to rename the \"${name}\" keyframe?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('mow5ep6l7').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('mow5ep6l7').value;\n      if (value) {\n        if (project.css.animations[data.animationTarget].keyframes[value]) {\n          Modal.render({\n            title: `Unable to rename keyframe!`,\n            content: \"Animation keyframe already exists!\"\n          });\n        } else {\n          // Remove the storage of the styles target before changing\n          data.animationKeyframe = null;\n\n          // Clone the style object\n          project.css.animations[data.animationTarget].keyframes[value] = JSON.parse(JSON.stringify(project.css.animations[data.animationTarget].keyframes[name]));\n  \n          // Now delete the old style object\n          delete project.css.animations[data.animationTarget].keyframes[name];\n\n          // Make the new name the target\n          data.animationKeyframe = value;\n          saveState();\n        }\n      } else {\n        Modal.render({\n          title: `Unable to rename keyframe key`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deleteKeyFrame(name) {\n  let modalContent = `<div class=\"p-4 text-center\">You will still be able to undo.</div>`;\n  \n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to delete the \"${name}\" keyframe?`,\n    content: modalContent,\n    onConfirm() {\n      if (data.animationKeyframe) data.animationKeyframe = null;\n      // Remove the storage of the styles target before changing\n      data.animationKeyframe = null;\n      delete project.css.animations[data.animationTarget].keyframes[name];\n      saveState();\n      App.render(\"#app\");\n    }\n  });\n}\nfunction addToKeyframe() {\n  if (!data.animationTarget || !data.animationKeyframe) return;\n  let modalContent = `\n    <input \n      id=\"vvrh9nxwk\" \n      type=\"text\" \n      placeholder=\"From, To, 0%, 50%, 100%, etc:\"\n      onkeydown=\"\n        if (event.key === 'Enter') {\n          document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n        }\n      \">\n  `;\n  \n  // Render the modal\n  Modal.render({\n    title: `Add keyframe property`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('vvrh9nxwk').focus();\n    },\n    onConfirm() {\n      const value = document.getElementById('vvrh9nxwk').value;\n      if (value) {\n        if (project.css.animations[data.animationTarget].keyframes[`${value}`]) {\n          Modal.render({\n            title: `Unable to add keyframe!`,\n            content: \"Keyframe already exists!\"\n          });\n        } else {\n          project.css.animations[data.animationTarget].keyframes[value] = {};\n          saveState();\n        }\n      } else {\n        Modal.render({\n          title: `Unable to add keyframe`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deleteStyleProp(id, prop, e, detect = null) {\n  let obj = null;\n  if (detect) {\n    if (detect === \"breakpoints\") {\n      obj = project.css.breakpoints[`${data.breakpointKey}px`][id][data.stylesPropTarget];\n    }\n    if (detect === \"animations\") {\n      obj = project.css.animations[data.animationTarget].keyframes[data.animationKeyframe]\n    }\n  } else {\n    obj = project.css.styles[id][data.stylesPropTarget];\n  }\n  // Delete the property\n  if (obj[prop]) delete obj[prop];\n  saveState();\n\n  // Remove the modal\n  e.closest('dialog[open]').remove();\n\n  // Re-render the app and preview\n  App.render(\"#app\");\n  renderPreview();\n}\nfunction clearStyles(layers, query, callback) {\n  // first delete the style object\n  if (project.css.styles[query]) {\n    delete project.css[query];\n  }\n\n  // Track whether we found and cleared the styles in any layer\n  let found = false;\n\n  // then let's remove the style from layers\n  for (const layer of layers) {\n    if (layer.style === query) {\n      layer.style = \"\";\n      found = true;\n    };\n    // Recurse through child layers\n    if (layer.children && layer.children.length > 0) {\n      clearStyles(layer.children, query, () => {\n        found = true;\n      });\n    }\n    // If we processed any layers, renderPreview and invoke the callback\n    if (found) {\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }\n}\nfunction styleModal(id, prop, currentValue, detect = null) {\n  const cssFixedValueProperties = data.cssFixedValueProperties;\n  const cssRangedValueProperties = data.cssRangedValueProperties;\n\n  let detected = null;\n  if (detect) detected = detect;\n\n  // Initialize the modal content based on the property type\n  let modalContent = '';\n  const valueParts = currentValue.split(' ');\n\n  if (cssRangedValueProperties[prop]) {\n    // Handle numeric values with unit selection\n    const { min, max, step } = cssRangedValueProperties[prop];\n\n    modalContent = `\n      <div class=\"p-4\">\n        <label class=\"block mb-2\">Current Value: ${currentValue}</label>\n        <input class=\"w-full rounded-md capitalize text-[.6rem]\" \n               type=\"number\" min=\"${min}\" max=\"${max}\" step=\"${step}\" value=\"${valueParts[0]}\"\n               id=\"new-value\"\n               placeholder=\"Enter new value\" />\n        <select class=\"w-full mt-2 rounded-md capitalize text-[.6rem]\" id=\"new-unit\">\n          ${['px', '%', 'rem', 'em', 'vh', 'vw'].map(unit => `\n            <option value=\"${unit}\" ${unit === (valueParts[1] || '') ? 'selected' : ''}>${unit}</option>\n          `).join('')}\n        </select>\n      </div>`;\n  } else if (cssFixedValueProperties[prop]) {\n    // Handle fixed values\n    const options = cssFixedValueProperties[prop].map(val => `\n      <option value=\"${val}\" ${val === currentValue ? 'selected' : ''}>${val}</option>\n    `).join('');\n\n    modalContent = `\n      <div class=\"p-4\">\n        <label class=\"block mb-2\">Current Value: ${currentValue}</label>\n        <select class=\"w-full rounded-md capitalize text-[.6rem]\" id=\"new-value\">\n          ${options}\n        </select>\n      </div>`;\n  } else {\n    // Handle other types of properties (e.g., text)\n    modalContent = `\n      <div class=\"p-4\">\n        <label class=\"block mb-2\">Current Value: ${currentValue}</label>\n        <input class=\"w-full rounded-md capitalize text-[.6rem]\" \n               type=\"text\" value=\"${currentValue}\" id=\"new-value\"\n               placeholder=\"Enter new value\" />\n      </div>`;\n  }\n\n  // Add a delete option\n  modalContent += `\n    <div class=\"p-4 text-center\">\n      <button class=\"w-full border-red-400 text-red-400 rounded-md py-2 mt-4 bg-transparent font-thin\" \n        onclick=\"deleteStyleProp('${id}', '${prop}', this${detected ? `, '${detected}'` : '' })\">Delete Property</button>\n    </div>`;\n\n  // Render the modal\n  Modal.render({\n    title: `Modify \"${prop}\" Style`,\n    content: modalContent,\n    onConfirm() {\n      saveState();\n\n      // Get the new value from the modal\n      const newValue = document.getElementById('new-value').value;\n      const newUnit = document.getElementById('new-unit') ? document.getElementById('new-unit').value : '';\n      const finalValue = newUnit ? `${newValue}${newUnit}` : newValue;\n\n      let obj = null;\n      if (detect) {\n        if (detect === \"breakpoints\") {\n          if (project.css.breakpoints[`${data.breakpointKey}px`][id][data.stylesPropTarget]) {\n            obj = project.css.breakpoints[`${data.breakpointKey}px`][id][data.stylesPropTarget];\n          }\n        }\n        if (detect === \"animations\") {\n          if (project.css.animations[data.animationTarget].keyframes[data.animationKeyframe]) {\n            obj = project.css.animations[data.animationTarget].keyframes[data.animationKeyframe];\n          }\n        }\n      } else {\n        if (data.stylesPropTarget) {\n          obj = project.css[id][data.stylesPropTarget];\n        }\n      }\n\n      // Update or delete the style\n      if (finalValue === '') {\n        // Delete the property if empty\n        delete obj[prop];\n      } else {\n        // Update the property with the new value\n        obj[prop] = finalValue;\n      }\n\n      App.render(\"#app\");\n      renderPreview();\n      saveState();\n    }\n  });\n}\nfunction addPseudo(selector) {\n  // Ensure the selector exists and initialize pseudos if not already present\n  if (!project.css.styles[selector]) return;\n  if (!project.css.styles[selector].pseudos) {\n    project.css.styles[selector].pseudos = [];\n  }\n\n  // Define available pseudo-classes and pseudo-elements\n  const pseudos = [\n    'none',\n    ':active',\n    ':after',\n    ':before',\n    ':first-child',\n    ':focus',\n    ':focus-visible',\n    ':focus-within',\n    ':hover',\n    ':last-child',\n    ':nth-child',\n    ':target',\n    ':visited',\n    '::-webkit-scrollbar',\n    '::-webkit-scrollbar-thumb',\n    '::-webkit-scrollbar-track',\n    '::before',\n    '::after'\n  ];\n\n  let pseudoOptions = pseudos.map(pseudo => `\n    <option value=\"${pseudo === 'none' ? '' : pseudo}\">${pseudo}</option>\n  `).join('');\n\n  let modalContent = `\n    <div class=\"p-4\">\n      <label class=\"block mb-2\">Select Pseudo-Class/Element:</label>\n      <select \n        id=\"pseudo-selector\" \n        class=\"w-full rounded-md capitalize text-[.6rem]\" \n        onchange=\"\n          document.getElementById('pseudo-input').value = this.value;\n        \">\n        <option value=\"\">-- Select a pseudo --</option>\n        ${pseudoOptions}\n      </select>\n      <input \n        id=\"pseudo-input\" \n        type=\"text\" \n        placeholder=\"Enter CSS property and value here (e.g., display:none):\"\n        class=\"w-full rounded-md text-[.6rem] mt-4\"\n        onkeydown=\"\n          if (event.key === 'Enter') {\n            document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n          }\n        \">\n    </div>\n  `;\n\n  // Render the modal\n  Modal.render({\n    title: `Add A Pseudo-Class/Element`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('pseudo-selector').focus();\n    },\n    onConfirm() {\n      const pseudoSelector = document.getElementById('pseudo-selector').value.trim();\n      const pseudoStyles = document.getElementById('pseudo-input').value.trim();\n\n      if (pseudoSelector && pseudoStyles) {\n        // Convert pseudoStyles into an object\n        const styles = pseudoStyles.split(';').reduce((acc, rule) => {\n          const [property, value] = rule.split(':').map(s => s.trim());\n          if (property && value) acc[property] = value;\n          return acc;\n        }, {});\n\n        const existingPseudo = project.css.styles[selector].pseudos.find(pseudo => pseudo.selector === pseudoSelector);\n\n        if (existingPseudo) {\n          // Merge new styles with existing styles if pseudo already exists\n          existingPseudo.styles = {\n            ...existingPseudo.styles,\n            ...styles\n          };\n        } else {\n          // Add a new pseudo object\n          let obj = {\n            \"selector\": pseudoSelector,\n            \"styles\": styles\n          };\n          project.css.styles[selector].pseudos.push(obj);\n        }\n\n        App.render(\"#app\");\n        renderPreview();\n        saveState();\n      } else {\n        Modal.render({\n          title: `Unable to add pseudo`,\n          content: \"Please select a pseudo and enter valid CSS properties and values.\"\n        });\n      }\n    }\n  });\n}\nfunction renamePseudo(oldName) {\n  // Define available pseudo-classes and pseudo-elements\n  const pseudos = [\n    'none',\n    ':active',\n    ':after',\n    ':before',\n    ':first-child',\n    ':focus',\n    ':focus-visible',\n    ':focus-within',\n    ':hover',\n    ':last-child',\n    ':nth-child',\n    ':target',\n    ':visited',\n    '::-webkit-scrollbar',\n    '::-webkit-scrollbar-thumb',\n    '::-webkit-scrollbar-track',\n    '::before',\n    '::after'\n  ];\n\n  let pseudoOptions = pseudos.map(pseudo => `\n    <option value=\"${pseudo === 'none' ? '' : pseudo}\">${pseudo}</option>\n  `).join('');\n\n  let modalContent = `\n    <div class=\"p-4\">\n      <label class=\"block mb-2\">Select Pseudo-Class/Element to Rename:</label>\n      <select \n        id=\"pseudo-selector\" \n        class=\"w-full rounded-md capitalize text-[.6rem]\" \n        onchange=\"\n          document.getElementById('pseudo-name-input').value = this.value;\n        \">\n        <option value=\"\">-- Select a pseudo --</option>\n        ${pseudoOptions}\n      </select>\n      <input \n        id=\"pseudo-name-input\" \n        type=\"text\" \n        placeholder=\"Enter new name here...\"\n        class=\"w-full rounded-md text-[.6rem] mt-4\"\n        onkeydown=\"\n          if (event.key === 'Enter') {\n            document.querySelector('dialog[open]').querySelector('footer > button:last-child').onclick();\n          }\n        \">\n    </div>\n  `;\n\n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to rename the \"${oldName}\" pseudo-class/element?`,\n    content: modalContent,\n    onLoad() {\n      document.getElementById('pseudo-name-input').focus();\n    },\n    onConfirm() {\n      const newName = document.getElementById('pseudo-name-input').value.trim();\n      if (newName) {\n        const style = project.css.styles[data.stylesTarget];\n        if (!style || !style.pseudos) return;\n\n        const existingPseudo = style.pseudos.find(pseudo => pseudo.selector === newName);\n        if (existingPseudo) {\n          Modal.render({\n            title: `Unable to rename pseudo!`,\n            content: \"Pseudo with the new name already exists!\"\n          });\n          return;\n        }\n\n        const pseudoIndex = style.pseudos.findIndex(pseudo => pseudo.selector === oldName);\n        if (pseudoIndex === -1) {\n          Modal.render({\n            title: `Pseudo not found!`,\n            content: `No pseudo with the name \"${oldName}\" found!`\n          });\n          return;\n        }\n\n        // Rename the pseudo\n        style.pseudos[pseudoIndex].selector = newName;\n\n        App.render(\"#app\");\n        saveState();\n      } else {\n        Modal.render({\n          title: `Unable to rename pseudo`,\n          content: \"No value detected!\"\n        });\n      }\n    }\n  });\n}\nfunction deletePseudo() {\n  const name = data.pseudosSelector;\n  const pseudoIndex = data.pseudosSelectorIndex;\n  let modalContent = `<div class=\"p-4 text-center\">You will still be able to undo.</div>`;\n\n  // Render the modal\n  Modal.render({\n    title: `Are you sure you want to delete the \"${name}\" pseudo-class/element?`,\n    content: modalContent,\n    onConfirm() {\n      const style = project.css.styles[data.stylesTarget];\n      if (!style || !style.pseudos) return;\n\n      data.pseudosSelector = null;\n      data.pseudosSelectorIndex = 0;\n      style.pseudos.splice(pseudoIndex, 1);\n      saveState();\n      renderPreview();\n    }\n  });\n}\n\n// editor functions\nfunction html2json(input) {\n  function elementToJson(element) {\n    const boxElements = data.boxElements;\n    const textElements = data.textElements;\n    const noTextElements = [\n      \"br\",\n      \"hr\",\n      \"input\",\n      \"progress\",\n      \"optgroup\",\n      \"input\",\n      \"link\",\n      \"img\",\n      \"svg\",\n      \"path\",\n      \"polygon\",\n      \"rect\",\n      \"circle\",\n      \"ellipse\",\n      \"g\",\n      \"defs\",\n      \"clipPath\"\n    ];\n    const tagName = element.tagName.toLowerCase();\n    const obj = {\n      tag: element.tagName.toLowerCase(),\n      id: generateId(),\n      styles: \"\",\n      state: {\n        \"collapsed\": false,\n        \"visible\": true,\n        \"selected\": false\n      }\n    };\n\n    obj.name = tagName;\n    if (boxElements.includes(tagName)) {\n      obj.type = \"box\";\n      obj.text = \"\";\n    } else if (textElements.includes(tagName)) {\n      obj.type = \"text\";\n      obj.text = \"\";\n    } else {\n      obj.type = tagName;\n      if (!noTextElements.includes(tagName)) {\n        obj.text = \"\";\n      }\n    }\n  \n    // Collect attributes\n    const props = {};\n    Array.from(element.attributes).forEach(attr => {\n      props[attr.name.toLowerCase()] = attr.value;\n    });\n  \n    // Add props only if not empty\n    if (Object.keys(props).length > 0) {\n      obj.props = props;\n    }\n  \n    if (element.childNodes.length > 0) {\n      obj.children = [];\n      element.childNodes.forEach(child => {\n        if (child.nodeType === Node.ELEMENT_NODE) {\n          obj.children.push(elementToJson(child));\n        } else if (child.nodeType === Node.TEXT_NODE && child.nodeValue.trim()) {\n          obj.text = child.nodeValue.trim();\n        }\n      });\n    }\n  \n    return obj;\n  }\n\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(input, 'text/html');\n  const json = Array.from(doc.body.children).map(child => elementToJson(child));\n  return json;\n}\nfunction json2html(input) {\n  function jsonToElement(json) {\n    const renderElement = element => {\n      let html = '';\n\n      // Skip elements that are not visible\n      if (element.state && !element.state.visible) return html;\n      \n      if (!element.tag) {\n        html += element.text || '';\n        return html;\n      }\n    \n      html += `<${element.tag}`;\n\n      if (element.props) {\n        for (let [key, value] of Object.entries(element.props)) {\n          html += ` ${key}=\"${value}\"`;\n        }\n      }\n    \n      html += '>';\n    \n      if (element.text) {\n        html += escapeHtml(element.text);\n      }\n    \n      if (element.children) {\n        for (const childElement of element.children) {\n          html += renderElement(childElement);\n        }\n      }\n    \n      html += `</${element.tag}>`;\n      return html;\n    }\n  \n    let html = '';\n\n    // If the input is an object, wrap it in an array\n    if (!Array.isArray(json)) {\n      json = [json];\n    }\n\n    if (Array.isArray(json)) {\n      json.forEach(element => {\n        html += renderElement(element);\n      });\n    }\n    return html;\n  }\n  function escapeHtml(text) {\n    const map = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#039;'\n    };\n    return text.replace(/[&<>\"']/g, function(m) { return map[m]; });\n  }\n  function beautifyHtml(json) {\n    const html = jsonToElement(json);\n    let tab = '  ';\n    let result = '';\n    let indent = '';\n  \n    html.split(/>\\s*</).forEach(function(element) {\n      if (element.match(/^\\/\\w/)) {\n        indent = indent.substring(tab.length);\n      }\n  \n      result += indent + '<' + element.trim() + '>\\r\\n';\n  \n      if (element.match(/^<?\\w[^>]*[^\\/]$/) && !element.startsWith(\"<input\")) {\n        indent += tab;\n      }\n    });\n  \n    // Remove leading tab and newline, and trim trailing newline and whitespace\n    return result.substring(1, result.length - 3).trim();\n  }\n\n  return beautifyHtml(input);\n}\nfunction css2json(css) {\n  if (typeof css !== 'string') {\n    throw new Error(\"Input must be a CSS string\");\n  }\n  const json = {\n    rootVariables: {},\n    styles: {},\n    animations: {},\n    breakpoints: {}\n  };\n\n  // Function to remove comments from CSS\n  function removeComments(css) {\n    return css.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '').replace(/\\/\\/[^\\n]*/g, '');\n  }\n\n  css = removeComments(css);\n\n  const selectorRegex = /([^{@]+)\\{([^}]+)\\}/g;\n  const mediaQueryRegex = /@media\\s*([^{]+)\\s*\\{([\\s\\S]*?\\{[\\s\\S]*?\\})\\s*}/g;\n  const keyframesRegex = /@keyframes\\s+([^{\\s]+)\\s*\\{([^}]*\\{[^}]*\\}[^}]*)\\}/g;\n\n  function processSelector(selector, properties, target) {\n    selector = selector.trim();\n\n    if (selector === \":root\") {\n      properties.split(';').forEach(prop => {\n        const [varName, varValue] = prop.split(\":\").map(part => part.trim());\n        if (varName && varValue) {\n          json.rootVariables[varName] = varValue;\n        }\n      });\n      return;\n    }\n\n    const pseudoMatch = selector.match(/^(.*?)(::?[a-zA-Z0-9-]+)$/);\n    let baseSelector = selector;\n    let pseudo = null;\n\n    if (pseudoMatch) {\n      baseSelector = pseudoMatch[1].trim();\n      pseudo = pseudoMatch[2];\n    }\n\n    if (!target[baseSelector]) {\n      target[baseSelector] = {};\n    }\n\n    let currentTarget = target[baseSelector];\n    if (pseudo) {\n      currentTarget['pseudos'] = currentTarget['pseudos'] || [];\n      const pseudoObj = {\n        selector: pseudo,\n        styles: {}\n      };\n      currentTarget['pseudos'].push(pseudoObj);\n      currentTarget = pseudoObj.styles;\n    } else {\n      currentTarget['base'] = currentTarget['base'] || {};\n      currentTarget = currentTarget['base'];\n    }\n\n    properties.split(';').forEach(prop => {\n      const [property, value] = prop.split(\":\").map(part => part.trim());\n      if (property && value) {\n        currentTarget[property] = value;\n      }\n    });\n  }\n\n  function processRules(cssRules, target) {\n    let match;\n    while ((match = selectorRegex.exec(cssRules)) !== null) {\n      const selector = match[1].trim();\n      const properties = match[2].trim();\n      processSelector(selector, properties, target);\n    }\n  }\n\n  function processKeyframes(keyframesName, keyframesRules) {\n    const keyframes = {};\n\n    keyframesRules.split('}').forEach(segment => {\n      segment = segment.trim();\n      if (!segment) return;\n\n      const [keyframeName, propertiesPart] = segment.split('{').map(part => part.trim());\n      if (keyframeName && (keyframeName.includes('to') || keyframeName.includes('from') || keyframeName.includes('%'))) {\n        propertiesPart.split(';').forEach(prop => {\n          const [property, value] = prop.split(':').map(p => p.trim());\n          if (property && value) {\n            keyframes[keyframeName] = keyframes[keyframeName] || {};\n            keyframes[keyframeName][property] = value;\n          }\n        });\n      }\n    });\n\n    json.animations[keyframesName] = { keyframes };\n  }\n\n  // Process media queries\n  let mediaMatch;\n  while ((mediaMatch = mediaQueryRegex.exec(css)) !== null) {\n    const mediaCondition = mediaMatch[1].trim().split(\")\")[0].split(\":\")[1].trim();\n    const mediaRules = mediaMatch[2].trim();\n    const mediaTarget = {};\n\n    processRules(mediaRules, mediaTarget);\n\n    json.breakpoints[mediaCondition] = mediaTarget;\n  }\n\n  // Remove media queries from CSS\n  const cssWithoutMedia = css.replace(mediaQueryRegex, '');\n\n  // Process remaining CSS rules\n  processRules(cssWithoutMedia, json.styles);\n\n  // Process keyframes\n  let keyframesMatch;\n  while ((keyframesMatch = keyframesRegex.exec(css)) !== null) {\n    const keyframesName = keyframesMatch[1].trim();\n    const keyframesRules = keyframesMatch[2].trim();\n    processKeyframes(keyframesName, keyframesRules);\n  }\n\n  // Remove any empty selectors or unnecessary properties\n  Object.keys(json.styles).forEach(selector => {\n    if (Object.keys(json.styles[selector]).length === 0) {\n      delete json.styles[selector];\n    }\n  });\n\n  return json;\n}\nfunction json2css(styles) {\n  let css = '';\n  let symbol = \"\";\n  let semicolon = \";\";\n  let openBrace = \"{\";\n  let closeBrace = \"}\";\n\n  // Function to check if a value contains CSS variables\n  function containCssVar(value) {\n    return /var\\(--/.test(value);\n  }\n\n  // Function to process styles recursively\n  function processStyles(selector, style, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let innerCss = '';\n\n    const variables = style.variables || {};\n    const baseStyles = style.base || {};\n    const pseudos = style.pseudos || [];\n    const children = style.children || {}; // Account for children\n\n    // Add the base selector\n    innerCss += `${indent}${selector} ${openBrace}\\n`;\n\n    // Variables\n    for (const [variable, value] of Object.entries(variables)) {\n      innerCss += `${indent}  ${symbol}${variable}: ${value}${semicolon}\\n`;\n    }\n\n    // Base styles\n    for (let [property, value] of Object.entries(baseStyles)) {\n      if (containCssVar(value)) {\n        // Replace CSS variables with CSS variables, handling mixed content\n        value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n          return `var(--${varName})`;\n        });\n      }\n      innerCss += `${indent}  ${property}: ${value}${semicolon}\\n`;\n    }\n\n    innerCss += `${indent}${closeBrace}\\n`;\n\n    // Pseudo-classes/styles\n    pseudos.forEach(({ selector: pseudoSelector, styles: pseudoStyles }) => {\n      innerCss += `${indent}${selector}${pseudoSelector} ${openBrace}\\n`;\n      for (let [property, value] of Object.entries(pseudoStyles)) {\n        if (containCssVar(value)) {\n          value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n            return `var(--${varName})`;\n          });\n        }\n        innerCss += `${indent}  ${property}: ${value}${semicolon}\\n`;\n      }\n      innerCss += `${indent}${closeBrace}\\n`;\n    });\n\n    // Recursively process children\n    for (const [childSelector, childStyle] of Object.entries(children)) {\n      innerCss += processStyles(`${selector} ${childSelector}`, childStyle, indentLevel + 1);\n    }\n\n    return innerCss;\n  }\n\n  // Function to process animations\n  function processAnimations(animations, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let animationCss = '';\n\n    for (const [animationName, animation] of Object.entries(animations)) {\n      animationCss += `${indent}@keyframes ${animationName} ${openBrace}\\n`;\n\n      for (const [keyframe, styles] of Object.entries(animation.keyframes)) {\n        animationCss += `${indent}  ${keyframe} ${openBrace}\\n`;\n        for (let [property, value] of Object.entries(styles)) {\n          if (containCssVar(value)) {\n            value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n              return `var(--${varName})`;\n            });\n          }\n          animationCss += `${indent}    ${property}: ${value}${semicolon}\\n`;\n        }\n        animationCss += `${indent}  ${closeBrace}\\n`;\n      }\n\n      animationCss += `${indent}${closeBrace}\\n`;\n    }\n\n    return animationCss;\n  }\n\n  // Function to process breakpoints\n  function processBreakpoints(breakpoints, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let breakpointCss = '';\n\n    for (const [breakpoint, styles] of Object.entries(breakpoints)) {\n      breakpointCss += `${indent}@media (min-width: ${breakpoint}) ${openBrace}\\n`;\n      for (const [selector, style] of Object.entries(styles)) {\n        breakpointCss += processStyles(selector, style, indentLevel + 1);\n      }\n      breakpointCss += `${indent}${closeBrace}\\n`;\n    }\n\n    return breakpointCss;\n  }\n\n  // Define :root variables\n  if (styles.rootVariables && Object.keys(styles.rootVariables).length) {\n    css += \":root {\\n\";\n    for (const [variable, value] of Object.entries(styles.rootVariables)) {\n      css += `  ${variable}: ${value}${semicolon}\\n`;\n    }\n    css += \"}\\n\\n\";\n  }\n\n  // Define styles for each class\n  for (const [classId, style] of Object.entries(styles.styles)) {\n    if (!style || (!Object.keys(style.variables || {}).length &&\n        !Object.keys(style.base || {}).length &&\n        !Object.keys(style.pseudos || {}).length &&\n        !Object.keys(style.children || {}).length)) {\n      continue; // Skip empty styles\n    }\n\n    const selector = classId;\n    css += processStyles(selector, style);\n  }\n\n  // Process animations\n  if (Object.keys(styles.animations || {}).length) {\n    css += processAnimations(styles.animations);\n  }\n\n  // Process breakpoints (media queries)\n  if (Object.keys(styles.breakpoints || {}).length) {\n    css += processBreakpoints(styles.breakpoints);\n  }\n\n  return css;\n}\n\nfunction json2preprocessor(styles) {\n  let css = '';\n  let symbol = \"\";\n  let semicolon = \";\";\n  let openBrace = \"{\";\n  let closeBrace = \"}\";\n\n  // set proper symbols\n  if (data.preprocessors.includes(project.convertTo)) {\n    if (project.convertTo === \"sass\" || project.convertTo === \"scss\") symbol = \"$\";\n    if (project.convertTo === \"sass\") {\n      semicolon = \"\";\n      openBrace = \"\";\n      closeBrace = \"\";\n    }\n    if (project.convertTo === \"less\") symbol = \"@\";\n  }\n\n  // Function to check if a value contains CSS variables\n  function containcssVar(value) {\n    return /var\\(--/.test(value);\n  }\n\n  // Function to process styles recursively\n  function processStyles(selector, style, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let innercss = '';\n\n    const variables = style.variables || {};\n    const baseStyles = style.base || {};\n    const pseudos = style.pseudos || [];\n    const children = style.children || {}; // Account for children\n\n    innercss += `${indent}${selector} ${openBrace}\\n`;\n\n    // Variables (convert CSS variables to css variables)\n    for (const [variable, value] of Object.entries(variables)) {\n      innercss += `${indent}  ${symbol}${variable}: ${value}${semicolon}\\n`;\n    }\n\n    // Base styles\n    for (let [property, value] of Object.entries(baseStyles)) {\n      if (property.startsWith('--')) {\n        property = property.split('--').join(symbol);\n      }\n\n      // Check if value contains a CSS variable\n      if (containcssVar(value)) {\n        // Replace CSS variables with css variables, handling mixed content\n        value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n          if (!property.startsWith('--')) {\n            return `${symbol}${varName}`;\n          } else {\n            return `${symbol}${varName}`;\n          }\n        });\n      }\n      innercss += `${indent}  ${property}: ${value}${semicolon}\\n`;\n    }\n\n    // Pseudo-classes/styles\n    pseudos.forEach(({ selector: pseudoSelector, styles: pseudoStyles }) => {\n      innercss += `${indent}  &${pseudoSelector} ${openBrace}\\n`;\n      for (let [property, value] of Object.entries(pseudoStyles)) {\n        // Check if value contains a CSS variable\n        if (containcssVar(value)) {\n          value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n            return `${symbol}${varName}`;\n          });\n        }\n        innercss += `${indent}    ${property}: ${value}${semicolon}\\n`;\n      }\n      innercss += `${indent}  ${closeBrace}\\n`;\n    });\n\n    // Recursively process children\n    if (children) {\n      for (const [childSelector, childStyle] of Object.entries(children)) {\n        innercss += processStyles(`${selector} ${childSelector}`, childStyle, indentLevel + 1);\n      }\n    }\n\n    innercss += `${indent}${closeBrace}\\n`;\n\n    return innercss;\n  }\n\n  // Function to process animations\n  function processAnimations(animations, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let animationCSS = '';\n\n    for (const [animationName, animation] of Object.entries(animations)) {\n      animationCSS += `${indent}@keyframes ${animationName} ${openBrace}\\n`;\n\n      for (const [keyframe, styles] of Object.entries(animation.keyframes)) {\n        animationCSS += `${indent}  ${keyframe} ${openBrace}\\n`;\n        for (let [property, value] of Object.entries(styles)) {\n          // Replace CSS variables with preprocessor variables if needed\n          if (containcssVar(value)) {\n            value = value.replace(/var\\(--([a-zA-Z0-9-_]+)\\)/g, (match, varName) => {\n              return `${symbol}${varName}`;\n            });\n          }\n          animationCSS += `${indent}    ${property}: ${value}${semicolon}\\n`;\n        }\n        animationCSS += `${indent}  ${closeBrace}\\n`;\n      }\n\n      animationCSS += `${indent}${closeBrace}\\n`;\n    }\n\n    return animationCSS;\n  }\n\n  // Function to process breakpoints\n  function processBreakpoints(breakpoints, indentLevel = 0) {\n    let indent = '  '.repeat(indentLevel);\n    let breakpointCSS = '';\n\n    for (const [breakpoint, styles] of Object.entries(breakpoints)) {\n      breakpointCSS += `${indent}@media (max-width: ${breakpoint}) ${openBrace}\\n`;\n      for (const [selector, style] of Object.entries(styles.base || {})) {\n        breakpointCSS += processStyles(selector, style, indentLevel + 1);\n      }\n      breakpointCSS += `${indent}${closeBrace}\\n`;\n    }\n\n    return breakpointCSS;\n  }\n\n  // Define :root variables (css supports variables using $)\n  let rootVariables = [];\n  if (styles.rootVariables && Object.keys(styles.rootVariables).length) {\n    for (const [variable, value] of Object.entries(styles.rootVariables)) {\n      rootVariables.push(variable);\n      css += `${symbol}${variable.split('--').join('')}: ${value}${semicolon}\\n`;\n    }\n    css += '\\n';\n  }\n\n  // Define styles for each class\n  for (const [classId, style] of Object.entries(styles.styles)) {\n    if (!style || (!Object.keys(style.variables || {}).length &&\n        !Object.keys(style.base || {}).length &&\n        !Object.keys(style.pseudos || {}).length &&\n        !Object.keys(style.children || {}).length)) {\n      continue; // Skip empty styles\n    }\n\n    const selector = classId;\n    css += processStyles(selector, style);\n  }\n\n  // Process animations\n  if (Object.keys(styles.animations || {}).length) {\n    css += processAnimations(styles.animations);\n  }\n\n  // Process breakpoints (media queries)\n  if (Object.keys(styles.breakpoints || {}).length) {\n    css += processBreakpoints(styles.breakpoints);\n  }\n\n  return css;\n}\nfunction mergeCSSJSON(existingJSON, newJSON) {\n  if (typeof existingJSON === 'string') {\n    throw new Error(\"Input's must be JSON\");\n  }\n\n  // Merge root variables\n  Object.assign(existingJSON.rootVariables, newJSON.rootVariables);\n\n  // Merge styles\n  Object.keys(newJSON.styles).forEach(selector => {\n    if (!existingJSON.styles[selector]) {\n      existingJSON.styles[selector] = newJSON.styles[selector];\n    } else {\n      if (newJSON.styles[selector].base) {\n        existingJSON.styles[selector].base = {\n          ...existingJSON.styles[selector].base,\n          ...newJSON.styles[selector].base\n        };\n      }\n      if (newJSON.styles[selector].pseudos) {\n        existingJSON.styles[selector].pseudos = [\n          ...(existingJSON.styles[selector].pseudos || []),\n          ...newJSON.styles[selector].pseudos\n        ];\n      }\n    }\n  });\n\n  // Merge animations\n  Object.keys(newJSON.animations).forEach(animationName => {\n    if (!existingJSON.animations[animationName]) {\n      existingJSON.animations[animationName] = newJSON.animations[animationName];\n    } else {\n      existingJSON.animations[animationName].keyframes = {\n        ...existingJSON.animations[animationName].keyframes,\n        ...newJSON.animations[animationName].keyframes\n      };\n      existingJSON.animations[animationName].properties = {\n        ...existingJSON.animations[animationName].properties,\n        ...newJSON.animations[animationName].properties\n      };\n    }\n  });\n\n  // Merge breakpoints\n  Object.keys(newJSON.breakpoints).forEach(breakpoint => {\n    if (!existingJSON.breakpoints[breakpoint]) {\n      existingJSON.breakpoints[breakpoint] = newJSON.breakpoints[breakpoint];\n    } else {\n      Object.keys(newJSON.breakpoints[breakpoint]).forEach(selector => {\n        if (!existingJSON.breakpoints[breakpoint][selector]) {\n          existingJSON.breakpoints[breakpoint][selector] = newJSON.breakpoints[breakpoint][selector];\n        } else {\n          existingJSON.breakpoints[breakpoint][selector].base = {\n            ...existingJSON.breakpoints[breakpoint][selector].base,\n            ...newJSON.breakpoints[breakpoint][selector].base\n          };\n        }\n      });\n    }\n  });\n\n  return existingJSON;\n}\n\nfunction saveState() {\n  // Save the current state to history\n  const currentState = {\n    rootVariables: project.css.rootVariables,\n    styles: project.css,\n    html: project.html,\n    selectedLayerIds: data.selectedLayerIds\n  };\n\n  // Store the state as a stringified object\n  const stateString = JSON.stringify(currentState);\n\n  // Check if the last saved state is different from the current state\n  if (data.history.length === 0 || data.history[data.historyIndex] !== stateString) {\n    data.history = data.history.slice(0, data.historyIndex + 1); // Trim any redo history\n    data.history.push(stateString); // Save the new state\n    data.historyIndex++;\n    localStorage.setItem('Polyrise', JSON.stringify(project));\n  }\n}\nfunction undo() {\n  if (data.historyIndex > 0) {\n    data.editorNavState = true;\n    data.historyIndex--;\n    const previousState = JSON.parse(data.history[data.historyIndex]);\n    // Restore the previous state\n    project.css.rootVariables = previousState.rootVariables;\n    project.css = previousState.styles;\n    project.html = previousState.html;\n    data.selectedLayerIds = previousState.selectedLayerIds;\n    data.editorNavState = null;\n  }\n}\nfunction redo() {\n  if (data.historyIndex < data.history.length - 1) {\n    data.editorNavState = true;\n    data.historyIndex++;\n    const nextState = JSON.parse(data.history[data.historyIndex]);\n    // Restore the next state\n    project.css.rootVariables = nextState.rootVariables;\n    project.css = previousState.styles;\n    project.html = nextState.html;\n    data.selectedLayerIds = nextState.selectedLayerIds;\n    data.editorNavState = null;\n  }\n}\nfunction customCode() {\n  Modal.render({\n    title: \"Paste Custom Code\",\n    content: `\n      <div class=\"p-4 text-center\">\n        <div class=\"p-4 text-center\">\n          <select id=\"bvk1c6j4o\" class=\"uppercase\">\n            <option value=\"html\">html</option>\n            <option value=\"css\">css</option>\n          </select>\n        </div>\n        <div class=\"p-4 text-center\">\n          <textarea id=\"op95hyy3l\" class=\"w-full h-[250px] resize-y\" placeholder=\"Paste code here...\"></textarea>\n        </div>\n      </div>\n    `,\n    onLoad() {\n      document.getElementById('op95hyy3l').focus();\n      document.getElementById('op95hyy3l').select();\n    },\n    onConfirm: function() {\n      const selection = document.getElementById('bvk1c6j4o').value;\n      let code = document.getElementById('op95hyy3l').value;\n      if (selection === 'html') {\n        addBlock(code);\n      } else {\n        code = minifyCSS(code);\n        const newJSON = css2json(code);\n        mergeCSSJSON(project.css, newJSON);\n      }\n    }\n  });\n}\nconst addLibrary = url => {\n  if (!url) {\n    project.libraries.push('');\n    document.getElementById('librariesBox').innerHTML = renderLibraries();\n    return false;\n  }\n\n  if (!project.libraries.includes(url)) {\n    project.libraries.push(url);\n  } else {\n    console.error(`Library already exists: ${url}`);\n  }\n\n  if (document.getElementById('librariesBox')) {\n    document.getElementById('librariesBox').innerHTML = renderLibraries();\n  }\n};\nfunction renderLibraries() {\n  return project.libraries.map((library, index) => `\n    <nav class=\"flex justify-between py-2\" data-index=\"${index}\">\n      <input \n        type=\"text\" \n        placeholder=\"https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js\" \n        data=\"library\" \n        class=\"w-full pl-3 pr-0 rounded-md rounded-r-none focus:shadow-none\"\n        style=\"margin-bottom: 0;\"\n        value=\"${library}\" \n        oninput=\"project.libraries[${index}] = this.value\" />\n      <button \n        aria-label=\"delete library\"\n        name=\"delete library\"\n        class=\"px-3 py-[15px] h-full border-0 rounded-md rounded-l-none\"\n        onclick=\"project.libraries.splice(${index}, 1);\">\n        ${icons.trash}\n      </button>\n    </nav>\n  `).join('')\n}\nfunction fetchSuggestions(key) {\n  fetch(\n    `https://api.cdnjs.com/libraries?search=${key}&fields=filename,description,version`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n      return response.json();\n    })\n    .then(item => {\n      if (item && item.results && item.results.length > 0) {\n        const suggestions = item.results.map(result => result);\n\n        document.getElementById('pruz9lb2p').innerHTML = suggestions.map(result => {\n          return `\n            <section \n              class=\"cursor-pointer\"\n              onclick=\"\n                if (!project.libraries.includes('${result.latest}')) project.libraries.push('${result.latest}'); \n                data.searchLibKey = null;\n                data.librarySuggestions = null;\n                searchInput.value = null;\n                renderPreview(true);\n                const dialog = this.closest('dialog');\n                if (dialog) dialog.querySelector('header > button').onclick();\n              \">\n              <div class=\"flex justify-between mb-2 font-bold text-1xl\">\n                <span class=\"font-bold\">${result.name}</span>\n                <span class=\"font-bold\">${result.version}</span>\n              </div>\n              <div class=\"text-sm font-thin\">${result.description}<br><hr></div>\n            </section>`;\n        }).join('');\n      }\n    })\n    .catch(error => {\n      console.error(\"Error fetching data:\", error);\n    });\n}\nfunction removeScript(src) {\n  const script = document.querySelector(`script[src=\"${src}\"]`);\n  if (script) script.remove();\n}\nfunction removeScripts(scripts) {\n  scripts.forEach(src => {\n    const script = document.querySelector(`script[src=\"${src}\"]`);\n    if (script) script.remove();\n  });\n}\nasync function loadScript(scriptUrl) {\n  return new Promise((resolve, reject) => {\n    // Check if the script is already loaded\n    const existingScript = document.querySelector(`script[src=\"${scriptUrl}\"]`);\n    if (existingScript) {\n      resolve(); // If the script is already present, resolve immediately\n      return;\n    }\n\n    // Create a new script element if not present\n    const scriptElement = document.createElement('script');\n    scriptElement.src = scriptUrl;\n    scriptElement.onload = resolve; // Resolve when the script is successfully loaded\n    scriptElement.onerror = () => reject(new Error(`Failed to load script: ${scriptUrl}`)); // Reject on error\n    document.body.appendChild(scriptElement); // Append the script to the body\n  });\n}\nasync function loadScripts(srcArray) {\n  return Promise.all(srcArray.map(loadScript));\n}\n\n// layers functions\nfunction executeQuery(queriesString, replaceSelection = true) {\n  if (!queriesString) {\n    clearAllSelections();\n    return;\n  }\n\n  const queries = queriesString.split(',').map(q => q.trim());\n\n  function handleSpecialCommand(command) {\n    switch (command) {\n      case 'f':\n        foldAllLayers(true); // Collapse all layers\n        break;\n      case 'u':\n        foldAllLayers(false); // Uncollapse all layers\n        break;\n      case 'h':\n        hideAllLayers(true); // Hide all layers\n        break;\n      case 's':\n        hideAllLayers(false); // Show all layers\n        break;\n      case 'e':\n        emptyChildren(); // Empty all children from selections\n        break;\n      default:\n        console.warn('Unknown command:', command);\n    }\n  }\n\n  function matchesPseudoClass(layer, pseudoClass, index, total) {\n    switch (pseudoClass) {\n      case 'first-child': return index === 0;\n      case 'last-child': return index === total - 1;\n      case 'nth-child': return (index + 1) === parseInt(pseudoClass.split('(')[1], 10);\n      case 'nth-last-child': return (total - index) === parseInt(pseudoClass.split('(')[1], 10);\n      case 'only-child': return total === 1;\n      case 'empty': return !(layer.children && layer.children.length > 0);\n      case 'first-of-type': return layer.tagOccurrences.index === 0;\n      case 'last-of-type': return layer.tagOccurrences.reverseIndex === 0;\n      case 'nth-of-type': return layer.tagOccurrences.index === parseInt(pseudoClass.split('(')[1], 10) - 1;\n      case 'nth-last-of-type': return layer.tagOccurrences.reverseIndex === parseInt(pseudoClass.split('(')[1], 10) - 1;\n      case 'only-of-type': return layer.tagOccurrences.total === 1;\n      default: return false;\n    }\n  }\n\n  function selectLayersRecursive(layers, query, callback) {\n    let activeCalls = 0; // Track active recursive calls\n  \n    function processLayers(layers) {\n      activeCalls++; // Increment the active call count\n  \n      layers.forEach((layer, index) => {\n        let match = false;\n  \n        // Extract selector and pseudo-class\n        const [selector, pseudoClassPart] = query.split(':');\n        const pseudoClass = pseudoClassPart || null;\n  \n        // Parse selector\n        let [tag, classNames, attribute, value] = [null, [], null, null];\n        const attributeMatch = /\\[([^\\]]+)\\]/.exec(selector);\n        if (attributeMatch) {\n          [attribute, value] = attributeMatch[1].split('=');\n        }\n        const classMatches = /\\.([^.\\[]+)/g;\n        let matchResult;\n        while ((matchResult = classMatches.exec(selector)) !== null) {\n          classNames.push(matchResult[1]);\n        }\n        tag = selector.split(/[\\.\\[]/)[0];\n  \n        // Check tag match\n        if (tag && layer.tag !== tag) match = false;\n        else match = true;\n  \n        // Check class match\n        if (classNames.length > 0) {\n          if (!layer.props || !layer.props.class) match = false;\n          else {\n            const layerClasses = layer.props.class.split(' ');\n            match = classNames.every(className => layerClasses.includes(className));\n          }\n        }\n  \n        // Check attribute match\n        if (attribute) {\n          if (value) {\n            // Ensure attribute is matched specifically, not just any property\n            if (layer.props && layer.props[attribute] !== value) match = false;\n          } else {\n            // Ensure attribute is matched specifically, not just any property\n            if (!layer.props || !layer.props.hasOwnProperty(attribute)) match = false;\n          }\n        }\n  \n        // Check pseudo-class match\n        if (match && pseudoClass) {\n          const total = layers.length;\n          if (!matchesPseudoClass(layer, pseudoClass, index, total)) match = false;\n        }\n  \n        // Apply selection\n        if (match) {\n          layer.state.selected = true;\n          if (!data.selectedLayerIds.includes(layer.id)) {\n            data.selectedLayerIds.push(layer.id);\n          }\n        }\n  \n        // Recursively apply to children\n        if (layer.children && layer.children.length > 0) {\n          processLayers(layer.children);\n        }\n      });\n  \n      activeCalls--; // Decrement the active call count\n  \n      // If this was the last active call, invoke the callback\n      if (activeCalls === 0 && callback && typeof callback === 'function') {\n        callback();\n      }\n    }\n  \n    // Start processing layers\n    processLayers(layers);\n  }\n\n  function targetChildrenOfSelections(query, callback) {\n    if (data.selectedLayerIds.length > 0) {\n      // Find the layers by IDs and target their children\n      const selectedLayers = data.selectedLayerIds.map(id => findLayerById(id, project.html));\n      if (selectedLayers.length > 0) {\n        // Collect children of selected layers\n        const children = selectedLayers.flatMap(group => group.layer.children || []);\n        // Select layers from children\n        selectLayersRecursive(children, query);\n      }\n\n      // Invoke the callback if provided\n      if (typeof callback === 'function') {\n        callback();\n      }\n    }\n  }\n\n  function processQuery(query) {\n    // Find the index of the '=' symbol\n    const equalsIndex = query.indexOf('=');\n  \n    // If '=' is found, convert the portion before it to lowercase\n    if (equalsIndex !== -1) {\n      const prefix = query.slice(0, equalsIndex).toLowerCase();\n      query = prefix + query.slice(equalsIndex);\n    }\n    \n    if (query.startsWith('t=')) {\n      if (replaceSelection) clearAllSelections();\n      selectLayersRecursive(project.html, query.slice(2));\n    } else if (query.startsWith('r=')) {\n      clearAllSelections();\n      selectLayersRecursive(project.html, query.slice(2), () => {\n        deleteLayers();\n      });\n    } else if (query.startsWith('e=')) {\n      clearAllSelections();\n      selectLayersRecursive(project.html, query.slice(2), () => {\n        emptyChildren();\n      });\n    } else if (query.startsWith('c=')) {\n      if (data.selectedLayerIds.length > 0) {\n        if (data.replaceCurrentSelection) {\n          let currentIDs = [...data.selectedLayerIds];\n          targetChildrenOfSelections(query.slice(2), () => {\n            currentIDs.forEach(id => {\n              const { layer } = findLayerById(id, project.html);\n              layer.state.selected = false;\n            });\n          });\n        } else {\n          targetChildrenOfSelections(query.slice(2));\n        }\n      } else {\n        console.error('no layers selected');\n      }\n    } else if (query.startsWith('mv=')) {\n      if (data.selectedLayerIds.length > 0) {\n        if (replaceSelection) clearAllSelections();\n        cutLayers(() => {\n          selectLayersRecursive(project.html, query.slice(3), () => {\n            pasteLayers();\n          });\n        });\n      }\n    } else if (query.startsWith('rs=')) {\n      if (data.selectedLayerIds.length > 0) {\n        if (replaceSelection) clearAllSelections();\n        clearStyles(project.html, query.slice(3), () => {\n          renderPreview();\n          saveState();  // Callback after clearStyles completes\n        });\n      }\n    }  else {\n      handleSpecialCommand(query);\n    }\n  }\n\n  queries.forEach(processQuery);\n}\n\nfunction toggleCollapse(layerId) {\n  let targetLayer = null;\n  let parentLayer = null;\n\n  // Function to recursively find the target layer and its parent\n  function findLayerAndParent(layer, parent = null) {\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = parent;\n      return true; // Found the layer\n    }\n\n    if (layer.children) {\n      for (let i = 0; i < layer.children.length; i++) {\n        if (findLayerAndParent(layer.children[i], layer)) {\n          return true; // Found the layer in children\n        }\n      }\n    }\n\n    return false; // Layer not found\n  }\n\n  // Function to collapse or uncollapse all siblings to match the target layer's state\n  function applyCollapseStateToSiblings(layers, collapseState) {\n    layers.forEach(layer => {\n      if (layer !== targetLayer) {\n        layer.state.collapsed = collapseState;\n      }\n    });\n  }\n\n  // Check top-level layers directly\n  for (let i = 0; i < project.html.length; i++) {\n    let layer = project.html[i];\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = null; // No parent for top-level layers\n      break;\n    } else {\n      findLayerAndParent(layer);\n    }\n  }\n\n  if (targetLayer) {\n    // Toggle the target layer's collapse state\n    const newCollapseState = !targetLayer.state.collapsed;\n    targetLayer.state.collapsed = newCollapseState;\n\n    if (data.shiftKey) {\n      if (parentLayer) {\n        // Apply to siblings within the same parent layer\n        applyCollapseStateToSiblings(parentLayer.children, newCollapseState);\n      } else {\n        // Apply to all top-level layers\n        applyCollapseStateToSiblings(project.html, newCollapseState);\n      }\n    }\n\n    // Render the application (if needed)\n    App.render(\"#app\");\n  }\n}\nfunction foldAllLayers(state = false) {\n  function collapseLayer(layer) {\n    layer.state.collapsed = state;\n    if (layer.children) layer.children.forEach(child => collapseLayer(child));\n  }\n\n  project.html.forEach(layer => collapseLayer(layer));\n}\nfunction hideAllLayers(state = false) {\n  function hideLayer(layer) {\n    layer.state.visible = !state;\n    renderPreview();\n    if (layer.children) layer.children.forEach(child => hideLayer(child));\n  }\n\n  project.html.forEach(layer => hideLayer(layer));\n}\nfunction toggleVisible(layerId) {\n  let targetLayer = null;\n  let parentLayer = null;\n\n  // Function to recursively find the target layer and its parent\n  function findLayerAndParent(layer, parent = null) {\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = parent;\n      return true; // Found the layer\n    }\n\n    if (layer.children) {\n      for (let i = 0; i < layer.children.length; i++) {\n        if (findLayerAndParent(layer.children[i], layer)) {\n          return true; // Found the layer in children\n        }\n      }\n    }\n\n    return false; // Layer not found\n  }\n\n  // Function to set visibility for all siblings to match the target layer's state\n  function applyVisibilityToSiblings(layers, visibilityState) {\n    layers.forEach(layer => {\n      if (layer !== targetLayer) {\n        layer.state.visible = visibilityState;\n      }\n    });\n  }\n\n  // Check top-level layers directly\n  for (let i = 0; i < project.html.length; i++) {\n    let layer = project.html[i];\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = null; // No parent for top-level layers\n      break;\n    } else {\n      findLayerAndParent(layer);\n    }\n  }\n\n  if (targetLayer) {\n    // Toggle the target layer's visibility state\n    const newVisibilityState = !targetLayer.state.visible;\n    targetLayer.state.visible = newVisibilityState;\n\n    // Apply the new visibility state to all siblings\n    if (data.shiftKey) {\n      if (parentLayer) {\n        // Apply to siblings within the same parent layer\n        applyVisibilityToSiblings(parentLayer.children, newVisibilityState);\n      } else {\n        // Apply to all top-level layers\n        applyVisibilityToSiblings(project.html, newVisibilityState);\n      }\n    }\n\n    renderPreview(); // Ensure the preview is updated\n  }\n}\nfunction selectedBlock(layerId) {\n  let targetLayer = null;\n  let parentLayer = null;\n\n  // Function to find the layer and its parent\n  function findLayerAndParent(layer, parent = null) {\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = parent;\n      return true; // Found the layer\n    }\n\n    if (layer.children) {\n      for (let i = 0; i < layer.children.length; i++) {\n        if (findLayerAndParent(layer.children[i], layer)) {\n          return true; // Found the layer in children\n        }\n      }\n    }\n\n    return false; // Layer not found\n  }\n\n  // Apply selection state to all siblings\n  function applySelectionToSiblings(layers, selectionState) {\n    layers.forEach(layer => {\n      if (layer !== targetLayer) {\n        const childIndex = data.selectedLayerIds.indexOf(layer.id);\n        if (selectionState) {\n          if (childIndex === -1) {\n            data.selectedLayerIds.push(layer.id);\n            layer.state.selected = true;\n          }\n        } else {\n          if (childIndex > -1) {\n            data.selectedLayerIds.splice(childIndex, 1);\n            layer.state.selected = false;\n          }\n        }\n      }\n    });\n  }\n\n  // Check top-level layers directly\n  for (let i = 0; i < project.html.length; i++) {\n    let layer = project.html[i];\n    if (layer.id === layerId) {\n      targetLayer = layer;\n      parentLayer = null; // No parent for top-level layers\n      break;\n    } else {\n      findLayerAndParent(layer);\n    }\n  }\n\n  if (targetLayer) {\n    const isSelected = data.selectedLayerIds.includes(layerId);\n    const newSelectionState = !isSelected;\n\n    // If replaceCurrentSelection is true and shiftKey is not pressed, clear all selections\n    if ((data.replaceCurrentSelection || data.cmdKey) && !data.shiftKey) {\n      data.selectedLayerIds.forEach(id => {\n        const layer = findLayerById(id);\n        if (layer) {\n          layer.state.selected = false;\n        }\n      });\n      data.selectedLayerIds = []; // Clear all selections\n    }\n\n    // Toggle selection state of the target layer\n    if (newSelectionState) {\n      data.selectedLayerIds.push(layerId);\n      const lastSelectedLayerId = data.selectedLayerIds[data.selectedLayerIds.length - 1];\n      const layer = findLayerById(lastSelectedLayerId);\n      data.stylesTarget = layer.style;\n      data.breakpointKey = null;\n    } else {\n      const index = data.selectedLayerIds.indexOf(layerId);\n      if (index > -1) {\n        data.selectedLayerIds.splice(index, 1);\n      }\n    }\n    targetLayer.state.selected = newSelectionState;\n\n    // Apply selection state to siblings\n    if (data.shiftKey) {\n      if (parentLayer) {\n        // Apply to siblings within the same parent layer\n        applySelectionToSiblings(parentLayer.children, newSelectionState);\n      } else {\n        // Apply to all top-level layers\n        applySelectionToSiblings(project.html, newSelectionState);\n      }\n    }\n  }\n\n  function findLayerById(id) {\n    let foundLayer = null;\n    for (let i = 0; i < project.html.length; i++) {\n      function searchLayer(layer) {\n        if (layer.id === id) {\n          foundLayer = layer;\n          return true;\n        }\n        if (layer.children) {\n          for (let j = 0; j < layer.children.length; j++) {\n            if (searchLayer(layer.children[j])) {\n              return true;\n            }\n          }\n        }\n        return false;\n      }\n      searchLayer(project.html[i]);\n      if (foundLayer) break;\n    }\n    return foundLayer;\n  }\n}\n\nfunction collectSelectedIDs(layers) {\n  layers.forEach(layer => {\n    if (layer.state.selected) {\n      data.selectedLayerIds.push(layer.id);\n    }\n    if (layer.children && layer.children.length > 0) {\n      collectSelectedIDs(layer.children);\n    }\n  });\n}\nfunction clearAllSelections() {\n  data.selectedLayerIds = [];\n  data.stylesTarget = null;\n  clearSelection(project.html);\n}\nfunction clearSelection(layers) {\n  layers.forEach(layer => {\n    layer.state.selected = false;\n    if (layer.children) clearSelection(layer.children);\n  });\n}\nfunction clearSelectionExcept(excludeId, layers) {\n  layers.forEach(layer => {\n    if (layer.id !== excludeId) {\n      layer.state.selected = false;\n    } else {\n      layer.state.selected = true;\n    }\n    if (layer.children) clearSelectionExcept(excludeId, layer.children);\n  });\n}\nfunction findLayerById(id, layers, parent = null) {\n  for (const layer of layers) {\n    if (layer.id === id) return { layer, parent };\n    if (layer.children) {\n      const found = findLayerById(id, layer.children, layer);\n      if (found) return found;\n    }\n  }\n  return null;\n}\nfunction canAcceptChildren(layer) {\n  const elementsThatDontAcceptChildren = [\n    'audio',\n    'datalist',\n    'iframe',\n    'img',\n    'input',\n    'meter',\n    'option',\n    'progress',\n    'select',\n    'textarea',\n    'video'\n  ];  \n  \n  return !elementsThatDontAcceptChildren.includes(layer.tag);\n}\nfunction addBlock(html) {\n  saveState(); // Save state before making changes\n  const newBlocks = html2json(html); // Convert HTML to JSON\n  if (data.selectedLayerIds.length > 0) {\n    // If user has multiple layers selected\n    data.selectedLayerIds.forEach(id => {\n      const result = findLayerById(id, project.html);\n      if (result) {\n        const { layer } = result;\n\n        if (canAcceptChildren(layer)) {\n          // Ensure `layer.children` is initialized\n          layer.children = layer.children || [];\n\n          // Add new blocks\n          newBlocks.forEach(newBlock => layer.children.push(newBlock));\n        }\n      }\n    });\n  } else {\n    // If user has no layers selected, add to the root layer structure\n    newBlocks.forEach(newBlock => project.html.push(newBlock));\n  }\n  clearAllSelections();\n  saveState(); // Save state after making changes\n  renderPreview();\n}\nfunction deleteLayers() {\n  saveState(); // Save state before making changes\n  data.editorNavState = true;\n  data.selectedLayerIds.forEach(id => {\n    removeLayerById(id, project.html);\n  });\n  data.selectedLayerIds = []; // Clear selection after deletion\n  data.editorNavState = null;\n  saveState(); // Save state after making changes\n}\nfunction removeLayerById(id, layers) {\n  for (const layer of layers) {\n    if (layer.id === id) {\n      const index = layers.findIndex(l => l.id === id);\n      layers.splice(index, 1); // Remove layer from the main layers array\n      renderPreview();\n      return;\n    }\n\n    if (layer.children) {\n      const index = layer.children.findIndex(child => child.id === id);\n      if (index !== -1) {\n        layer.children.splice(index, 1); // Remove from children\n        renderPreview();\n        return;\n      } else {\n        removeLayerById(id, layer.children); // Recursively remove from nested layers\n      }\n    }\n  }\n}\nfunction cloneLayers() {\n  saveState(); // Save state before making changes\n  data.selectedLayerIds.forEach(id => {\n    const { layer, parent } = findLayerById(id, project.html);\n\n    if (layer) {\n      const clonedLayer = cloneLayerObject(layer);\n\n      if (parent && Array.isArray(parent.children)) {\n        // Find the original layer index by comparing the IDs instead of the objects\n        const index = parent.children.findIndex(child => child.id === layer.id);\n        if (index !== -1) {\n          parent.children.splice(index + 1, 0, clonedLayer);\n        } else {\n          console.error(\"Selected layer not found in parent's children:\", layer);\n        }\n      } else if (!parent) {\n        // Find index in the root layer structure\n        const index = project.html.findIndex(rootLayer => rootLayer.id === layer.id);\n        if (index !== -1) {\n          project.html.splice(index + 1, 0, clonedLayer);\n        } else {\n          console.error('Selected layer not found in root layer structure:', layer);\n        }\n      }\n    } else {\n      console.error('Layer not found for ID:', id);\n    }\n  });\n\n  clearAllSelections(); // Clear selection after cloning\n  saveState(); // Save state after making changes\n  renderPreview();\n}\nfunction cloneLayerObject(layer) {\n  const clonedLayer = JSON.parse(JSON.stringify(layer)); // Deep clone\n  clonedLayer.id = generateId(); // Assign a new ID\n\n  if (clonedLayer.children) {\n    clonedLayer.children = clonedLayer.children.map(child => cloneLayerObject(child)); // Clone children recursively\n  }\n  return clonedLayer;\n}\nfunction cutLayers(callback) {\n  saveState(); // Save state before making changes\n  data.editorNavState = true;\n  copyLayers();\n  data.selectedLayerIds.forEach(id => {\n    removeLayerById(id, project.html);\n  });\n  data.selectedLayerIds = []; // Clear selection after deletion\n  saveState(); // Save state after making changes\n  data.editorNavState = null;\n\n  // Call the callback function if provided\n  if (callback && typeof callback === 'function') {\n    callback();\n  }\n}\nfunction copyLayers() {\n  data.clipboard = data.selectedLayerIds.map(id => {\n    const { layer } = findLayerById(id, project.html);\n    return cloneLayerObject(layer); // Clone layer without deleting\n  });\n}\nfunction pasteLayers() {\n  saveState(); // Save state before making changes\n  if (data.clipboard.length > 0) {\n    const pastedLayers = data.clipboard.map(layer => {\n      return cloneLayerObject(layer); // Clone layer with new IDs\n    });\n\n    if (data.selectedLayerIds.length > 0) {\n      data.selectedLayerIds.forEach(id => {\n        const { layer } = findLayerById(id, project.html);\n        if (layer && canAcceptChildren(layer)) {\n          layer.children = layer.children || [];\n          layer.children.push(...pastedLayers);\n        }\n      });\n    } else {\n      project.html.push(...pastedLayers); // Paste to root if no layer selected\n    }\n\n    data.clipboard = []; // Clear clipboard after pasting\n    clearAllSelections(); // Clear selection after pasting\n    saveState(); // Save state after making changes\n    renderPreview();\n  }\n}\nfunction removeAttributeFromLayers(property) {\n  saveState();\n  data.selectedLayerIds.forEach(id => {\n    const { layer } = findLayerById(id, project.html);\n    // Delete the key from the props object\n    if (layer) delete layer.props[property];\n  });\n  saveState();\n  renderPreview();\n}\nfunction removeProp(key) {\n  Modal.render({\n    title: `Are you sure you want to delete the ${key} attribute?`,\n    content: `\n      <div class=\"p-4 text-center\">You will still be able to undo.</div>\n    `,\n    onConfirm() {\n      removeAttributeFromLayers(key);\n    }\n  });\n}\nfunction emptyChildren() {\n  saveState(); // Save state before making changes\n  if (data.selectedLayerIds.length > 0) {\n    data.selectedLayerIds.forEach(id => {\n      const { layer } = findLayerById(id, project.html);\n      if (layer.children) layer.children = [];\n      if (layer.text) {\n        layer.text = '';\n      }\n    });\n  }\n  saveState(); // Save state after making changes\n  renderPreview();\n}\nfunction updateElement(key, propKey, value) {\n  data.selectedLayerIds.forEach(id => {\n    const { layer } = findLayerById(id, project.html);\n    if (layer) {\n      if (key !== 'props') {\n        if (key === 'text' && !value) {\n          layer.text = \"\";\n        } else {\n          layer[`${key}`] = value;\n        }\n      } else {\n        layer.props[`${propKey}`] = value;\n      }\n    }\n  });\n  renderPreview();\n}\nfunction updateImageMedia(id, type) {\n  let target = findLayerById(id, project.html).layer.props['src'];\n  let modalContent = `<div class=\"p-4 text-center grid grid-cols-1 gap-4 place-items-center\">\n    <input id=\"ixkq65jma\" class=\"hidden\" type=\"file\" name=\"image\" onchange=\"updateMediaSource(event, '${type}', document.getElementById('p8gnvn4o7'))\">\n    <figure>\n      <picture>\n        <label for=\"ixkq65jma\" class=\"cursor-pointer\">\n          <img id=\"p8gnvn4o7\" class=\"cursor-pointer\" src=\"${target}\" alt=\"Your image\" loading=\"lazy\">\n        </label>\n      </picture>\n      <figcaption>\n        <span>Api courtesy of \n        <a href=\"https://openverse.org/\" target=\"_blank\">Openverse</a>.\n      </figcaption>\n    </figure>\n    <fieldset role=\"group\" class=\"mb-0 w-full place-items-center\">\n      <input \n        id=\"search-input\" \n        type=\"text\" \n        placeholder=\"Search for images...\" \n        class=\"p-2 w-full\" \n        onkeydown=\"\n          if (event.key === 'Enter') {\n            document.getElementById('search-btn').click();\n          }\n      \"/>\n      <button id=\"search-btn\">\n        ${icons.search}\n      </button>\n    </fieldset>\n    <div id=\"search-results\" class=\"mt-4 grid grid-cols-3 gap-2\"></div>\n    <div class=\"font-thin text-xs\">\n      You can grab your own high-res image by searching <a href=\"https://pixabay.com/\" target=\"_blank\">Pixabay.com</a> or <a href=\"https://pexels.com/\" target=\"_blank\">Pexels.com</a>.\n    </div>\n  </div>`;\n  \n  Modal.render({\n    title: \"Are you sure you want to replace the image source?\",\n    content: modalContent,\n    onLoad() {\n      const searchField = document.getElementById('search-input');\n      searchField.focus();\n  \n      const handleSearch = async () => {\n        if (searchField.value) {\n          const results = await searchOpenverseImage(searchField.value);\n          displayResults(results);\n        } else {\n          document.getElementById('search-results').innerHTML = '';\n          return false;\n        }\n      };\n  \n      searchField.oninput = handleSearch;\n      document.getElementById('search-btn').onclick = handleSearch;\n\n      function displayResults(results) {\n        const resultsContainer = document.getElementById('search-results');\n        resultsContainer.innerHTML = results.map(result => `\n          <img \n            src=\"${result.thumbnail}\" \n            alt=\"${result.title}\" \n            loading=\"lazy\"\n            class=\"cursor-pointer w-full\" \n            onclick=\"\n              document.getElementById('p8gnvn4o7').src = '${result.url}';\n              this.closest('article').scrollTop = 0;\n            \"/>\n        `).join('');\n      }\n    },\n    onConfirm() {\n      data.selectedLayerIds.forEach(id => {\n        const { layer } = findLayerById(id, project.html);\n        if (layer) {\n          if (layer.tag === \"img\") {\n            saveState();\n            layer.props[`src`] = document.getElementById('p8gnvn4o7').src;\n            saveState();\n            renderPreview();\n          }\n        }\n      });\n    }\n  });\n}\nasync function searchOpenverseImage(query) {\n  const url = `https://api.openverse.org/v1/images?q=${encodeURIComponent(query)}`;\n  const response = await fetch(url);\n  if (response.ok) {\n      const data = await response.json();\n      return data.results;\n  } else {\n      console.error(\"API request failed:\", response.status);\n      return [];\n  }\n}\nfunction updateAudioMedia(id, type) {\n  let target = findLayerById(id, project.html).layer;\n  if (target.tag !== 'audio' || type !== 'audio') return;\n  let uniqueId = generateId();\n  if (!target.props) target.props = {};\n  if (target.props.id) target.props.id = uniqueId;\n  if (!target.props.id) target.props['id'] = uniqueId;\n  \n  const audioHTML = json2html([target]);\n  let modalContent = `<style>\n    #xdbmkeqha audio {\n      width: 100%;\n    }\n  </style>\n  \n  <div class=\"p-4 grid grid-cols-1 gap-4 items-center\">\n    <input id=\"ixkq65jma\" class=\"hidden\" type=\"file\" name=\"audio\" onchange=\"updateMediaSource(event, '${type}', document.getElementById('${uniqueId}'))\">\n    <figure class=\"text-center\">\n      <nav id=\"xdbmkeqha\" class=\"items-center\">\n        ${audioHTML}\n\n        <button \n          class=\"ml-4 font-thin text-xs bg-transparent border-0\"\n          style=\"color: unset;\"\n          onclick=\"\n            document.getElementById('ixkq65jma').click();\n          \"\n        >\n          ${icons.upload}\n        </button>\n      </nav>\n      <figcaption>\n        <span>Api courtesy of \n        <a href=\"https://openverse.org/\" target=\"_blank\">Openverse</a>.\n      </figcaption>\n    </figure>\n    <fieldset role=\"group\" class=\"mb-0 w-full items-center\">\n      <input \n        id=\"search-input\" \n        type=\"text\" \n        placeholder=\"Search for audios...\" \n        class=\"p-2 w-full\" \n        onkeydown=\"\n          if (event.key === 'Enter') {\n            document.getElementById('search-btn').click();\n          }\n      \"/>\n      <button id=\"search-btn\">\n        ${icons.search}\n      </button>\n    </fieldset>\n    <div id=\"search-results\" class=\"mt-4 grid grid-cols-1 gap-2\"></div>\n    <div class=\"font-thin text-xs text-center\">\n      You can also grab your own audio files from <a href=\"https://freesound.org/\" target=\"_blank\">freesound.org</a>.\n    </div>\n  </div>`;\n  \n  Modal.render({\n    title: \"Are you sure you want to replace the audio element?\",\n    content: modalContent,\n    onLoad() {\n      const searchInput = document.getElementById('search-input');\n      const searchBtn = document.getElementById('search-btn');\n      const resultsContainer = document.getElementById('search-results');\n      searchInput.focus();\n  \n      const handleSearch = async () => {\n        if (searchInput.value) {\n          const results = await searchOpenverseAudio(searchInput.value);\n          displayResults(results);\n        } else {\n          resultsContainer.innerHTML = '';\n          return false;\n        }\n      };\n  \n      searchInput.oninput = handleSearch;\n      searchBtn.onclick = handleSearch;\n\n      function displayResults(results) {\n        if (results.length === 0) {\n          resultsContainer.innerHTML = `<p>No results found.</p>`;\n        } else {\n          resultsContainer.innerHTML = results.map(result => `\n            <div>\n              <div class=\"font-thin mb-2\">${result.title}</div>\n              <figure>\n                <nav class=\"text-center place-items-center\">\n                  <audio controls class=\"w-full\" preload=\"true\">\n                    <source src=\"${result.url}\" type=\"${result.mime_type}\">\n                    Your browser does not support the audio element.\n                  </audio>\n                  <button \n                    class=\"ml-4 font-thin text-xs\" \n                    onclick=\"\n                      const audio = document.getElementById('${uniqueId}');\n                      audio.src = '${result.url}';\n                      const sources = audio.querySelectorAll('source');\n                      sources.forEach(source => {\n                        source.src = this.previousElementSibling.src;\n                      });\n                      this.closest('article').scrollTop = 0;\n                    \"\n                  >\n                    Select\n                  </button>\n                </nav>\n                <figcaption class=\"font-thin text-sm\">\n                  <span>Artist is \n                  <a href=\"${result.foreign_landing_url}\" target=\"_blank\">${result.creator}</a>.\n                </figcaption>\n              </figure>\n            </div>\n          `).join('');\n    \n          // Reinitialize audio elements to ensure they work properly\n          const audios = resultsContainer.querySelectorAll('audio');\n          audios.forEach(audio => {\n            const src = audio.querySelector('source').getAttribute('src');\n            audio.load(); // Ensure the audio element is fully loaded\n            audio.src = src; // Re-set the src to trigger playback readiness\n          });\n        }\n      }\n    },\n    onConfirm() {\n      data.selectedLayerIds.forEach(id => {\n        const { layer } = findLayerById(id, project.html);\n        if (layer) {\n          source = document.getElementById(uniqueId).outerHTML;\n          let obj = html2json(source)[0];\n  \n          saveState();\n          // Update properties directly instead of reassigning the whole object\n          Object.keys(obj).forEach(key => {\n            if (key === \"id\") return;\n            layer[key] = obj[key];\n          });\n          findLayerById(id, project.html).layer.state.selected = null;\n          findLayerById(id, project.html).layer.state.selected = true;\n          saveState();\n          \n          renderPreview();\n        }\n      });\n    }\n  });\n}\nasync function searchOpenverseAudio(query) {\n  const url = `https://api.openverse.org/v1/audio?q=${encodeURIComponent(query)}`;\n  const response = await fetch(url);\n  if (response.ok) {\n    const data = await response.json();\n    return data.results;\n  } else {\n    console.error(\"API request failed:\", response.status);\n    return [];\n  }\n}\nasync function updateMediaSource(event, type, element) {\n  const file = event.target.files[0];\n  if (!file) return; // If no file selected, return\n\n  try {\n    // Check if the file is an SVG\n    if (type === \"svg\") {\n      // Read the file content as text (SVG markup)\n      const svgCode = await file.text();\n      \n      // Update target with SVG code\n      document.getElementById('vl61t8366').querySelector('svg').outerHTML = svgCode;\n      document.getElementById('vl61t8366').querySelector('svg').setAttribute('id', 'p8gnvn4o7');\n    } else {\n      // Handle non-SVG and non-image files (e.g., convert to base64)\n      const base64String = await fileToBase64(file);\n      element.setAttribute('src', base64String);\n    }\n  } catch (error) {\n    console.error('Error reading file:', error);\n  }\n}\nfunction updateSvgMedia(id, type) {\n  let title = \"Are you sure you want to replace the svg?\";\n  target = findLayerById(id, project.html).layer;\n  let display = \"\";\n  const elm = document.createElement(\"template\");\n  elm.innerHTML = json2html(target);\n  const element = elm.content.firstElementChild;\n  if (element) {\n    display = `<label for=\"ixkq65jma\">${element.outerHTML}</label>`;\n  }\n\n  elm.remove();\n  let modalContent = `<style>\n      #vl61t8366 svg {\n        cursor: pointer;\n        width: 100%;\n        height: 100%;\n      }\n    </style>\n    <div id=\"vl61t8366\" class=\"p-4 text-center grid grid-cols-1 gap-4 place-items-center\">\n      <input id=\"ixkq65jma\" class=\"hidden\" type=\"file\" name=\"image\" onchange=\"updateMediaSource(event, '${type}', document.getElementById('p8gnvn4o7'))\">\n      ${display}\n    </div>`;\n  \n  Modal.render({\n    title: title,\n    content: modalContent,\n    onConfirm: function() {\n      data.selectedLayerIds.forEach(id => {\n        const { layer } = findLayerById(id, project.html);\n        if (layer) {\n          if (layer.tag === \"img\") {\n            saveState();\n            layer.props[`src`] = document.getElementById('p8gnvn4o7').src;\n            saveState();\n            renderPreview();\n          }\n          if (layer.tag === \"svg\") {\n            source = document.getElementById('vl61t8366').querySelector('svg').outerHTML;\n            let obj = html2json(source)[0];\n    \n            saveState();\n            // Update properties directly instead of reassigning the whole object\n            Object.keys(obj).forEach(key => {\n              if (key === \"id\") return;\n              layer[key] = obj[key];\n            });\n            findLayerById(id, project.html).layer.state.selected = null;\n            findLayerById(id, project.html).layer.state.selected = true;\n            saveState();\n            \n            renderPreview();\n          }\n        }\n      });\n    }\n  });\n}\nfunction copyToClipboard(text) {\n  navigator.clipboard.writeText(text).then(function() {\n  }).catch(function(error) {\n    console.error('Failed to copy text: ', error);\n  });\n}\nfunction collectComponents(layers) {\n  const existingNames = new Set(project.components.map(comp => comp.name));\n\n  layers.forEach(layer => {\n    if (layer.isComponent) {\n      // Check if the layer name already exists\n      if (!existingNames.has(layer.name)) {\n        const clone = { ...layer };\n        let uniqueId = generateId();\n        clone.id = uniqueId;\n\n        project.components.push({\n          id: uniqueId,\n          name: layer.name,\n          code: clone\n        });\n\n        // Add the new name to the set\n        existingNames.add(layer.name);\n      }\n    }\n  });\n}\nfunction addComponent() {\n  if (data.selectedLayerIds.length === 0) return;\n  \n  saveState(); // Save state before making changes\n\n  data.selectedLayerIds.forEach(id => {\n    const result = findLayerById(id, project.html);\n\n    if (result) {\n      const { layer } = result;\n      const clone = { ...layer };\n      clone.id = generateId();\n\n      const newHtml = json2html(clone);\n\n      // Check for duplicate name or HTML\n      const isDuplicate = project.components.some(comp =>\n        comp.name === clone.name || comp.code === newHtml\n      );\n\n      if (!isDuplicate) {\n        project.components.push({\n          name: clone.name,\n          code: newHtml\n        });\n      } else {\n        console.warn(`Component with name \"${clone.name}\" or identical HTML already exists.`);\n      }\n    } else {\n      console.error('Layer not found for ID:', id);\n    }\n  });\n\n  saveState(); // Save state after making changes\n}\nfunction deleteComponent(index) {\n  if (index >= 0 && index < project.components.length) {\n    project.components.splice(index, 1);\n    saveState(); // Save state after making changes\n  } else {\n    console.error('Invalid index:', index);\n  }\n}\n\n// iframe functions\nfunction generateId() {\n  let id = '';\n  while (!/^[a-zA-Z]/.test(id)) {\n    id = Math.random().toString(36).substr(2, 9);\n  }\n  return id;\n}\nfunction resizeCanvas(size) {\n  data.selectedSize = size;\n  getIFrameClientSize();\n}\nfunction rotateCanvas() {\n  const iframe = document.getElementById('previewElm').firstElementChild;\n  if (iframe.style.width === '100%') return false;\n\n  // Extract current width and height\n  let width = parseInt(iframe.style.width);\n  let height = parseInt(iframe.style.height);\n\n  // Swap width and height\n  [width, height] = [height, width];\n  data.selectedSize = width+'x'+height;\n  getIFrameClientSize();\n}\nlet fadeTimeout;\nfunction getIFrameClientSize() {\n  // resize canvas\n  const iframe = document.getElementById('iframe');\n  if (iframe.style.width !== '100%') {\n    // Extract current width and height\n    let width = parseInt(iframe.style.width);\n    let height = parseInt(iframe.style.height);\n  \n    // Calculate the new transform scale\n    const viewportWidth = previewElm.clientWidth;\n    const viewportHeight = previewElm.clientHeight;\n    const scale = Math.min(viewportWidth / width, viewportHeight / height);\n  \n    // Apply the new styles\n    iframe.style.width = `${width}px`;\n    iframe.style.height = `${height}px`;\n    iframe.style.transform = `scale(${scale})`;\n    iframe.style.marginTop = `-${height / 2}px`;\n    iframe.style.marginLeft = `-${width / 2}px`;\n  }\n\n  data.iframeSize = `${iframe.clientWidth}px x ${iframe.clientHeight}px`;\n  const element = document.getElementById('iframeClientSize');\n\n  if (element.classList.contains('hidden')) {\n    // Clear existing timeout to prevent multiple calls\n    if (fadeTimeout) clearTimeout(fadeTimeout);\n\n    // Remove hidden and add opacity-100 to show the element\n    element.classList.remove('hidden', 'opacity-0');\n    element.classList.add('opacity-100');\n\n    // Set a timeout to handle fade-out\n    fadeTimeout = setTimeout(() => {\n      element.classList.remove('opacity-100');\n      element.classList.add('opacity-0');\n\n      // Add hidden class after fade-out\n      setTimeout(() => {\n        element.classList.add('hidden');\n      }, 300); // Match the duration of the opacity transition\n    }, 2000); // Show duration\n  }\n}\n\n// save functions\nasync function handleLogoChange(event) {\n  const file = event.target.files[0];\n  if (!file) return; // If no file selected, return\n\n  try {\n    // Convert file to base64 string\n    const base64String = await fileToBase64(file);\n    // Update project.logo with base64String\n    project.logo = base64String;\n  } catch (error) {\n    console.error('Error converting image to base64:', error);\n  }\n}\nfunction fileToBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}\nfunction importJSON(obj) {\n  if (obj === null) return;\n  const clone = { ...obj };\n  project.name = obj.name;\n  project.version = obj.version;\n  project.title = obj.title;\n  project.description = obj.description;\n  project.author = obj.author;\n  project.url = obj.url;\n  project.logo = obj.logo;\n  project.dark = obj.dark;\n  project.pwa = obj.pwa;\n  project.activePanel = obj.activePanel;\n  \n  project.meta = obj.meta;\n  project.libraries = obj.libraries;\n  project.css = obj.css;\n  if (obj.components) {\n    project['components'] = obj.components;\n  }\n  project.html = obj.html;\n}\nfunction newProject() {\n  Modal.render({\n    title: \"Are you sure you want to start a new project?\",\n    content: `<div class=\"p-4 text-center\">All current data will be lost.</div>`,\n    onConfirm() {\n      emptyStorage();\n    }\n  });\n}\nfunction importProject() {\n  Modal.render({\n    title: \"Are you sure you want to load a new project?\",\n    content: `<div class=\"p-4 text-center\">All current data will be lost.</div>`,\n    onClose: function () {\n      data.menuDialog = true;\n    },\n    onConfirm: function() {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = '.json';\n\n      input.addEventListener('change', (event) => {\n        const file = event.target.files[0];\n        \n        if (!file) {\n          console.error('No file selected.');\n          return;\n        }\n    \n        const reader = new FileReader();\n    \n        reader.onload = event => {\n          try {\n            importJSON(JSON.parse(event.target.result));\n            setTimeout(function() {\n              renderPreview(true);\n            }, 100);\n          } catch (error) {\n            console.error('Error parsing JSON file:', error);\n          }\n        };\n    \n        reader.readAsText(file);\n        input.remove();\n      });\n    \n      input.click();\n    }\n  });\n}\nfunction getFileNameAndType(url) {\n  // Extract the file name with extension from the URL\n  const fileName = url.substring(url.lastIndexOf('/') + 1);\n  \n  // Extract the file extension\n  const fileExtension = fileName.split('.').pop().toLowerCase();\n  \n  // Map file extensions to MIME types\n  const mimeTypes = {\n    'jpeg': 'image/jpeg',\n    'jpg': 'image/jpeg',\n    'png': 'image/png',\n    'gif': 'image/gif',\n    'bmp': 'image/bmp',\n    'webp': 'image/webp',\n    'svg': 'image/svg+xml',\n    'mp3': 'audio/mpeg',\n    'wav': 'audio/wav',\n    'ogg': 'audio/ogg',\n    'mp4': 'video/mp4',\n    'webm': 'video/webm',\n    'ogv': 'video/ogg'\n  };\n  \n  // Get the MIME type based on the file extension\n  const fileType = mimeTypes[fileExtension] || 'application/octet-stream';\n  \n  return {\n    fileName,\n    fileType\n  };\n}\nfunction fetchResources(obj) {\n  try {\n    const doc = new DOMParser().parseFromString(json2html(obj.html), 'text/html');\n    const body = doc.body;\n\n    const imageResources = [];\n    const audioResources = [];\n    const vectorResources = [];\n    const videoResources = [];\n\n    let fileCounter = 1;\n\n    // Helper function to check if a string is Base64\n    function isBase64(str) {\n      return str.startsWith('data:') && str.includes('base64,');\n    }\n\n    // Helper function to extract file type from Base64 string\n    function getBase64FileType(str) {\n      const mimeMatch = str.match(/^data:(.*);base64,/);\n      if (mimeMatch) {\n        const mimeType = mimeMatch[1];\n        return mimeTypeToExtension(mimeType);\n      }\n      return 'unknown';\n    }\n\n    // Helper function to map MIME types to file extensions\n    function mimeTypeToExtension(mimeType) {\n      const typeMap = {\n        // Images\n        'image/jpeg': 'jpg',\n        'image/png': 'png',\n        'image/gif': 'gif',\n        'image/svg+xml': 'svg',\n        'image/webp': 'webp',\n        'image/tiff': 'tiff',\n        'image/bmp': 'bmp',\n        'image/x-icon': 'ico',\n\n        // Audio\n        'audio/mpeg': 'mp3',\n        'audio/wav': 'wav',\n        'audio/ogg': 'ogg',\n        'audio/aac': 'aac',\n        'audio/webm': 'webm',\n        'audio/flac': 'flac',\n\n        // Video\n        'video/mp4': 'mp4',\n        'video/webm': 'webm',\n        'video/ogg': 'ogv',\n        'video/avi': 'avi',\n        'video/mpeg': 'mpg',\n        'video/quicktime': 'mov',\n        'video/x-msvideo': 'avi',\n        'video/x-matroska': 'mkv',\n\n        // Fallback for unknown types\n        'unknown': 'bin'\n      };\n      return typeMap[mimeType] || 'bin';\n    }\n\n    // Helper function to extract file name from URL\n    function getFileName(url) {\n      return url.substring(url.lastIndexOf('/') + 1);\n    }\n\n    // Generate a file name for Base64 resources\n    function getBase64FileName() {\n      return `file-${fileCounter++}`;\n    }\n\n    // Function to extract and process background images from CSS\n    function extractBackgroundImageUrls(css) {\n      const urls = [];\n      const regex = /background-image\\s*:\\s*url\\(([^)]+)\\)/g;\n      let match;\n      while ((match = regex.exec(css)) !== null) {\n        let url = match[1].replace(/['\"]/g, \"\"); // Remove quotes around URLs\n        if (isBase64(url)) {\n          const fileType = getBase64FileType(url);\n          const fileName = `${getBase64FileName()}.${fileType}`;\n          imageResources.push({ url: url, fileName: fileName });\n          css = css.replace(url, `../imgs/${fileName}`);\n        } else {\n          const fileName = getFileName(url);\n          imageResources.push({ url: url, fileName: fileName });\n          css = css.replace(url, `../imgs/${fileName}`);\n        }\n        urls.push(url);\n      }\n      return css;\n    }\n\n    // Extract image URLs and filenames\n    body.querySelectorAll('img').forEach(img => {\n      if (img.hasAttribute('src')) {\n        const src = img.getAttribute('src');\n\n        if (isBase64(src)) {\n          const fileType = getBase64FileType(src);\n          const fileName = `${getBase64FileName()}.${fileType}`;\n          imageResources.push({ url: src, fileName: fileName });\n          img.src = `imgs/${fileName}`;\n        } else {\n          const fileName = getFileName(src);\n          imageResources.push({ url: src, fileName: fileName });\n          img.src = `imgs/${getFileNameAndType(src).fileName}`;\n        }\n      }\n\n      if (img.hasAttribute('srcset')) {\n        img.srcset.split(',').forEach(srcset => {\n          const url = srcset.trim().split(' ')[0];\n          if (isBase64(url)) {\n            const fileType = getBase64FileType(src);\n            const fileName = `${getBase64FileName()}.${fileType}`;\n            imageResources.push({ url: url, fileName: fileName });\n            img.src = `imgs/${fileName}`;\n          } else {\n            const fileName = getFileName(url);\n            imageResources.push({ url: url, fileName: fileName });\n            img.src = `imgs/${getFileNameAndType(img.getAttribute('src')).fileName}`;\n          }\n        });\n      }\n    });\n\n    // Extract audio URLs and filenames\n    body.querySelectorAll('audio').forEach(audio => {\n      audio.querySelectorAll('source').forEach(source => {\n        if (source.hasAttribute('src')) {\n          const src = source.getAttribute('src');\n\n          if (isBase64(src)) {\n            const fileType = getBase64FileType(src);\n            const fileName = `${getBase64FileName()}.${fileType}`;\n            audioResources.push({ url: src, fileName: fileName });\n            source.src = `audios/${fileName}`;\n          } else {\n            const fileName = getFileName(src);\n            audioResources.push({ url: src, fileName: fileName });\n            source.src = `audios/${getFileNameAndType(src).fileName}`;\n          }\n        }\n      });\n    });\n\n    // Extract vectors\n    body.querySelectorAll('svg').forEach(svg => {\n      vectorResources.push({ content: svg.outerHTML, fileName: `vector-${vectorResources.length + 1}.svg` });\n    });\n\n    // Extract video URLs and filenames\n    body.querySelectorAll('video').forEach(video => {\n      video.querySelectorAll('source').forEach(source => {\n        if (source.hasAttribute('src')) {\n          const src = source.getAttribute('src');\n\n          if (isBase64(src)) {\n            const fileType = getBase64FileType(src);\n            const fileName = `${getBase64FileName()}.${fileType}`;\n            videoResources.push({ url: src, fileName: fileName });\n            source.src = `vids/${fileName}`;\n          } else {\n            const fileName = getFileName(src);\n            videoResources.push({ url: src, fileName: fileName });\n            source.src = `vids/${getFileNameAndType(src).fileName}`;\n          }\n        }\n      });\n    });\n\n    // Process CSS background images\n    const css = json2css(obj.css) || '';\n    const updatedCss = extractBackgroundImageUrls(css);\n    const stylesObj = updatedCss;\n\n    return {\n      html: doc.body.innerHTML,\n      stylesObj,\n      imageResources,\n      audioResources,\n      vectorResources,\n      videoResources\n    };\n  } catch (error) {\n    console.error('Error fetching resources:', error);\n    return null; // Or handle the error in an appropriate way\n  }\n}\nasync function getBase64Media(mediaUrl) {\n  const response = await fetch(mediaUrl);\n  const blob = await response.blob();\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result.split(',')[1]);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\nfunction renderStyles(styles) {\n  let css = '';\n\n  // Define :root variables\n  css += `:root {\\n`;\n  for (const [variable, value] of Object.entries(styles.rootVariables || {})) {\n    css += `  --${variable}: ${value};\\n`;\n  }\n  css += '}\\n';\n\n  // Define styles for each class\n  for (const [classId, style] of Object.entries(styles.styles)) {\n    if (!style || (!Object.keys(style.variables || {}).length && \n                  !Object.keys(style.base || {}).length && \n                  !Object.keys(style.pseudos || {}).length && \n                  !Object.keys(style.animations || {}).length && \n                  !Object.keys(style.breakpoints || {}).length)) {\n      continue; // Skip empty styles\n  }\n    const variables = style.variables || {};\n    const baseStyles = style.base || {};\n    const pseudos = style.pseudos || [];\n    const animations = style.animations || {};\n    const breakpoints = style.breakpoints || {};\n\n    if (classId === \"html\" || classId === \"body\") {\n      css += `${classId} {\\n`;\n    } else {\n      css += `.${classId} {\\n`;\n    }\n    \n    for (const [variable, value] of Object.entries(variables)) {\n      css += `  --${variable}: ${value};\\n`;\n    }\n    for (const [property, value] of Object.entries(baseStyles)) {\n      css += `  ${property}: ${value};\\n`;\n    }\n    css += '}\\n';\n\n    for (const { selector, styles: pseudoStyles } of pseudos) {\n      css += `.${classId}${selector} {\\n`;\n      for (const [property, value] of Object.entries(pseudoStyles)) {\n        css += `  ${property}: ${value};\\n`;\n      }\n      css += '}\\n';\n    }\n\n    for (const [animationName, animation] of Object.entries(animations)) {\n      css += `@keyframes ${animationName} {\\n`;\n      for (const [key, frameStyles] of Object.entries(animation.keyframes)) {\n        css += `  ${key} {\\n`;\n        for (const [property, value] of Object.entries(frameStyles)) {\n          css += `    ${property}: ${value};\\n`;\n        }\n        css += '  }\\n';\n      }\n      css += '}\\n';\n\n      css += `.${classId} {\\n`;\n      for (const [property, value] of Object.entries(animation.properties)) {\n        css += `  ${property}: ${value};\\n`;\n      }\n      css += '}\\n';\n    }\n\n    for (const [breakpoint, breakpointStyles] of Object.entries(breakpoints)) {\n      css += `@media (max-width: ${breakpoint}) {\\n`;\n      css += `  .${classId} {\\n`;\n      for (const [variable, value] of Object.entries(breakpointStyles.variables || {})) {\n        css += `    --${variable}: ${value};\\n`;\n      }\n      for (const [property, value] of Object.entries(breakpointStyles.base || {})) {\n        css += `    ${property}: ${value};\\n`;\n      }\n      css += '  }\\n';\n\n      for (const { selector, styles: pseudoStyles } of breakpointStyles.pseudos || []) {\n        css += `  .${classId}${selector} {\\n`;\n        for (const [property, value] of Object.entries(pseudoStyles)) {\n          css += `    ${property}: ${value};\\n`;\n        }\n        css += '  }\\n';\n      }\n\n      css += '}\\n';\n    }\n  }\n\n  return css;\n}\nasync function downloadJSON() {\n  try {\n    await loadScript(\"libraries/jszip/FileSaver.min.js\");\n    let blob = new Blob([JSON.stringify(project, null, 2)], {type: \"application/json\"});\n    saveAs(blob, `${project.name.split(' ').join('').toLowerCase()}-Polyrise.json`);\n\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    // Clean up scripts after use\n    removeScript(\"libraries/jszip/FileSaver.min.js\");\n  }\n}\nasync function getFile(url) {\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    return await response.text();\n  } catch (error) {\n    console.warn(\"Request error:\", error);\n    throw error; // Re-throw to handle in caller\n  }\n};\nfunction minifyCSS(source) {\n  // Convert the source to a string if it isn't one\n  source = String(source);\n  // Remove comments\n  let minified = source.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '');\n  // Remove whitespace and newlines\n  minified = minified.replace(/\\s{2,}/g, ' ').replace(/\\n/g, '');\n  // Remove spaces around selectors, properties, and values\n  minified = minified.replace(/\\s*([{}:;])\\s*/g, '$1');\n  // Remove the last semicolon before the closing brace\n  minified = minified.replace(/;}/g, '}');\n  return minified;\n}\nasync function downloadProject() {\n  try {\n    await loadScripts([\n      \"libraries/jszip/jszip.min.js\",\n      \"libraries/jszip/FileSaver.min.js\"\n    ]);\n\n    // Extract srcset URLs\n    const iframe = document.getElementById('iframe');\n    if (!iframe) return;\n    const idoc = iframe.contentDocument || iframe.contentWindow.document;\n    const { html, stylesObj, imageResources, audioResources, vectorResources, videoResources } = fetchResources(project);\n\n    const zip = new JSZip();\n\n    // Project file\n    zip.file(`${project.name.split(' ').join('').toLowerCase()}-Polyrise.json`, JSON.stringify(project, null, 2));\n\n    // kodeWeave project file\n    const kodeWeaveProject = {\n      name: project.name,\n      version: project.version,\n      title: project.title,\n      description: project.description,\n      author: project.author,\n      url: project.url,\n      meta: project.meta,\n      libraries: project.libraries,\n      html_pre_processor: \"html\",\n      css_pre_processor: \"css\",\n      javascript_pre_processor: \"javascript\",\n      html: json2html(project.html),\n      css: json2css(project.css),\n      javascript: '',\n      logo: project.logo,\n      console: false,\n      dark: project.dark,\n      module: true,\n      autorun: true,\n      pwa: project.pwa,\n      preview: true,\n      activePanel: 'html',\n      columns: false,\n      columnsRight: true\n    };\n    zip.file(`${project.name.split(' ').join('').toLowerCase()}-kodeWeave.json`, JSON.stringify(kodeWeaveProject, null, 2));\n\n    let licenseStr = `The MIT License (MIT)\nCopyright (c) ${new Date().getFullYear()} ${project.author}\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.`;\n    zip.file(\"LICENSE.md\", licenseStr);\n\n    let READMEStr = `# ${project.name}\n\n**Description:**\n${project.description}\n\n**Built With ${app.name}!**\nThis site was made with [${app.name}](https://michaelsboost.com/${app.name.toString().split(' ').join('-')}/).\n\n**${app.name} Description:**\n${app.summary} ${app.description}\n\n**Website:**\n[${app.name}](https://michaelsboost.com/${app.name.toString().split(' ').join('-')}/)`;\n    zip.file(\"README.md\", READMEStr);\n\n    let cssContent = '';\n    let cssBuildItems = [];\n    let cssBuildItemsString = '';\n    let TailwindNoReset = null;\n    const promises = project.libraries.map(async library => {\n      const data = await getFile(library);\n      const parts = library.split(\"/\");\n      const name = parts[parts.length - 1];\n\n      // Check if the library is one of the Tailwind files to ignore\n      if (name === \"tailwind-mod-noreset.min.js\") {\n        TailwindNoReset = true;\n      }\n      \n      // Assuming libraries have .css extensions for simplicity\n      if (name.endsWith('.css')) {\n        cssContent += data + '\\n';\n        cssBuildItems.push(name);\n        cssBuildItemsString += `libraries/${name} `;\n        zip.folder('libraries').file(name, data);\n      }\n      \n      // Assuming libraries have .js extensions for simplicity\n      if (name.endsWith('.js')) {\n        zip.folder('libraries').file(name, data);\n      }\n    });\n    await Promise.all(promises);\n\n    // Checks css for html\n    let cssBuild = '';\n    let css4html = '';\n    let twFound = '';\n    let tailwindDirectives = '';\n    let tailwindStyles = '';\n    let cssImport = '';\n    \n    // Find out if user is using tailwind\n    if (idoc.getElementById('vyhibnq91')) {\n      twFound = true;\n      tailwindDirectives = `\n  ${!TailwindNoReset ? `@tailwind base;` : ''}\n@tailwind components;\n@tailwind utilities;\n`\n\n      if (twFound) {\n        cssBuildItems.map(async library => {\n          cssImport += `@import '../libraries/${library}';\n`;\n        });\n        cssImport += tailwindDirectives;\n      } else {\n        cssImport = cssContent;\n      }\n      tailwindStyles = idoc.getElementById('vyhibnq91').textContent;\n    }\n\n    let css = stylesObj;\n    if (tailwindStyles) css += tailwindStyles;\n    if (cssContent) {\n      css4html = `<link rel=\"stylesheet\" href=\"dist/bundle.css\">\n    `;\n      cssBuild = `\"build:css\": \"postcss src/bundle.css -o dist/bundle.css\",`;\n      zip.file(\"src/style.css\", css + cssImport);\n      zip.file(\"src/bundle.css\", cssImport + css);\n      zip.file('dist/bundle.css', minifyCSS(cssContent + tailwindStyles + css));\n    } else {\n      css4html = `<link rel=\"stylesheet\" href=\"dist/bundle.css\">\n    `;\n      cssBuild = `\"build:css\": \"postcss src/bundle.css -o dist/bundle.css\",`;\n      zip.file(\"src/style.css\", css);\n      zip.file(\"src/bundle.css\", css);\n      zip.file('dist/bundle.css', minifyCSS(css));\n    }\n\n    // Tailwind config\n    if (twFound) {\n      let configCode = `module.exports = {\n  content: [\n    './src/**/*.html',\n    './src/**/*.js',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n};`\n      zip.file(\"tailwind.config.js\", configCode);\n    }\n\n    // PostCSS config\n    let postcssConfig = `module.exports = {\n  plugins: [\n    require('postcss-import'),\n    require('autoprefixer'),${twFound ? `\n    require('tailwindcss'),` : ''}\n    require('cssnano')({\n      preset: 'default',\n    }),\n  ],\n};`;\n    zip.file(\"postcss.config.cjs\", postcssConfig);\n\n    // Package JSON\n    let npmJSON = `{\n  \"name\": \"${project.name.split(' ').join('').toLowerCase()}\",\n  \"private\": true,\n  \"version\": \"${project.version}\",\n  \"type\": \"module\",\n  \"scripts\": {\n    \"build:css\": \"postcss src/style.css -o dist/style.min.css\",\n    \"build\": \"npm run build:css\",\n    \"serve\": \"http-server -c-1 -p 8081\"\n  },\n  \"dependencies\": {\n    \"autoprefixer\": \"^10.4.19\",\n    \"cssnano\": \"^7.0.2\",\n    \"postcss\": \"^8.4.38\",\n    \"postcss-import\": \"^16.1.0\"${twFound ? `,\n    \"tailwindcss\": \"^3.4.4\"` : ''}\n  }\n}`;\n    zip.file(\"package.json\", npmJSON);\n\n    // Always include the original logo\n    if (project.logo) {\n      try {\n        let base64Logo = '';\n    \n        if (project.logo.startsWith('data:')) {\n          // If logo is already a data URL, extract base64 part\n          base64Logo = project.logo; // Get the base64 part\n        } else {\n          // Otherwise fetch and convert to base64\n          base64Logo = await getBase64Media(project.logo);\n        }\n    \n        // Determine file extension based on MIME type\n        let logoType;\n        if (project.logo.startsWith('data:image/png')) {\n          logoType = 'png';\n        } else if (project.logo.startsWith('data:image/jpeg')) {\n          logoType = 'jpeg';\n        } else if (project.logo.startsWith('data:image/svg+xml')) {\n          logoType = 'svg';\n        } else {\n          console.error('Unsupported logo MIME type:', project.logo);\n          return; // Exit or handle error appropriately\n        }\n    \n        const logoFileName = `logo.${logoType}`;\n        zip.folder('imgs').file(logoFileName, base64Logo.split(\",\")[1], { base64: true });\n    \n        // Add icons to manifest.json based on image sizes\n        const sizes = ['192x192', '256x256', '384x384', '512x512'];\n        const icons = sizes.map(size => ({\n          \"src\": `./imgs/logo-${size}.png`,\n          \"sizes\": size,\n          \"type\": \"image/png\",\n          \"purpose\": \"any\"\n        }));\n        for (const size of sizes) {\n          const canvas = document.createElement('canvas');\n          canvas.width = parseInt(size.split('x')[0]);\n          canvas.height = parseInt(size.split('x')[1]);\n          const ctx = canvas.getContext('2d');\n\n          // Draw logo on canvas at the desired size\n          const img = new Image();\n          img.src = base64Logo;\n          img.onload = function() {\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n            const base64Image = canvas.toDataURL('image/png').replace(/^data:image\\/(png|jpg);base64,/, '');\n            zip.folder('imgs').file(`logo-${size}.png`, base64Image, { base64: true });\n          };\n\n          // Clean up canvas element\n          canvas.remove();\n        }\n    \n        zip.file(`manifest.json`, JSON.stringify({\n          \"theme_color\": \"#13171f\",\n          \"background_color\": \"#13171f\",\n          \"display\": \"standalone\",\n          \"start_url\": \"./index.html\",\n          \"lang\": \"en-US\",\n          \"name\": project.name,\n          \"short_name\": project.name,\n          \"description\": project.description,\n          \"icons\": icons\n        }, null, 2));\n    \n      } catch (error) {\n        console.error('Error adding logo to ZIP:', error);\n        return; // Exit method or handle error as needed\n      }\n    }\n\n    // if pwa is enabled\n    let swinit = '';\n    if (project.pwa) {\n      swinit = `\n    <script src=\"https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js\"></script>\n    <script>\n      // service worker for progressive web app\n      if ('serviceWorker' in navigator) {\n        window.addEventListener('load', () => {\n          navigator.serviceWorker.register('./sw.js')\n        })\n      }\n    </script>`;\n      const swjs = `// Service worker code\nimportScripts('https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js');\n\nconst { registerRoute } = workbox.routing;\nconst { CacheFirst } = workbox.strategies;\n\nconst cacheName = '${project.name.split(' ').join('')}-cache';\n\nworkbox.routing.registerRoute(\n({ request }) => request.destination === 'script' ||\n           request.destination === 'style' ||\n           request.destination === 'document' ||\n           request.destination === 'image' ||\n           request.destination === 'font' ||\n           request.destination === 'audio' ||\n           request.destination === 'video',\nnew CacheFirst({\ncacheName: cacheName,\nplugins: [\n// Any additional plugins can be added here\n],\n})\n);`\n  zip.file(\"sw.js\", swjs);\n    }\n\n    // Save audio files to ZIP\n    if (audioResources.length > 0) {\n      const audioFolder = zip.folder('audios');\n      try {\n        for (const { url, fileName } of audioResources) {\n          const base64Audio = await getBase64Media(url);\n          audioFolder.file(fileName, base64Audio, { base64: true });\n        }\n      } catch (error) {\n        console.error('Error adding audio to ZIP:', error);\n        return;\n      }\n    }\n\n    // Save image files to ZIP\n    if (imageResources.length > 0) {\n      const imgFolder = zip.folder('imgs');\n      try {\n        for (const { url, fileName } of imageResources) {\n          const base64Image = await getBase64Media(url);\n          imgFolder.file(fileName, base64Image, { base64: true });\n        }\n      } catch (error) {\n        console.error('Error adding images to ZIP:', error);\n        return;\n      }\n    }\n\n    // Save SVG files to ZIP\n    if (vectorResources.length > 0) {\n      const svgFolder = zip.folder('svgs');\n      try {\n        for (const { content, fileName } of vectorResources) {\n          svgFolder.file(fileName, content);\n        }\n      } catch (error) {\n        console.error('Error adding SVGs to ZIP:', error);\n        return;\n      }\n    }\n\n    // Save video files to ZIP\n    if (videoResources.length > 0) {\n      const videoFolder = zip.folder('vids');\n      try {\n        for (const { url, fileName } of videoResources) {\n          const base64Video = await getBase64Media(url);\n          videoFolder.file(fileName, base64Video, { base64: true });\n        }\n      } catch (error) {\n        console.error('Error adding videos to ZIP:', error);\n        return;\n      }\n    }\n\n    // Iterate over each library\n    let scriptTags = '';\n    let cssTags = '';\n    project.libraries.forEach(library => {\n      if (library.endsWith('.js')) {\n        scriptTags += `<script src=\"${library}\"></script>\\n    `;\n      } else {\n        // Assuming it's a Google font\n        cssTags += `<link href=\"${library}\" rel=\"stylesheet\">\\n    `;\n      }\n    });\n  \n    // Add index.html\n    const testHtmlContent = `<!DOCTYPE html>\n    <html lang=\"en\" data-theme=\"${project.dark ? 'dark' : 'light'}\">\n      <head>\n        <title>${project.title}</title>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no, interactive-widget=resizes-content\">\n        <meta name=\"description\" content=\"${project.description}\">\n        <meta name=\"author\" content=\"${project.author}\">\n        <meta name=\"mobile-web-app-capable\" content=\"yes\">\n        <meta name=\"application-name\" content=\"${project.title}\">\n        <meta name=\"theme-color\" content=\"hsl(205deg 18.75% 87.45%)\">\n        <meta name=\"apple-mobile-web-app-title\" content=\"${project.title}\">\n        <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n        <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n        <meta name=\"msapplication-starturl\" content=\"./index.html\">\n        <meta name=\"msapplication-navbutton-color\" content=\"hsl(205deg 18.75% 87.45%)\">\n        <meta property=\"og:url\" content=\"${project.url}\" />\n        <meta property=\"og:type\" content=\"website\" />\n        <meta property=\"og:title\" content=\"${project.title}\" />\n        <meta property=\"og:description\" content=\"${project.description}\" />\n        <link rel=\"manifest\" href=\"manifest.json\">\n        <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"imgs/logo.svg\">\n        <link rel=\"icon\" type=\"image/svg+xml\" href=\"imgs/logo.svg\" />\n        <link rel=\"apple-touch-icon\" href=\"imgs/logo.svg\">\n        ${cssTags}\n        <style>${css}</style>\n      </head>\n      <body>\n        \n${json2html(project.html)}\n${scriptTags ? scriptTags : ''}\n\n      </body>\n    </html>`;\n        zip.file('test.html', testHtmlContent);\n    const indexHtmlContentCompiled = `<!DOCTYPE html>\n<html lang=\"en\" data-theme=\"${project.dark ? 'dark' : 'light'}\">\n  <head>\n    <title>${project.title}</title>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no, interactive-widget=resizes-content\">\n    <meta name=\"description\" content=\"${project.description}\">\n    <meta name=\"author\" content=\"${project.author}\">\n    <meta name=\"mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"application-name\" content=\"${project.title}\">\n    <meta name=\"theme-color\" content=\"hsl(205deg 18.75% 87.45%)\">\n    <meta name=\"apple-mobile-web-app-title\" content=\"${project.title}\">\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n    <meta name=\"msapplication-starturl\" content=\"./index.html\">\n    <meta name=\"msapplication-navbutton-color\" content=\"hsl(205deg 18.75% 87.45%)\">\n    <meta property=\"og:url\" content=\"${project.url}\" />\n    <meta property=\"og:type\" content=\"website\" />\n    <meta property=\"og:title\" content=\"${project.title}\" />\n    <meta property=\"og:description\" content=\"${project.description}\" />\n    <link rel=\"manifest\" href=\"manifest.json\">\n    <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"imgs/logo.svg\">\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"imgs/logo.svg\" />\n    <link rel=\"apple-touch-icon\" href=\"imgs/logo.svg\">\n    ${css4html}${project.meta ? `${project.meta}\\n  ` : ''}${scriptTags ? scriptTags : ''}\n  </head>\n  <body>\n    \n${html}\n\n${(project.pwa ? swinit : '')}\n\n  </body>\n</html>`;\n    zip.file('index.html', indexHtmlContentCompiled);\n\n    // Generate the ZIP file\n    const blob = await zip.generateAsync({ type: 'blob' });\n    saveAs(blob, `${project.name.toLowerCase().split(' ').join('')}.zip`);\n    \n    // Clear all arrays after saving\n    imageResources.length = audioResources.length = vectorResources.length = videoResources.length = 0;\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    // Clean up scripts after use\n    const scriptsToRemove = [\n      'libraries/jszip/FileSaver.min.js',\n      'libraries/jszip/jszip.min.js'\n    ];\n\n    removeScripts(scriptsToRemove);\n  }\n}\nasync function share() {\n  try {\n    if (navigator.onLine) {\n      const shareProject = {\n        title: project.title,\n        description: project.description,\n        head: project.meta,\n        html: `<!-- This site was made with ${app.name}: ${app.summary} -->\n        \n${json2html(project.html)}`,\n        html_pre_processor: \"none\",\n        css: `/* This site was made with ${app.name}: ${app.summary} */\n\n${json2css(project.css)}`,\n        css_pre_processor: \"none\",\n        css_external: project.libraries.filter(lib => lib.endsWith('.css')).join(';'),\n        css_starter: \"neither\",\n        css_prefix: \"neither\",\n        js_external: project.libraries.filter(lib => lib.endsWith('.js')).join(';'),\n        editors: '111',\n        layout: 'left'\n      };\n\n      // Stringify the JSON object and escape quotes\n      const JSONstring = JSON.stringify(shareProject)\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&apos;\");\n\n      // Create form element\n      const form = `\n        <form action=\"https://codepen.io/pen/define\" method=\"POST\" target=\"_blank\">\n          <input type=\"hidden\" name=\"data\" value='${JSONstring}'>\n          <input type=\"image\" src=\"http://s.cdpn.io/3/cp-arrow-right.svg\" width=\"40\" height=\"40\" value=\"Create New Pen with Prefilled Data\" class=\"codepen-mover-button\">\n        </form>`;\n\n      // Append form to the document body and submit\n      document.body.insertAdjacentHTML('beforeend', form);\n      document.querySelector('form').submit();\n      document.querySelector('form').remove();\n    } else {\n      Modal.render({\n        title: \"Unable to share!\",\n        content: `<div class=\"p-4 text-center\">No internet connection!</div>`\n      });\n    }\n  } catch (error) {\n    console.error('Error sharing project:', error);\n  }\n}\n\nasync function screenshot() {\n  const iframe = document.getElementById('iframe');\n  const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n\n  try {\n    await loadScripts([\n      \"libraries/html2canvas/html2canvas.min.js\",\n      \"libraries/jszip/FileSaver.min.js\"\n    ]);\n    \n    html2canvas(iframeDocument.documentElement).then(canvas => {\n      const context = canvas.getContext('2d');\n      const videoElements = iframeDocument.getElementsByTagName('video');\n\n      // Draw video elements\n      Array.from(videoElements).forEach(video => {\n        const { currentTime, paused, volume } = video;\n\n        // Set volume to 0 for the screenshot process\n        video.volume = 0;\n\n        // Draw the video frame\n        if (!paused) video.pause();\n        context.drawImage(video, video.offsetLeft, video.offsetTop, video.clientWidth, video.clientHeight);\n\n        // Restore the original volume and playback state\n        video.volume = volume;\n        video.currentTime = currentTime;\n        if (!paused) video.play();\n      });\n\n      // Convert canvas to Blob\n      canvas.toBlob(blob => {\n        // Save the Blob using FileSaver.js\n        saveAs(blob, 'screenshot.png');\n      }, 'image/png');\n    }).catch(error => {\n      console.error('Error taking screenshot:', error);\n    });\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    // Clean up scripts after use\n    removeScript(\"../libraries/html2canvas/html2canvas.min.js\");\n    removeScript(\"../libraries/jszip/FileSaver.min.js\");\n  }\n}\nfunction renderPreview(forceRun = false) {\n  const iframe = document.getElementById('iframe');\n  if (!iframe) return;\n\n  let scriptTags = '';\n  let cssTags = '';\n  project.libraries.forEach(library => {\n    if (library.endsWith('.js')) {\n      scriptTags += `<script src=\"${library}\"></script>\\n    `;\n    } else if (library.endsWith('.css')) {\n      cssTags += `<link rel=\"stylesheet\" href=\"${library}\">\\n          `;\n    } else {\n      cssTags += `<link href=\"${library}\" rel=\"stylesheet\">\\n          `;\n    }\n  });\n\n  let css = json2css(project.css);\n\n  const iframeSrc = `<html lang=\"${project.lang}\" data-theme=\"${project.previewDark ? 'dark' : 'light'}\">\n  <head>\n    <title>${project.title}</title>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n    <meta name=\"description\" content=\"${project.description}\">\n    <meta name=\"author\" content=\"${project.author}\">\n    ${project.meta ? project.meta : ''}\n    ${cssTags}\n    <style>${css}</style>\n  </head>\n  <body>\n\n${json2html(project.html)}\n${scriptTags ? scriptTags : ''}\n\n  </body>\n</html>`;\n\n  // Create a new temporary iframe to compare\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(iframeSrc, 'text/html');\n  const idoc = iframe.contentDocument || iframe.contentWindow.document;\n\n  if (forceRun) {\n    iframe.setAttribute('srcdoc', iframeSrc);\n  } else {\n    diffNodes(idoc.documentElement, doc.documentElement);\n  }\n}\nfunction detectOperatingSystem() {\n  const userAgent = navigator.userAgent || navigator.platform;\n\n  // Check for Mac OS\n  const isMac = /Macintosh|MacIntel|MacPPC|Mac68K/.test(userAgent);\n\n  // Check for Windows\n  const isWindows = /Win32|Win64|Windows|WinCE/.test(userAgent);\n\n  // Check for Linux\n  const isLinux = /Linux/.test(userAgent) && !isWindows;\n\n  if (isMac) {\n    return 'Mac';\n  } else if (isWindows) {\n    return 'Windows';\n  } else if (isLinux) {\n    return 'Linux';\n  } else {\n    return 'unknown';\n  }\n}\n\n// Diffing algorithm to update ui when changes occur\nfunction diffNodes(oldNode, newNode) {\n  if (!oldNode || !newNode) {\n    return;\n  }\n\n  // Check for data-ignore attribute\n  if (oldNode.hasAttribute && oldNode.hasAttribute('data-ignore') || \n      newNode.hasAttribute && newNode.hasAttribute('data-ignore')) {\n    return;\n  }\n\n  // Check if nodes are iframe elements\n  if (oldNode.nodeName === 'IFRAME' && newNode.nodeName === 'IFRAME') {\n    const acceptableIframeAttributes = ['id', 'title', 'class', 'style', 'sandbox'];\n    // Compare acceptable attributes only\n    acceptableIframeAttributes.forEach(attr => {\n      if (oldNode.getAttribute(attr) !== newNode.getAttribute(attr)) {\n        oldNode.setAttribute(attr, newNode.getAttribute(attr));\n      }\n    });\n\n    const oldSrcdoc = oldNode.getAttribute('srcdoc');\n    const newSrcdoc = newNode.getAttribute('srcdoc');\n    // Ignore srcdoc attribute if it hasn't changed\n    if (oldSrcdoc === newSrcdoc) return;\n    return;\n  }\n\n  // If nodes are different types, replace the old node\n  if (oldNode.nodeName !== newNode.nodeName) {\n    oldNode.replaceWith(newNode.cloneNode(true));\n    // console.log('Different node names:', oldNode, newNode);\n    return;\n  }\n\n  // Diff the attributes of the nodes\n  if (oldNode.nodeType === Node.ELEMENT_NODE && newNode.nodeType === Node.ELEMENT_NODE) {\n    const oldAttributes = Array.from(oldNode.attributes);\n    const newAttributes = Array.from(newNode.attributes);\n\n    // Remove old attributes not present in the new node\n    oldAttributes.forEach(attr => {\n      if (!newNode.hasAttribute(attr.name)) {\n        oldNode.removeAttribute(attr.name);\n      }\n    });\n\n    // Add or update attributes from the new node\n    newAttributes.forEach(attr => {\n      if (oldNode.getAttribute(attr.name) !== attr.value) {\n        oldNode.setAttribute(attr.name, attr.value);\n      }\n    });\n  }\n\n  const oldChildren = Array.from(oldNode.childNodes);\n  const newChildren = Array.from(newNode.childNodes);\n\n  // Update or remove existing child nodes\n  oldChildren.forEach((oldChild, index) => {\n    const newChild = newChildren[index];\n    if (!newChild) {\n      oldNode.removeChild(oldChild);\n      return;\n    }\n    // Special handling for <title> elements\n    if (oldNode.tagName === 'TITLE' || oldNode.tagName === 'STYLE' && oldNode.textContent !== newNode.textContent) {\n      oldNode.textContent = newNode.textContent;\n    } else if (oldChild.nodeType === Node.TEXT_NODE && oldChild.nodeValue !== newChild.nodeValue) {\n      oldChild.nodeValue = newChild.nodeValue;\n    }\n    diffNodes(oldChild, newChild);\n  });\n\n  // Add new child nodes\n  newChildren.slice(oldChildren.length).forEach(newChild => {\n    oldNode.appendChild(newChild.cloneNode(true));\n  });\n}\n\n// Make functions available in global space\nwindow.Modal = Modal;\nwindow.attributesModal = attributesModal;\nwindow.addAttribute = addAttribute;\nwindow.emptyStorage = emptyStorage;\nwindow.updateVersionPart = updateVersionPart;\nwindow.commandPalette = commandPalette;\nwindow.renameRootVariable = renameRootVariable;\nwindow.addStyle = addStyle;\nwindow.addStylePropModal = addStylePropModal;\nwindow.renameStyleTarget = renameStyleTarget;\nwindow.deleteStyleTarget = deleteStyleTarget;\nwindow.addBreakpoint = addBreakpoint;\nwindow.renameBreakpointKey = renameBreakpointKey;\nwindow.deleteBreakpointKey = deleteBreakpointKey;\nwindow.addAnimation = addAnimation;\nwindow.addKeyFrame = addKeyFrame;\nwindow.renameAnimation = renameAnimation;\nwindow.deleteAnimation = deleteAnimation;\nwindow.renameKeyFrame = renameKeyFrame;\nwindow.deleteKeyFrame = deleteKeyFrame;\nwindow.deleteStyleProp = deleteStyleProp;\nwindow.clearStyles = clearStyles;\nwindow.styleModal = styleModal;\nwindow.addPseudo = addPseudo;\n\nwindow.html2json = html2json;\nwindow.json2html = json2html;\nwindow.saveState = saveState;\nwindow.undo = undo;\nwindow.redo = redo;\nwindow.customCode = customCode;\nwindow.removeScript = removeScript;\nwindow.removeScripts = removeScripts;\nwindow.loadScript = loadScript;\nwindow.loadScripts = loadScripts;\nwindow.executeQuery = executeQuery;\nwindow.toggleCollapse = toggleCollapse;\nwindow.foldAllLayers = foldAllLayers;\nwindow.hideAllLayers = hideAllLayers;\nwindow.toggleVisible = toggleVisible;\nwindow.selectedBlock = selectedBlock;\nwindow.collectSelectedIDs = collectSelectedIDs;\nwindow.clearAllSelections = clearAllSelections;\nwindow.clearSelection = clearSelection;\nwindow.findLayerById = findLayerById;\nwindow.canAcceptChildren = canAcceptChildren;\nwindow.addBlock = addBlock;\nwindow.deleteLayers = deleteLayers;\nwindow.removeLayerById = removeLayerById;\nwindow.cloneLayers = cloneLayers;\nwindow.cloneLayerObject = cloneLayerObject;\nwindow.cutLayers = cutLayers;\nwindow.copyLayers = copyLayers;\nwindow.pasteLayers = pasteLayers;\nwindow.removeAttributeFromLayers = removeAttributeFromLayers;\nwindow.removeProp = removeProp;\nwindow.emptyChildren = emptyChildren;\nwindow.updateElement = updateElement;\nwindow.updateImageMedia = updateImageMedia;\nwindow.updateAudioMedia = updateAudioMedia;\nwindow.updateSvgMedia = updateSvgMedia;\nwindow.updateMediaSource = updateMediaSource;\nwindow.addAttribute = addAttribute;\nwindow.copyToClipboard = copyToClipboard;\nwindow.collectComponents = collectComponents;\nwindow.addComponent = addComponent;\nwindow.deleteComponent = deleteComponent;\n\nwindow.generateId = generateId;\nwindow.resizeCanvas = resizeCanvas;\nwindow.rotateCanvas = rotateCanvas;\nwindow.getIFrameClientSize = getIFrameClientSize;\n\nwindow.handleLogoChange = handleLogoChange;\nwindow.fileToBase64 = fileToBase64;\nwindow.newProject = newProject;\nwindow.importJSON = importJSON;\nwindow.importProject = importProject;\nwindow.getFileNameAndType = getFileNameAndType;\nwindow.fetchResources = fetchResources;\nwindow.getBase64Media = getBase64Media;\nwindow.downloadJSON = downloadJSON;\nwindow.getFile = getFile;\nwindow.downloadProject = downloadProject;\nwindow.share = share;\nwindow.screenshot = screenshot;\nwindow.renderPreview = renderPreview;\nwindow.detectOperatingSystem = detectOperatingSystem;\n\n// Once dom has loaded init functions\ndocument.addEventListener('DOMContentLoaded', function() {\n  window.onload = () => {\n    App.render('#app');\n    getIFrameClientSize();\n    \n    // Set the state to true when the Command/Shift key is down\n    window.onkeydown = e => {\n      const activeElement = document.activeElement;\n    \n      // Check if the active element is not an input, textarea, or contenteditable\n      const isNonEditable = !['INPUT', 'TEXTAREA'].includes(activeElement.tagName) &&\n                            activeElement.getAttribute('contenteditable') !== 'true';\n    \n      if (isNonEditable) {\n        const os = detectOperatingSystem();\n        const isCmdPressed = os === 'Mac' && e.metaKey;\n        const isCtrlPressed = os !== 'Mac' && e.ctrlKey;\n        const isModifierPressed = isCmdPressed || isCtrlPressed;\n        const isShiftPressed = e.shiftKey || e.key === \"Shift\";\n        const isZKeyPressed = e.key.toLowerCase() === 'z';\n    \n        // Handle shortcut actions\n        const handleShortcut = action => {\n          e.preventDefault();\n          action();\n          return false;\n        };\n\n        // Update key states\n        data.ctrlKey = isCtrlPressed;\n        data.cmdKey = isCmdPressed;\n    \n        if (isModifierPressed) {\n          if (isZKeyPressed) {\n            if (isShiftPressed) {\n              return handleShortcut(redo);\n            }\n            return handleShortcut(undo);\n          }\n    \n          if (e.key.toLowerCase() === 'd') return handleShortcut(cloneLayers);\n          if (e.key.toLowerCase() === 'x') return handleShortcut(cutLayers);\n          if (e.key.toLowerCase() === 'c') return handleShortcut(copyLayers);\n          if (e.key.toLowerCase() === 'v') return handleShortcut(pasteLayers);\n          if (isShiftPressed && e.key.toLowerCase() === 'p') return handleShortcut(commandPalette);\n          if (isShiftPressed && isModifierPressed && e.key.toLowerCase() === 'a') return handleShortcut(clearAllSelections);\n          if (isShiftPressed && isModifierPressed) return collectSelectedIDs(project.html);\n        }\n    \n        // Update shift key state\n        if (isShiftPressed) data.shiftKey = true;\n    \n        // Handle Escape key to close dialogs\n        if (e.key === 'Escape') {\n          e.preventDefault();\n          const dialog = document.querySelector('dialog[open]');\n          if (dialog) dialog.querySelector('header > button').onclick();\n          return false;\n        }\n      }\n    \n      // Handle Escape key in editable elements\n      if (['INPUT', 'TEXTAREA'].includes(activeElement.tagName) ||\n          activeElement.getAttribute('contenteditable') === 'true') {\n        if (e.key === 'Escape') {\n          e.preventDefault();\n          const dialog = document.querySelector('dialog[open]');\n          if (dialog) dialog.querySelector('header > button').onclick();\n          activeElement.blur();\n          return false;\n        }\n      }\n    };\n\n    // Set the state to false when the Command/Shift key is up\n    window.onkeyup = e => {\n      e.key === \"Shift\" && (data.shiftKey = false);\n      if (e.key === \"Control\" || e.key === \"ControlLeft\" || e.key === \"ControlRight\") data.ctrlKey = false;\n      if (e.key === \"Command\" || e.key === \"Meta\") data.cmdKey = false;\n    }\n\n    if (localStorage.getItem('Polyrise')) {\n      importJSON(JSON.parse(localStorage.getItem('Polyrise')));\n      setTimeout(() => renderPreview(true), 100);\n    }\n    collectSelectedIDs(project.html);\n    collectComponents(project.html);\n    window.onresize = () => getIFrameClientSize();\n  };\n});"],
  "mappings": "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",
  "names": ["onChange", "target", "callback", "path", "createProxy", "obj", "property", "value", "fullPath", "oldValue", "result", "app", "p", "d", "icons", "SidebarIconCSS", "navIconCSS", "modalIconCSS", "project", "newValue", "App", "string", "getIFrameClientSize", "renderPreview", "data", "clearAllSelections", "collectSelectedIDs", "LeftMenubar", "buttonSize", "Menu", "menuDialog", "Settings", "settingsHTML", "library", "index", "attributesModal", "globalAttributes", "eventAttributes", "commonEventGroup", "dragDropEventGroup", "eventGroups", "tagEventGroups", "combineEventGroups", "groups", "group", "generateEventMappings", "elementEventMappings", "combinedEvents", "tag", "specificAttributes", "areCommonLayerTags", "layers", "firstTag", "layer", "selectedLayers", "data", "id", "findLayerById", "project", "detectCommonLayerTags", "renderAttributeButtons", "attributes", "attr", "specificAttributesForTag", "attrBtns", "Modal", "addAttribute", "attrs", "q", "saveState", "attribute", "key", "value", "s", "LayerTree", "renderLayer", "name", "children", "state", "hasChildren", "isVisible", "icons", "child", "Inspector", "findCommonLayerTags", "findCommonAttributes", "attributeCounts", "prop", "count", "buttonItemClass", "buttonAddItemClass", "RenameOrDeleteButtonClass", "selectClass", "selectStyle", "inputClass", "inputStyle", "textareaClass", "textareaStyle", "mediaClass", "languages", "sizeOptions", "booleanAttributes", "inputTypes", "numberAttributes", "stringAttributes", "commonLayerTag", "commonAttributes", "cssFixedValueProperties", "cssRangedValueProperties", "boxElements", "textElements", "breakElements", "renderBooleanAttribute", "renderInput", "type", "min", "max", "step", "renderTextarea", "generatePreviewSize", "option", "lang", "generateRootVariablesSection", "generateStylesSection", "targets", "styles", "activeStyle", "layerKey", "obj", "dropdown", "buttonClass", "processStyles", "stylesObject", "selectorPrefix", "detect", "selector", "predefinedValues", "options", "val", "valueParts", "units", "part", "index", "numericValue", "selectElement", "unit", "rangeElement", "generateBreakpointsSection", "generateBreakpointStylesSection", "styleKey", "generatePseudosSection", "generateAnimationsSection", "generateAnimationPropertySection", "content", "keyframes", "activeKeyframe", "generateStylePropertiesSection", "stylesObj", "generateAttributesSection", "attributeTag", "svgImage", "element", "elm", "json2html", "propKey", "lowerPropKey", "nodeType", "numAttr", "string", "inputType", "numTypes", "numType", "editorNav", "large", "title", "CloseLabel", "ConfirmLabel", "onLoad", "onClose", "onConfirm", "hClass", "html", "modal", "timesBtn", "closeBtn", "confirmBtn", "Blocks", "btnClass", "blockItem", "componentItem", "block", "component", "App", "container", "size", "viewportWidth", "viewportHeight", "previewElm", "width", "height", "LeftMenubar", "Menu", "Settings", "doc", "renderPreview", "currentDoc", "newDoc", "diffNodes", "emptyStorage", "c", "names", "registrations", "registration", "updateVersionPart", "versionParts", "commandPalette", "commands", "buttonsHtml", "command", "guide", "query", "executeQuery", "renameRootVariable", "modalContent", "addStyle", "generateId", "addStylePropModal", "defaultValues", "rootVariables", "fixedValueProperties", "rangedValueProperties", "rootVariableOptions", "fixedValuePropertyOptions", "rangedValuePropertyOptions", "propertyTypeSelect", "unitSelect", "unitSection", "updatePropertyDetails", "selectedType", "propertyTypeInput", "defaultValue", "finalValue", "noUnit", "propertyType", "renameStyleTarget", "target", "deleteStyleTarget", "clearStyles", "addBreakpoint", "renameBreakpointKey", "deleteBreakpointKey", "addAnimation", "renameAnimation", "deleteAnimation", "addKeyFrame", "renameKeyFrame", "deleteKeyFrame", "deleteStyleProp", "id", "prop", "e", "detect", "obj", "project", "data", "saveState", "App", "renderPreview", "clearStyles", "layers", "query", "callback", "found", "layer", "styleModal", "currentValue", "cssFixedValueProperties", "cssRangedValueProperties", "detected", "modalContent", "valueParts", "min", "max", "step", "unit", "options", "val", "Modal", "newValue", "newUnit", "finalValue", "addPseudo", "selector", "pseudo", "pseudoSelector", "pseudoStyles", "styles", "acc", "rule", "property", "value", "s", "existingPseudo", "html2json", "input", "elementToJson", "element", "boxElements", "data", "textElements", "noTextElements", "tagName", "obj", "generateId", "props", "attr", "child", "doc", "json2html", "jsonToElement", "json", "renderElement", "html", "key", "value", "escapeHtml", "childElement", "text", "map", "m", "beautifyHtml", "tab", "result", "indent", "css2json", "css", "removeComments", "selectorRegex", "mediaQueryRegex", "keyframesRegex", "processSelector", "selector", "properties", "target", "prop", "varName", "varValue", "part", "pseudoMatch", "baseSelector", "pseudo", "currentTarget", "pseudoObj", "property", "processRules", "cssRules", "match", "processKeyframes", "keyframesName", "keyframesRules", "keyframes", "segment", "keyframeName", "propertiesPart", "p", "mediaMatch", "mediaCondition", "mediaRules", "mediaTarget", "cssWithoutMedia", "keyframesMatch", "json2css", "styles", "symbol", "semicolon", "openBrace", "closeBrace", "containCssVar", "processStyles", "style", "indentLevel", "innerCss", "variables", "baseStyles", "pseudos", "children", "variable", "pseudoSelector", "pseudoStyles", "childSelector", "childStyle", "processAnimations", "animations", "animationCss", "animationName", "animation", "keyframe", "processBreakpoints", "breakpoints", "breakpointCss", "breakpoint", "classId", "mergeCSSJSON", "existingJSON", "newJSON", "selector", "animationName", "breakpoint", "saveState", "currentState", "project", "data", "stateString", "undo", "previousState", "redo", "nextState", "customCode", "Modal", "selection", "code", "addBlock", "minifyCSS", "css2json", "removeScript", "src", "script", "removeScripts", "scripts", "loadScript", "scriptUrl", "resolve", "reject", "scriptElement", "loadScripts", "srcArray", "executeQuery", "queriesString", "replaceSelection", "clearAllSelections", "queries", "q", "handleSpecialCommand", "command", "foldAllLayers", "hideAllLayers", "emptyChildren", "matchesPseudoClass", "layer", "pseudoClass", "index", "total", "selectLayersRecursive", "layers", "query", "callback", "activeCalls", "processLayers", "match", "selector", "pseudoClassPart", "tag", "classNames", "attribute", "value", "attributeMatch", "classMatches", "matchResult", "layerClasses", "className", "data", "targetChildrenOfSelections", "selectedLayers", "id", "findLayerById", "project", "children", "group", "processQuery", "equalsIndex", "deleteLayers", "currentIDs", "cutLayers", "pasteLayers", "clearStyles", "renderPreview", "saveState", "toggleCollapse", "layerId", "targetLayer", "parentLayer", "findLayerAndParent", "parent", "i", "applyCollapseStateToSiblings", "collapseState", "newCollapseState", "App", "state", "collapseLayer", "child", "hideLayer", "toggleVisible", "applyVisibilityToSiblings", "visibilityState", "newVisibilityState", "selectedBlock", "applySelectionToSiblings", "selectionState", "childIndex", "newSelectionState", "lastSelectedLayerId", "foundLayer", "searchLayer", "j", "collectSelectedIDs", "clearSelection", "findLayerById", "id", "layers", "parent", "layer", "found", "canAcceptChildren", "addBlock", "html", "saveState", "newBlocks", "html2json", "data", "result", "project", "newBlock", "clearAllSelections", "renderPreview", "deleteLayers", "removeLayerById", "index", "l", "child", "cloneLayers", "clonedLayer", "cloneLayerObject", "rootLayer", "generateId", "cutLayers", "callback", "copyLayers", "pasteLayers", "pastedLayers", "removeAttributeFromLayers", "property", "removeProp", "key", "Modal", "emptyChildren", "updateElement", "propKey", "value", "updateImageMedia", "type", "target", "modalContent", "icons", "searchField", "handleSearch", "results", "searchOpenverseImage", "displayResults", "resultsContainer", "query", "url", "response", "updateAudioMedia", "uniqueId", "audioHTML", "json2html", "searchInput", "searchBtn", "searchOpenverseAudio", "audio", "src", "obj", "updateMediaSource", "event", "element", "file", "svgCode", "base64String", "fileToBase64", "error", "updateSvgMedia", "title", "display", "elm", "copyToClipboard", "text", "collectComponents", "existingNames", "comp", "clone", "addComponent", "newHtml", "deleteComponent", "resizeCanvas", "size", "getIFrameClientSize", "rotateCanvas", "iframe", "width", "height", "fadeTimeout", "viewportWidth", "viewportHeight", "scale", "handleLogoChange", "resolve", "reject", "reader", "importJSON", "newProject", "emptyStorage", "importProject", "input", "getFileNameAndType", "fileName", "fileExtension", "fileType", "fetchResources", "isBase64", "str", "getBase64FileType", "mimeMatch", "mimeType", "mimeTypeToExtension", "getFileName", "getBase64FileName", "fileCounter", "extractBackgroundImageUrls", "css", "urls", "regex", "match", "imageResources", "doc", "body", "audioResources", "vectorResources", "videoResources", "img", "srcset", "source", "svg", "video", "json2css", "stylesObj", "getBase64Media", "mediaUrl", "blob", "downloadJSON", "loadScript", "blob", "project", "error", "removeScript", "getFile", "url", "response", "minifyCSS", "source", "minified", "downloadProject", "loadScripts", "iframe", "idoc", "html", "stylesObj", "imageResources", "audioResources", "vectorResources", "videoResources", "fetchResources", "zip", "kodeWeaveProject", "json2html", "json2css", "licenseStr", "READMEStr", "app", "cssContent", "cssBuildItems", "cssBuildItemsString", "TailwindNoReset", "promises", "library", "data", "parts", "name", "cssBuild", "css4html", "twFound", "tailwindDirectives", "tailwindStyles", "cssImport", "css", "postcssConfig", "npmJSON", "base64Logo", "getBase64Media", "logoType", "logoFileName", "sizes", "icons", "size", "canvas", "ctx", "img", "base64Image", "swinit", "swjs", "audioFolder", "fileName", "base64Audio", "imgFolder", "svgFolder", "content", "videoFolder", "base64Video", "scriptTags", "cssTags", "testHtmlContent", "indexHtmlContentCompiled", "removeScripts", "share", "shareProject", "lib", "form", "Modal", "screenshot", "iframeDocument", "context", "videoElements", "video", "currentTime", "paused", "volume", "renderPreview", "forceRun", "iframeSrc", "doc", "diffNodes", "detectOperatingSystem", "userAgent", "isMac", "isWindows", "isLinux", "oldNode", "newNode", "attr", "oldSrcdoc", "newSrcdoc", "oldAttributes", "newAttributes", "oldChildren", "newChildren", "oldChild", "index", "newChild", "attributesModal", "addAttribute", "emptyStorage", "updateVersionPart", "commandPalette", "renameRootVariable", "addStyle", "addStylePropModal", "renameStyleTarget", "deleteStyleTarget", "addBreakpoint", "renameBreakpointKey", "deleteBreakpointKey", "addAnimation", "addKeyFrame", "renameAnimation", "deleteAnimation", "renameKeyFrame", "deleteKeyFrame", "deleteStyleProp", "clearStyles", "styleModal", "addPseudo", "html2json", "saveState", "undo", "redo", "customCode", "executeQuery", "toggleCollapse", "foldAllLayers", "hideAllLayers", "toggleVisible", "selectedBlock", "collectSelectedIDs", "clearAllSelections", "clearSelection", "findLayerById", "canAcceptChildren", "addBlock", "deleteLayers", "removeLayerById", "cloneLayers", "cloneLayerObject", "cutLayers", "copyLayers", "pasteLayers", "removeAttributeFromLayers", "removeProp", "emptyChildren", "updateElement", "updateImageMedia", "updateAudioMedia", "updateSvgMedia", "updateMediaSource", "copyToClipboard", "collectComponents", "addComponent", "deleteComponent", "generateId", "resizeCanvas", "rotateCanvas", "getIFrameClientSize", "handleLogoChange", "fileToBase64", "newProject", "importJSON", "importProject", "getFileNameAndType", "App", "activeElement", "os", "isCmdPressed", "isCtrlPressed", "isModifierPressed", "isShiftPressed", "isZKeyPressed", "handleShortcut", "action", "dialog"]
}
